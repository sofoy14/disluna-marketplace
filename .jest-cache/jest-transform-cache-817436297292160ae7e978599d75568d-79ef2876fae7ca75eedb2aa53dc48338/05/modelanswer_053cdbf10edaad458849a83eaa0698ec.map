{"version":3,"names":["cov_1ennhu65p4","actualCoverage","s","MARKDOWN_LINK_REGEX","URL_REGEX","HEADING_KEYWORDS","NUMBER_PREFIX_REGEX","normalizeSpacing","value","f","replace","trim","removeDiacritics","normalize","normalizeForMatch","toLowerCase","sanitizeEntryLine","line","looksLikeHeading","some","keyword","b","startsWith","looksLikeCitationLine","trimmed","normalized","test","length","includes","trimTrailingEmptyLines","lines","copy","pop","determineSource","type","undefined","determineType","extractIssuedAt","text","match","buildCitation","index","workingLine","title","url","markdownMatch","exec","urlMatch","source","issuedAt","description","id","normalizeBibliographyItems","items","map","item","dedupeCitations","seen","Map","forEach","key","has","set","Array","from","values","citation","splitInlineCitations","colonIndex","indexOf","tail","slice","split","segment","filter","collectSectionAfterHeading","headingIndex","endIndex","i","raw","bibliographyLines","before","after","citations","Boolean","remainder","collectTrailingCitations","startIndex","collecting","extractCitationsFromContent","content","citationLines","inlineCitations","inlineParts","remainderLines","join","exports","parseModelAnswer","rawContent","options","safeContent","backendCitations","citationsFromBackend","parsedCitations","uniqueCitations","outputText"],"sources":["C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\parsers\\model-answer.ts"],"sourcesContent":["import { BibliographyItem } from \"@/types/chat-message\"\nimport { ModelAnswer, NormalizedCitation } from \"@/types/model-answer\"\n\ntype ParseModelAnswerOptions = {\n  citationsFromBackend?: BibliographyItem[]\n}\n\nconst MARKDOWN_LINK_REGEX = /\\[([^\\]]+)\\]\\((https?:\\/\\/[^\\s)]+)\\)/i\nconst URL_REGEX = /(https?:\\/\\/[^\\s)]+)/i\nconst HEADING_KEYWORDS = [\n  \"bibliografia\",\n  \"bibliografia - fuentes oficiales colombianas\",\n  \"bibliography\",\n  \"referencias\",\n  \"referencias bibliograficas\",\n  \"fuentes consultadas\",\n  \"fuentes utilizadas\",\n  \"fuentes citadas\",\n  \"sources\",\n  \"bibliografia consultada\"\n]\n\nconst NUMBER_PREFIX_REGEX = /^\\s*(?:[-*]|[\\d]+[\\])\\.:])\\s*/\n\nconst normalizeSpacing = (value: string) =>\n  value\n    .replace(/\\r\\n/g, \"\\n\")\n    .replace(/\\n{3,}/g, \"\\n\\n\")\n    .trim()\n\nconst removeDiacritics = (value: string) =>\n  value.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\")\n\nconst normalizeForMatch = (value: string) =>\n  removeDiacritics(value)\n    .toLowerCase()\n    .replace(/[*_`~>]/g, \"\")\n    .trim()\n\nconst sanitizeEntryLine = (line: string) => line.replace(NUMBER_PREFIX_REGEX, \"\").trim()\n\nconst looksLikeHeading = (line: string) =>\n  HEADING_KEYWORDS.some(keyword => line === keyword || line.startsWith(`${keyword} `))\n\nconst looksLikeCitationLine = (line: string) => {\n  const trimmed = line.trim()\n  if (!trimmed) return false\n\n  const normalized = normalizeForMatch(trimmed)\n\n  if (URL_REGEX.test(trimmed)) return true\n  if (/^\\s*[-*]/.test(trimmed)) return true\n  if (/^\\s*\\d+[\\]\\).:-]/.test(trimmed)) return true\n  if (normalized.length <= 180) {\n    if (normalized.includes(\"sentencia\")) return true\n    if (normalized.includes(\"ley\")) return true\n    if (normalized.includes(\"decreto\")) return true\n    if (normalized.includes(\"articulo\")) return true\n    if (normalized.includes(\"resolucion\")) return true\n    if (normalized.includes(\"acuerdo\")) return true\n    if (normalized.includes(\"jurisprudencia\")) return true\n    if (normalized.includes(\"gaceta\")) return true\n    if (normalized.includes(\"codigo\")) return true\n  }\n\n  return false\n}\n\nconst trimTrailingEmptyLines = (lines: string[]) => {\n  const copy = [...lines]\n  while (copy.length > 0 && copy[copy.length - 1].trim() === \"\") {\n    copy.pop()\n  }\n  return copy\n}\n\nconst determineSource = (normalized: string, type?: string) => {\n  if (normalized.includes(\"corte constitucional\")) return \"Corte Constitucional\"\n  if (normalized.includes(\"corte suprema\")) return \"Corte Suprema de Justicia\"\n  if (normalized.includes(\"consejo de estado\")) return \"Consejo de Estado\"\n  if (normalized.includes(\"ramajudicial\") || normalized.includes(\"rama judicial\"))\n    return \"Rama Judicial\"\n  if (normalized.includes(\"congreso\")) return \"Congreso de la Republica\"\n  if (normalized.includes(\"senado\")) return \"Senado de la Republica\"\n  if (normalized.includes(\"camara de representantes\")) return \"Camara de Representantes\"\n  if (normalized.includes(\"ministerio\")) return \"Ministerio Colombiano\"\n  if (normalized.includes(\"superintendencia\")) return \"Superintendencia\"\n  if (normalized.includes(\"gaceta\")) return \"Gaceta del Congreso\"\n  if (normalized.includes(\"diario oficial\")) return \"Diario Oficial\"\n  if (normalized.includes(\"jep\")) return \"Jurisdiccion Especial para la Paz\"\n  if (normalized.includes(\"fiscalia\")) return \"Fiscalia General de la Nacion\"\n  if (normalized.includes(\"procuraduria\")) return \"Procuraduria General\"\n\n  if (type === \"ley\") return \"Congreso de la Republica\"\n  if (type === \"decreto\") return \"Gobierno Nacional\"\n  if (type === \"sentencia\" || type === \"jurisprudencia\") return \"Jurisdiccion Colombiana\"\n\n  return undefined\n}\n\nconst determineType = (normalized: string): string | undefined => {\n  if (normalized.includes(\"sentencia\") || normalized.includes(\"tutela\")) return \"sentencia\"\n  if (normalized.includes(\"jurisprudencia\")) return \"jurisprudencia\"\n  if (normalized.includes(\"ley\")) return \"ley\"\n  if (normalized.includes(\"decreto\")) return \"decreto\"\n  if (normalized.includes(\"articulo\") || normalized.includes(\"articulo\")) return \"articulo\"\n  if (normalized.includes(\"resolucion\")) return \"resolucion\"\n  if (normalized.includes(\"doctrina\")) return \"doctrina\"\n  return undefined\n}\n\nconst extractIssuedAt = (text: string) => {\n  const match = text.match(/\\b(19|20)\\d{2}\\b/)\n  return match ? match[0] : undefined\n}\n\nconst buildCitation = (line: string, index: number): NormalizedCitation => {\n  let workingLine = sanitizeEntryLine(line)\n  let title = workingLine\n  let url: string | undefined\n\n  const markdownMatch = MARKDOWN_LINK_REGEX.exec(workingLine)\n\n  if (markdownMatch) {\n    title = markdownMatch[1].trim()\n    url = markdownMatch[2].trim()\n    workingLine = workingLine.replace(MARKDOWN_LINK_REGEX, markdownMatch[1]).trim()\n  } else {\n    const urlMatch = URL_REGEX.exec(workingLine)\n    if (urlMatch) {\n      url = urlMatch[1].trim()\n      workingLine = workingLine.replace(urlMatch[0], \"\").replace(/\\(\\)/g, \"\").trim()\n      if (!title || title === urlMatch[0]) {\n        title = workingLine || url\n      }\n    }\n  }\n\n  if (!title) {\n    title = workingLine || `Fuente ${index + 1}`\n  }\n\n  const normalized = normalizeForMatch(workingLine)\n  const type = determineType(normalized)\n  const source = determineSource(normalized, type)\n  const issuedAt = extractIssuedAt(workingLine)\n\n  const description =\n    workingLine && workingLine.toLowerCase() !== title.toLowerCase()\n      ? workingLine\n      : undefined\n\n  return {\n    id: `citation-${index + 1}`,\n    title,\n    url,\n    type,\n    source,\n    description,\n    issuedAt\n  }\n}\n\nconst normalizeBibliographyItems = (items: BibliographyItem[]): NormalizedCitation[] =>\n  items.map((item, index) => ({\n    id: item.id ?? `citation-${index + 1}`,\n    title: item.title,\n    url: item.url,\n    type: item.type,\n    description: item.description,\n    source: item.type ? determineSource(normalizeForMatch(item.type)) : undefined\n  }))\n\nconst dedupeCitations = (items: NormalizedCitation[]): NormalizedCitation[] => {\n  const seen = new Map<string, NormalizedCitation>()\n\n  items.forEach(item => {\n    const key = (item.url ?? item.title).toLowerCase()\n    if (!seen.has(key)) {\n      seen.set(key, item)\n    }\n  })\n\n  return Array.from(seen.values()).map((citation, index) => ({\n    ...citation,\n    id: citation.id || `citation-${index + 1}`\n  }))\n}\n\nconst splitInlineCitations = (line: string) => {\n  const colonIndex = line.indexOf(\":\")\n  if (colonIndex === -1) return []\n\n  const tail = line.slice(colonIndex + 1).trim()\n  if (!tail) return []\n\n  return tail\n    .split(/(?:;|\\||\\s{2,})/)\n    .map(segment => segment.trim())\n    .filter(segment => segment.length > 0)\n}\n\nconst collectSectionAfterHeading = (lines: string[], headingIndex: number) => {\n  let endIndex = lines.length\n\n  for (let i = headingIndex + 1; i < lines.length; i++) {\n    const raw = lines[i]\n    const trimmed = raw.trim()\n    const normalized = normalizeForMatch(trimmed)\n\n    if (!trimmed) continue\n\n    if (/^#{1,6}\\s/.test(trimmed)) {\n      endIndex = i\n      break\n    }\n\n    if (looksLikeHeading(normalized)) {\n      endIndex = i\n      break\n    }\n\n    if (!looksLikeCitationLine(raw) && normalized.length > 0 && normalized.length < 20) {\n      endIndex = i\n      break\n    }\n  }\n\n  const bibliographyLines = lines.slice(headingIndex + 1, endIndex)\n  const before = trimTrailingEmptyLines(lines.slice(0, headingIndex))\n  const after = lines.slice(endIndex)\n\n  return {\n    citations: bibliographyLines.map(line => line.trim()).filter(Boolean),\n    remainder: [...before, ...after]\n  }\n}\n\nconst collectTrailingCitations = (lines: string[]) => {\n  let startIndex = lines.length\n  let collecting = false\n\n  for (let i = lines.length - 1; i >= 0; i--) {\n    const line = lines[i]\n    const trimmed = line.trim()\n\n    if (!trimmed) {\n      if (collecting) {\n        startIndex = i\n      }\n      continue\n    }\n\n    if (looksLikeCitationLine(line)) {\n      collecting = true\n      startIndex = i\n      continue\n    }\n\n    if (collecting) {\n      break\n    } else {\n      // stop scanning once we encounter non-citation line before starting collection\n      if (lines.length - i > 6) {\n        break\n      }\n    }\n  }\n\n  if (!collecting) {\n    return { citations: [] as string[], remainder: lines }\n  }\n\n  const citations = lines.slice(startIndex).map(line => line.trim()).filter(Boolean)\n  const remainder = trimTrailingEmptyLines(lines.slice(0, startIndex))\n\n  return { citations, remainder }\n}\n\nconst extractCitationsFromContent = (content: string) => {\n  if (!content.trim()) {\n    return { text: \"\", citationLines: [] as string[] }\n  }\n\n  const lines = content.replace(/\\r\\n/g, \"\\n\").split(\"\\n\")\n  let headingIndex = -1\n  let inlineCitations: string[] = []\n\n  for (let i = 0; i < lines.length; i++) {\n    const raw = lines[i]\n    const normalized = normalizeForMatch(raw)\n\n    if (!normalized) continue\n\n    if (looksLikeHeading(normalized)) {\n      headingIndex = i\n\n      const inlineParts = splitInlineCitations(raw)\n      if (inlineParts.length > 0) {\n        inlineCitations = inlineParts\n      }\n      break\n    }\n\n    if (normalized.includes(\"fuentes consultadas:\") || normalized.includes(\"bibliografia:\")) {\n      headingIndex = i\n\n      const inlineParts = splitInlineCitations(raw)\n      if (inlineParts.length > 0) {\n        inlineCitations = inlineParts\n      }\n      break\n    }\n  }\n\n  let citationLines: string[] = []\n  let remainderLines = lines\n\n  if (headingIndex >= 0) {\n    const { citations, remainder } = collectSectionAfterHeading(lines, headingIndex)\n    citationLines = citations\n    remainderLines = remainder\n  } else {\n    const { citations, remainder } = collectTrailingCitations(lines)\n    citationLines = citations\n    remainderLines = remainder\n  }\n\n  if (inlineCitations.length > 0) {\n    citationLines = [...inlineCitations, ...citationLines]\n  }\n\n  const text = normalizeSpacing(remainderLines.join(\"\\n\"))\n\n  return {\n    text,\n    citationLines\n  }\n}\n\nexport const parseModelAnswer = (\n  rawContent: string,\n  options?: ParseModelAnswerOptions\n): ModelAnswer => {\n  const safeContent = rawContent ?? \"\"\n  const { text, citationLines } = extractCitationsFromContent(safeContent)\n\n  const backendCitations = options?.citationsFromBackend\n    ? normalizeBibliographyItems(options.citationsFromBackend)\n    : []\n\n  const parsedCitations =\n    backendCitations.length > 0\n      ? backendCitations\n      : citationLines.map((line, index) => buildCitation(line, index))\n\n  const uniqueCitations = dedupeCitations(parsedCitations)\n\n  const outputText =\n    text.length > 0\n      ? text\n      : normalizeSpacing(safeContent)\n\n  return {\n    text: outputText,\n    citations: uniqueCitations.length > 0 ? uniqueCitations : undefined\n  }\n}\n\nexport { extractCitationsFromContent }\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}