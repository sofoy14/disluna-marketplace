cc59a86f83c34467fb867e29bfeca890
"use strict";

/* istanbul ignore next */
function cov_13vodomuh0() {
  var path = "C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\anti-hallucination\\anti-hallucination-system.ts";
  var hash = "c58c5f4f63eec54b661fe982357e35719fe336c6";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\anti-hallucination\\anti-hallucination-system.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 22
        },
        end: {
          line: 4,
          column: 1
        }
      },
      "1": {
        start: {
          line: 3,
          column: 4
        },
        end: {
          line: 3,
          column: 62
        }
      },
      "2": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 5,
          column: 62
        }
      },
      "3": {
        start: {
          line: 6,
          column: 0
        },
        end: {
          line: 6,
          column: 41
        }
      },
      "4": {
        start: {
          line: 7,
          column: 0
        },
        end: {
          line: 7,
          column: 70
        }
      },
      "5": {
        start: {
          line: 8,
          column: 17
        },
        end: {
          line: 8,
          column: 51
        }
      },
      "6": {
        start: {
          line: 14,
          column: 16
        },
        end: {
          line: 14,
          column: 53
        }
      },
      "7": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 19,
          column: 11
        }
      },
      "8": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 25,
          column: 56
        }
      },
      "9": {
        start: {
          line: 26,
          column: 8
        },
        end: {
          line: 26,
          column: 44
        }
      },
      "10": {
        start: {
          line: 27,
          column: 8
        },
        end: {
          line: 27,
          column: 67
        }
      },
      "11": {
        start: {
          line: 28,
          column: 8
        },
        end: {
          line: 28,
          column: 53
        }
      },
      "12": {
        start: {
          line: 29,
          column: 32
        },
        end: {
          line: 66,
          column: 1
        }
      },
      "13": {
        start: {
          line: 38,
          column: 33
        },
        end: {
          line: 42,
          column: 1
        }
      },
      "14": {
        start: {
          line: 67,
          column: 8
        },
        end: {
          line: 98,
          column: 9
        }
      },
      "15": {
        start: {
          line: 68,
          column: 38
        },
        end: {
          line: 78,
          column: 14
        }
      },
      "16": {
        start: {
          line: 79,
          column: 28
        },
        end: {
          line: 79,
          column: 82
        }
      },
      "17": {
        start: {
          line: 80,
          column: 27
        },
        end: {
          line: 80,
          column: 46
        }
      },
      "18": {
        start: {
          line: 81,
          column: 12
        },
        end: {
          line: 81,
          column: 55
        }
      },
      "19": {
        start: {
          line: 82,
          column: 12
        },
        end: {
          line: 82,
          column: 77
        }
      },
      "20": {
        start: {
          line: 83,
          column: 12
        },
        end: {
          line: 83,
          column: 76
        }
      },
      "21": {
        start: {
          line: 84,
          column: 12
        },
        end: {
          line: 84,
          column: 68
        }
      },
      "22": {
        start: {
          line: 85,
          column: 12
        },
        end: {
          line: 85,
          column: 76
        }
      },
      "23": {
        start: {
          line: 86,
          column: 12
        },
        end: {
          line: 86,
          column: 26
        }
      },
      "24": {
        start: {
          line: 89,
          column: 12
        },
        end: {
          line: 89,
          column: 71
        }
      },
      "25": {
        start: {
          line: 91,
          column: 12
        },
        end: {
          line: 97,
          column: 14
        }
      },
      "26": {
        start: {
          line: 104,
          column: 8
        },
        end: {
          line: 104,
          column: 60
        }
      },
      "27": {
        start: {
          line: 105,
          column: 8
        },
        end: {
          line: 105,
          column: 44
        }
      },
      "28": {
        start: {
          line: 106,
          column: 8
        },
        end: {
          line: 106,
          column: 53
        }
      },
      "29": {
        start: {
          line: 107,
          column: 35
        },
        end: {
          line: 138,
          column: 1
        }
      },
      "30": {
        start: {
          line: 113,
          column: 33
        },
        end: {
          line: 117,
          column: 1
        }
      },
      "31": {
        start: {
          line: 139,
          column: 8
        },
        end: {
          line: 162,
          column: 9
        }
      },
      "32": {
        start: {
          line: 140,
          column: 29
        },
        end: {
          line: 154,
          column: 14
        }
      },
      "33": {
        start: {
          line: 155,
          column: 28
        },
        end: {
          line: 155,
          column: 99
        }
      },
      "34": {
        start: {
          line: 156,
          column: 12
        },
        end: {
          line: 156,
          column: 91
        }
      },
      "35": {
        start: {
          line: 157,
          column: 12
        },
        end: {
          line: 157,
          column: 27
        }
      },
      "36": {
        start: {
          line: 160,
          column: 12
        },
        end: {
          line: 160,
          column: 78
        }
      },
      "37": {
        start: {
          line: 161,
          column: 12
        },
        end: {
          line: 161,
          column: 175
        }
      },
      "38": {
        start: {
          line: 168,
          column: 8
        },
        end: {
          line: 168,
          column: 56
        }
      },
      "39": {
        start: {
          line: 169,
          column: 33
        },
        end: {
          line: 193,
          column: 1
        }
      },
      "40": {
        start: {
          line: 176,
          column: 33
        },
        end: {
          line: 179,
          column: 1
        }
      },
      "41": {
        start: {
          line: 194,
          column: 8
        },
        end: {
          line: 221,
          column: 9
        }
      },
      "42": {
        start: {
          line: 195,
          column: 39
        },
        end: {
          line: 205,
          column: 14
        }
      },
      "43": {
        start: {
          line: 206,
          column: 28
        },
        end: {
          line: 206,
          column: 83
        }
      },
      "44": {
        start: {
          line: 207,
          column: 27
        },
        end: {
          line: 207,
          column: 46
        }
      },
      "45": {
        start: {
          line: 208,
          column: 12
        },
        end: {
          line: 208,
          column: 53
        }
      },
      "46": {
        start: {
          line: 209,
          column: 12
        },
        end: {
          line: 209,
          column: 92
        }
      },
      "47": {
        start: {
          line: 210,
          column: 12
        },
        end: {
          line: 210,
          column: 96
        }
      },
      "48": {
        start: {
          line: 211,
          column: 12
        },
        end: {
          line: 211,
          column: 97
        }
      },
      "49": {
        start: {
          line: 212,
          column: 12
        },
        end: {
          line: 212,
          column: 26
        }
      },
      "50": {
        start: {
          line: 215,
          column: 12
        },
        end: {
          line: 215,
          column: 67
        }
      },
      "51": {
        start: {
          line: 216,
          column: 12
        },
        end: {
          line: 220,
          column: 14
        }
      },
      "52": {
        start: {
          line: 227,
          column: 8
        },
        end: {
          line: 230,
          column: 9
        }
      },
      "53": {
        start: {
          line: 228,
          column: 12
        },
        end: {
          line: 228,
          column: 77
        }
      },
      "54": {
        start: {
          line: 229,
          column: 12
        },
        end: {
          line: 229,
          column: 36
        }
      },
      "55": {
        start: {
          line: 231,
          column: 8
        },
        end: {
          line: 231,
          column: 49
        }
      },
      "56": {
        start: {
          line: 232,
          column: 8
        },
        end: {
          line: 232,
          column: 82
        }
      },
      "57": {
        start: {
          line: 233,
          column: 33
        },
        end: {
          line: 260,
          column: 1
        }
      },
      "58": {
        start: {
          line: 240,
          column: 47
        },
        end: {
          line: 240,
          column: 71
        }
      },
      "59": {
        start: {
          line: 243,
          column: 57
        },
        end: {
          line: 243,
          column: 86
        }
      },
      "60": {
        start: {
          line: 246,
          column: 33
        },
        end: {
          line: 249,
          column: 1
        }
      },
      "61": {
        start: {
          line: 261,
          column: 8
        },
        end: {
          line: 283,
          column: 9
        }
      },
      "62": {
        start: {
          line: 262,
          column: 39
        },
        end: {
          line: 272,
          column: 14
        }
      },
      "63": {
        start: {
          line: 273,
          column: 37
        },
        end: {
          line: 273,
          column: 104
        }
      },
      "64": {
        start: {
          line: 274,
          column: 12
        },
        end: {
          line: 274,
          column: 91
        }
      },
      "65": {
        start: {
          line: 275,
          column: 12
        },
        end: {
          line: 275,
          column: 36
        }
      },
      "66": {
        start: {
          line: 278,
          column: 12
        },
        end: {
          line: 278,
          column: 68
        }
      },
      "67": {
        start: {
          line: 280,
          column: 12
        },
        end: {
          line: 282,
          column: 192
        }
      },
      "68": {
        start: {
          line: 286,
          column: 0
        },
        end: {
          line: 286,
          column: 58
        }
      },
      "69": {
        start: {
          line: 291,
          column: 4
        },
        end: {
          line: 291,
          column: 47
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 2,
            column: 56
          },
          end: {
            line: 2,
            column: 57
          }
        },
        loc: {
          start: {
            line: 2,
            column: 71
          },
          end: {
            line: 4,
            column: 1
          }
        },
        line: 2
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 24
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 15
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 24,
            column: 4
          },
          end: {
            line: 24,
            column: 5
          }
        },
        loc: {
          start: {
            line: 24,
            column: 62
          },
          end: {
            line: 99,
            column: 5
          }
        },
        line: 24
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 38,
            column: 14
          },
          end: {
            line: 38,
            column: 15
          }
        },
        loc: {
          start: {
            line: 38,
            column: 33
          },
          end: {
            line: 42,
            column: 1
          }
        },
        line: 38
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 103,
            column: 4
          },
          end: {
            line: 103,
            column: 5
          }
        },
        loc: {
          start: {
            line: 103,
            column: 73
          },
          end: {
            line: 163,
            column: 5
          }
        },
        line: 103
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 113,
            column: 14
          },
          end: {
            line: 113,
            column: 15
          }
        },
        loc: {
          start: {
            line: 113,
            column: 33
          },
          end: {
            line: 117,
            column: 1
          }
        },
        line: 113
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 167,
            column: 4
          },
          end: {
            line: 167,
            column: 5
          }
        },
        loc: {
          start: {
            line: 167,
            column: 53
          },
          end: {
            line: 222,
            column: 5
          }
        },
        line: 167
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 176,
            column: 14
          },
          end: {
            line: 176,
            column: 15
          }
        },
        loc: {
          start: {
            line: 176,
            column: 33
          },
          end: {
            line: 179,
            column: 1
          }
        },
        line: 176
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 226,
            column: 4
          },
          end: {
            line: 226,
            column: 5
          }
        },
        loc: {
          start: {
            line: 226,
            column: 71
          },
          end: {
            line: 284,
            column: 5
          }
        },
        line: 226
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 240,
            column: 29
          },
          end: {
            line: 240,
            column: 30
          }
        },
        loc: {
          start: {
            line: 240,
            column: 47
          },
          end: {
            line: 240,
            column: 71
          }
        },
        line: 240
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 243,
            column: 34
          },
          end: {
            line: 243,
            column: 35
          }
        },
        loc: {
          start: {
            line: 243,
            column: 57
          },
          end: {
            line: 243,
            column: 86
          }
        },
        line: 243
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 246,
            column: 14
          },
          end: {
            line: 246,
            column: 15
          }
        },
        loc: {
          start: {
            line: 246,
            column: 33
          },
          end: {
            line: 249,
            column: 1
          }
        },
        line: 246
      },
      "12": {
        name: "createAntiHallucinationSystem",
        decl: {
          start: {
            line: 290,
            column: 9
          },
          end: {
            line: 290,
            column: 38
          }
        },
        loc: {
          start: {
            line: 290,
            column: 47
          },
          end: {
            line: 292,
            column: 1
          }
        },
        line: 290
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 2,
            column: 22
          },
          end: {
            line: 4,
            column: 1
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 2,
            column: 23
          },
          end: {
            line: 2,
            column: 27
          }
        }, {
          start: {
            line: 2,
            column: 31
          },
          end: {
            line: 2,
            column: 51
          }
        }, {
          start: {
            line: 2,
            column: 56
          },
          end: {
            line: 4,
            column: 1
          }
        }],
        line: 2
      },
      "1": {
        loc: {
          start: {
            line: 3,
            column: 11
          },
          end: {
            line: 3,
            column: 61
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 3,
            column: 37
          },
          end: {
            line: 3,
            column: 40
          }
        }, {
          start: {
            line: 3,
            column: 43
          },
          end: {
            line: 3,
            column: 61
          }
        }],
        line: 3
      },
      "2": {
        loc: {
          start: {
            line: 3,
            column: 12
          },
          end: {
            line: 3,
            column: 33
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 3,
            column: 12
          },
          end: {
            line: 3,
            column: 15
          }
        }, {
          start: {
            line: 3,
            column: 19
          },
          end: {
            line: 3,
            column: 33
          }
        }],
        line: 3
      },
      "3": {
        loc: {
          start: {
            line: 79,
            column: 28
          },
          end: {
            line: 79,
            column: 82
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 79,
            column: 28
          },
          end: {
            line: 79,
            column: 74
          }
        }, {
          start: {
            line: 79,
            column: 78
          },
          end: {
            line: 79,
            column: 82
          }
        }],
        line: 79
      },
      "4": {
        loc: {
          start: {
            line: 82,
            column: 44
          },
          end: {
            line: 82,
            column: 73
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 82,
            column: 64
          },
          end: {
            line: 82,
            column: 67
          }
        }, {
          start: {
            line: 82,
            column: 70
          },
          end: {
            line: 82,
            column: 73
          }
        }],
        line: 82
      },
      "5": {
        loc: {
          start: {
            line: 137,
            column: 2
          },
          end: {
            line: 137,
            column: 88
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 137,
            column: 21
          },
          end: {
            line: 137,
            column: 83
          }
        }, {
          start: {
            line: 137,
            column: 86
          },
          end: {
            line: 137,
            column: 88
          }
        }],
        line: 137
      },
      "6": {
        loc: {
          start: {
            line: 155,
            column: 28
          },
          end: {
            line: 155,
            column: 99
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 155,
            column: 28
          },
          end: {
            line: 155,
            column: 65
          }
        }, {
          start: {
            line: 155,
            column: 69
          },
          end: {
            line: 155,
            column: 99
          }
        }],
        line: 155
      },
      "7": {
        loc: {
          start: {
            line: 206,
            column: 28
          },
          end: {
            line: 206,
            column: 83
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 206,
            column: 28
          },
          end: {
            line: 206,
            column: 75
          }
        }, {
          start: {
            line: 206,
            column: 79
          },
          end: {
            line: 206,
            column: 83
          }
        }],
        line: 206
      },
      "8": {
        loc: {
          start: {
            line: 209,
            column: 53
          },
          end: {
            line: 209,
            column: 88
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 209,
            column: 53
          },
          end: {
            line: 209,
            column: 83
          }
        }, {
          start: {
            line: 209,
            column: 87
          },
          end: {
            line: 209,
            column: 88
          }
        }],
        line: 209
      },
      "9": {
        loc: {
          start: {
            line: 210,
            column: 55
          },
          end: {
            line: 210,
            column: 92
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 210,
            column: 55
          },
          end: {
            line: 210,
            column: 87
          }
        }, {
          start: {
            line: 210,
            column: 91
          },
          end: {
            line: 210,
            column: 92
          }
        }],
        line: 210
      },
      "10": {
        loc: {
          start: {
            line: 211,
            column: 56
          },
          end: {
            line: 211,
            column: 93
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 211,
            column: 56
          },
          end: {
            line: 211,
            column: 88
          }
        }, {
          start: {
            line: 211,
            column: 92
          },
          end: {
            line: 211,
            column: 93
          }
        }],
        line: 211
      },
      "11": {
        loc: {
          start: {
            line: 227,
            column: 8
          },
          end: {
            line: 230,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 227,
            column: 8
          },
          end: {
            line: 230,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 227
      },
      "12": {
        loc: {
          start: {
            line: 227,
            column: 12
          },
          end: {
            line: 227,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 227,
            column: 12
          },
          end: {
            line: 227,
            column: 38
          }
        }, {
          start: {
            line: 227,
            column: 42
          },
          end: {
            line: 227,
            column: 74
          }
        }],
        line: 227
      },
      "13": {
        loc: {
          start: {
            line: 273,
            column: 37
          },
          end: {
            line: 273,
            column: 104
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 273,
            column: 37
          },
          end: {
            line: 273,
            column: 84
          }
        }, {
          start: {
            line: 273,
            column: 88
          },
          end: {
            line: 273,
            column: 104
          }
        }],
        line: 273
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0
    },
    b: {
      "0": [0, 0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0]
    },
    inputSourceMap: {
      file: "C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\anti-hallucination\\anti-hallucination-system.ts",
      mappings: "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",
      names: [],
      sources: ["C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\anti-hallucination\\anti-hallucination-system.ts"],
      sourcesContent: ["import OpenAI from \"openai\"\r\n\r\nexport interface FactCheckResult {\r\n  isAccurate: boolean\r\n  confidence: number\r\n  issues: string[]\r\n  corrections: string[]\r\n  sources: string[]\r\n}\r\n\r\nexport interface AntiHallucinationConfig {\r\n  enableFactChecking: boolean\r\n  requireSources: boolean\r\n  maxConfidenceThreshold: number\r\n  enableSourceVerification: boolean\r\n  enableCrossValidation: boolean\r\n}\r\n\r\n/**\r\n * Sistema anti-alucinaci\xF3n para mejorar la precisi\xF3n de las respuestas\r\n */\r\nexport class AntiHallucinationSystem {\r\n  private client: OpenAI\r\n  private modelName: string = 'alibaba/tongyi-deepresearch-30b-a3b'\r\n\r\n  constructor(apiKey: string) {\r\n    this.client = new OpenAI({\r\n      apiKey,\r\n      baseURL: \"https://openrouter.ai/api/v1\"\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Verifica la precisi\xF3n de una respuesta antes de enviarla\r\n   */\r\n  async factCheckResponse(\r\n    query: string,\r\n    response: string,\r\n    sources: Array<{ title: string; url: string; content: string }>,\r\n    config: AntiHallucinationConfig\r\n  ): Promise<FactCheckResult> {\r\n    console.log(`\uD83D\uDD0D VERIFICACI\xD3N ANTI-ALUCINACI\xD3N`)\r\n    console.log(`\uD83D\uDCDD Query: \"${query}\"`)\r\n    console.log(`\uD83D\uDCC4 Respuesta: ${response.length} caracteres`)\r\n    console.log(`\uD83D\uDCDA Fuentes: ${sources.length}`)\r\n\r\n    const factCheckPrompt = `\r\nEres un verificador de hechos especializado en derecho colombiano. Tu tarea es identificar alucinaciones y errores en respuestas legales.\r\n\r\nCONSULTA ORIGINAL: \"${query}\"\r\n\r\nRESPUESTA A VERIFICAR:\r\n${response}\r\n\r\nFUENTES DISPONIBLES:\r\n${sources.map((source, index) => `\r\n${index + 1}. ${source.title}\r\n   URL: ${source.url}\r\n   Contenido: ${source.content.substring(0, 500)}...\r\n`).join('\\n')}\r\n\r\nCRITERIOS DE VERIFICACI\xD3N:\r\n1. \xBFLas referencias legales son correctas? (art\xEDculos, leyes, sentencias)\r\n2. \xBFLos n\xFAmeros de art\xEDculos existen realmente?\r\n3. \xBFLas fechas son coherentes?\r\n4. \xBFLos nombres de entidades son correctos?\r\n5. \xBFLa informaci\xF3n est\xE1 respaldada por las fuentes?\r\n6. \xBFHay informaci\xF3n inventada o especulativa?\r\n\r\nINSTRUCCIONES:\r\n- Si encuentras informaci\xF3n NO respaldada por las fuentes, marca como alucinaci\xF3n\r\n- Si encuentras referencias legales incorrectas, marca como error\r\n- Si encuentras informaci\xF3n especulativa sin fundamento, marca como problema\r\n- S\xE9 estricto: es mejor ser conservador que permitir alucinaciones\r\n\r\nResponde en formato JSON:\r\n{\r\n  \"isAccurate\": true/false,\r\n  \"confidence\": 0.0-1.0,\r\n  \"issues\": [\"problema1\", \"problema2\"],\r\n  \"corrections\": [\"correcci\xF3n1\", \"correcci\xF3n2\"],\r\n  \"sources\": [\"fuente1\", \"fuente2\"]\r\n}\r\n`\r\n\r\n    try {\r\n      const factCheckResponse = await this.client.chat.completions.create({\r\n        model: this.modelName,\r\n        messages: [\r\n          {\r\n            role: \"system\",\r\n            content: factCheckPrompt\r\n          }\r\n        ],\r\n        temperature: 0.1, // Muy baja temperatura para precisi\xF3n\r\n        max_tokens: 1000\r\n      })\r\n\r\n      const content = factCheckResponse.choices[0]?.message?.content || '{}'\r\n      const result = JSON.parse(content) as FactCheckResult\r\n\r\n      console.log(`\uD83C\uDFAF Verificaci\xF3n completada:`)\r\n      console.log(`   \uD83D\uDCCA Precisi\xF3n: ${result.isAccurate ? '\u2705' : '\u274C'}`)\r\n      console.log(`   \uD83C\uDFAF Confianza: ${result.confidence.toFixed(2)}`)\r\n      console.log(`   \u26A0\uFE0F Problemas: ${result.issues.length}`)\r\n      console.log(`   \uD83D\uDD27 Correcciones: ${result.corrections.length}`)\r\n\r\n      return result\r\n\r\n    } catch (error) {\r\n      console.error('\u274C Error en verificaci\xF3n de hechos:', error)\r\n      \r\n      // Fallback conservador\r\n      return {\r\n        isAccurate: false,\r\n        confidence: 0.3,\r\n        issues: ['Error en verificaci\xF3n autom\xE1tica'],\r\n        corrections: ['Revisar manualmente la respuesta'],\r\n        sources: []\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Genera una respuesta m\xE1s conservadora y precisa\r\n   */\r\n  async generateConservativeResponse(\r\n    query: string,\r\n    sources: Array<{ title: string; url: string; content: string }>,\r\n    previousResponse?: string\r\n  ): Promise<string> {\r\n    console.log(`\uD83D\uDEE1\uFE0F GENERANDO RESPUESTA CONSERVADORA`)\r\n    console.log(`\uD83D\uDCDD Query: \"${query}\"`)\r\n    console.log(`\uD83D\uDCDA Fuentes: ${sources.length}`)\r\n\r\n    const conservativePrompt = `\r\nEres un asistente legal experto en derecho colombiano. Genera una respuesta PRECISA y CONSERVADORA bas\xE1ndote \xDANICAMENTE en la informaci\xF3n proporcionada.\r\n\r\nCONSULTA: \"${query}\"\r\n\r\nINFORMACI\xD3N DISPONIBLE:\r\n${sources.map((source, index) => `\r\n${index + 1}. ${source.title}\r\n   URL: ${source.url}\r\n   Contenido: ${source.content}\r\n`).join('\\n')}\r\n\r\nINSTRUCCIONES ESTRICTAS:\r\n1. Responde \xDANICAMENTE con informaci\xF3n respaldada por las fuentes\r\n2. Si no tienes informaci\xF3n suficiente, dilo claramente\r\n3. NO inventes art\xEDculos, leyes o sentencias\r\n4. NO hagas especulaciones sin fundamento\r\n5. Si mencionas un art\xEDculo, aseg\xFArate de que existe\r\n6. Si mencionas una entidad, aseg\xFArate de que es correcta\r\n7. Usa lenguaje conservador: \"seg\xFAn las fuentes\", \"de acuerdo con\", \"se indica que\"\r\n8. Si hay informaci\xF3n contradictoria, menciona ambas perspectivas\r\n9. Termina con una advertencia sobre consultar fuentes oficiales\r\n\r\nFORMATO DE RESPUESTA:\r\n- Introducci\xF3n clara del tema\r\n- Desarrollo basado en fuentes\r\n- Referencias espec\xEDficas cuando sea posible\r\n- Advertencia sobre limitaciones\r\n- Recomendaci\xF3n de consulta profesional\r\n\r\n${previousResponse ? `\\nRESPUESTA ANTERIOR (para referencia):\\n${previousResponse}` : ''}\r\n`\r\n\r\n    try {\r\n      const response = await this.client.chat.completions.create({\r\n        model: this.modelName,\r\n        messages: [\r\n          {\r\n            role: \"system\",\r\n            content: conservativePrompt\r\n          },\r\n          {\r\n            role: \"user\",\r\n            content: `Genera una respuesta conservadora y precisa para: \"${query}\"`\r\n          }\r\n        ],\r\n        temperature: 0.2, // Temperatura baja para precisi\xF3n\r\n        max_tokens: 3000\r\n      })\r\n\r\n      const content = response.choices[0]?.message?.content || 'No se pudo generar respuesta'\r\n\r\n      console.log(`\u2705 Respuesta conservadora generada: ${content.length} caracteres`)\r\n      return content\r\n\r\n    } catch (error) {\r\n      console.error('\u274C Error generando respuesta conservadora:', error)\r\n      \r\n      return `Disculpe, hubo un error procesando su consulta. Por favor, consulte directamente las fuentes oficiales para obtener informaci\xF3n precisa sobre: \"${query}\"`\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Valida referencias legales espec\xEDficas\r\n   */\r\n  async validateLegalReferences(\r\n    response: string,\r\n    sources: Array<{ title: string; url: string; content: string }>\r\n  ): Promise<{\r\n    validReferences: string[]\r\n    invalidReferences: string[]\r\n    missingReferences: string[]\r\n  }> {\r\n    console.log(`\uD83D\uDCCB VALIDANDO REFERENCIAS LEGALES`)\r\n\r\n    const validationPrompt = `\r\nEres un experto en derecho colombiano. Valida las referencias legales mencionadas en la respuesta.\r\n\r\nRESPUESTA A VALIDAR:\r\n${response}\r\n\r\nFUENTES DISPONIBLES:\r\n${sources.map((source, index) => `\r\n${index + 1}. ${source.title}\r\n   Contenido: ${source.content}\r\n`).join('\\n')}\r\n\r\nTAREA:\r\n1. Identifica todas las referencias legales en la respuesta (art\xEDculos, leyes, sentencias, decretos)\r\n2. Verifica si cada referencia est\xE1 respaldada por las fuentes\r\n3. Marca como inv\xE1lidas las referencias que no aparecen en las fuentes\r\n4. Identifica referencias que deber\xEDan estar pero no est\xE1n\r\n\r\nResponde en formato JSON:\r\n{\r\n  \"validReferences\": [\"referencia v\xE1lida 1\", \"referencia v\xE1lida 2\"],\r\n  \"invalidReferences\": [\"referencia inv\xE1lida 1\", \"referencia inv\xE1lida 2\"],\r\n  \"missingReferences\": [\"referencia faltante 1\", \"referencia faltante 2\"]\r\n}\r\n`\r\n\r\n    try {\r\n      const validationResponse = await this.client.chat.completions.create({\r\n        model: this.modelName,\r\n        messages: [\r\n          {\r\n            role: \"system\",\r\n            content: validationPrompt\r\n          }\r\n        ],\r\n        temperature: 0.1,\r\n        max_tokens: 800\r\n      })\r\n\r\n      const content = validationResponse.choices[0]?.message?.content || '{}'\r\n      const result = JSON.parse(content)\r\n\r\n      console.log(`\uD83D\uDCCA Validaci\xF3n completada:`)\r\n      console.log(`   \u2705 Referencias v\xE1lidas: ${result.validReferences?.length || 0}`)\r\n      console.log(`   \u274C Referencias inv\xE1lidas: ${result.invalidReferences?.length || 0}`)\r\n      console.log(`   \u26A0\uFE0F Referencias faltantes: ${result.missingReferences?.length || 0}`)\r\n\r\n      return result\r\n\r\n    } catch (error) {\r\n      console.error('\u274C Error validando referencias:', error)\r\n      \r\n      return {\r\n        validReferences: [],\r\n        invalidReferences: [],\r\n        missingReferences: []\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Aplica correcciones a una respuesta bas\xE1ndose en la verificaci\xF3n\r\n   */\r\n  async applyCorrections(\r\n    originalResponse: string,\r\n    factCheckResult: FactCheckResult,\r\n    sources: Array<{ title: string; url: string; content: string }>\r\n  ): Promise<string> {\r\n    if (factCheckResult.isAccurate && factCheckResult.confidence > 0.8) {\r\n      console.log(`\u2705 Respuesta precisa, no se requieren correcciones`)\r\n      return originalResponse\r\n    }\r\n\r\n    console.log(`\uD83D\uDD27 APLICANDO CORRECCIONES`)\r\n    console.log(`\u26A0\uFE0F Problemas encontrados: ${factCheckResult.issues.length}`)\r\n\r\n    const correctionPrompt = `\r\nEres un editor legal experto. Corrige la respuesta eliminando alucinaciones y errores.\r\n\r\nRESPUESTA ORIGINAL:\r\n${originalResponse}\r\n\r\nPROBLEMAS IDENTIFICADOS:\r\n${factCheckResult.issues.map((issue, index) => `${index + 1}. ${issue}`).join('\\n')}\r\n\r\nCORRECCIONES SUGERIDAS:\r\n${factCheckResult.corrections.map((correction, index) => `${index + 1}. ${correction}`).join('\\n')}\r\n\r\nFUENTES DISPONIBLES:\r\n${sources.map((source, index) => `\r\n${index + 1}. ${source.title}\r\n   Contenido: ${source.content.substring(0, 300)}...\r\n`).join('\\n')}\r\n\r\nINSTRUCCIONES:\r\n1. Elimina informaci\xF3n no respaldada por las fuentes\r\n2. Corrige referencias legales incorrectas\r\n3. Mant\xE9n solo informaci\xF3n verificable\r\n4. Usa lenguaje conservador\r\n5. Incluye advertencias sobre limitaciones\r\n6. Agrega recomendaci\xF3n de consulta profesional\r\n\r\nGenera la respuesta corregida:\r\n`\r\n\r\n    try {\r\n      const correctionResponse = await this.client.chat.completions.create({\r\n        model: this.modelName,\r\n        messages: [\r\n          {\r\n            role: \"system\",\r\n            content: correctionPrompt\r\n          }\r\n        ],\r\n        temperature: 0.2,\r\n        max_tokens: 3000\r\n      })\r\n\r\n      const correctedContent = correctionResponse.choices[0]?.message?.content || originalResponse\r\n\r\n      console.log(`\u2705 Correcciones aplicadas: ${correctedContent.length} caracteres`)\r\n      return correctedContent\r\n\r\n    } catch (error) {\r\n      console.error('\u274C Error aplicando correcciones:', error)\r\n      \r\n      // Fallback: agregar advertencia a la respuesta original\r\n      return `${originalResponse}\r\n\r\n\u26A0\uFE0F ADVERTENCIA IMPORTANTE: Esta respuesta puede contener informaci\xF3n no verificada. Por favor, consulte las fuentes oficiales para confirmar la informaci\xF3n antes de tomar decisiones legales.`\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Instancia singleton del sistema anti-alucinaci\xF3n\r\n */\r\nexport function createAntiHallucinationSystem(apiKey: string): AntiHallucinationSystem {\r\n  return new AntiHallucinationSystem(apiKey)\r\n}\r\n\r\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "c58c5f4f63eec54b661fe982357e35719fe336c6"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_13vodomuh0 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_13vodomuh0();
var __importDefault =
/* istanbul ignore next */
(cov_13vodomuh0().s[0]++,
/* istanbul ignore next */
(cov_13vodomuh0().b[0][0]++, this) &&
/* istanbul ignore next */
(cov_13vodomuh0().b[0][1]++, this.__importDefault) ||
/* istanbul ignore next */
(cov_13vodomuh0().b[0][2]++, function (mod) {
  /* istanbul ignore next */
  cov_13vodomuh0().f[0]++;
  cov_13vodomuh0().s[1]++;
  return /* istanbul ignore next */(cov_13vodomuh0().b[2][0]++, mod) &&
  /* istanbul ignore next */
  (cov_13vodomuh0().b[2][1]++, mod.__esModule) ?
  /* istanbul ignore next */
  (cov_13vodomuh0().b[1][0]++, mod) :
  /* istanbul ignore next */
  (cov_13vodomuh0().b[1][1]++, {
    "default": mod
  });
}));
/* istanbul ignore next */
cov_13vodomuh0().s[2]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_13vodomuh0().s[3]++;
exports.AntiHallucinationSystem = void 0;
/* istanbul ignore next */
cov_13vodomuh0().s[4]++;
exports.createAntiHallucinationSystem = createAntiHallucinationSystem;
const openai_1 =
/* istanbul ignore next */
(cov_13vodomuh0().s[5]++, __importDefault(require("openai")));
/**
 * Sistema anti-alucinaci칩n para mejorar la precisi칩n de las respuestas
 */
class AntiHallucinationSystem {
  client;
  modelName =
  /* istanbul ignore next */
  (cov_13vodomuh0().s[6]++, 'alibaba/tongyi-deepresearch-30b-a3b');
  constructor(apiKey) {
    /* istanbul ignore next */
    cov_13vodomuh0().f[1]++;
    cov_13vodomuh0().s[7]++;
    this.client = new openai_1.default({
      apiKey,
      baseURL: "https://openrouter.ai/api/v1"
    });
  }
  /**
   * Verifica la precisi칩n de una respuesta antes de enviarla
   */
  async factCheckResponse(query, response, sources, config) {
    /* istanbul ignore next */
    cov_13vodomuh0().f[2]++;
    cov_13vodomuh0().s[8]++;
    console.log(`游댌 VERIFICACI칍N ANTI-ALUCINACI칍N`);
    /* istanbul ignore next */
    cov_13vodomuh0().s[9]++;
    console.log(`游닇 Query: "${query}"`);
    /* istanbul ignore next */
    cov_13vodomuh0().s[10]++;
    console.log(`游늯 Respuesta: ${response.length} caracteres`);
    /* istanbul ignore next */
    cov_13vodomuh0().s[11]++;
    console.log(`游닄 Fuentes: ${sources.length}`);
    const factCheckPrompt =
    /* istanbul ignore next */
    (cov_13vodomuh0().s[12]++, `
Eres un verificador de hechos especializado en derecho colombiano. Tu tarea es identificar alucinaciones y errores en respuestas legales.

CONSULTA ORIGINAL: "${query}"

RESPUESTA A VERIFICAR:
${response}

FUENTES DISPONIBLES:
${sources.map((source, index) => {
      /* istanbul ignore next */
      cov_13vodomuh0().f[3]++;
      cov_13vodomuh0().s[13]++;
      return `
${index + 1}. ${source.title}
   URL: ${source.url}
   Contenido: ${source.content.substring(0, 500)}...
`;
    }).join('\n')}

CRITERIOS DE VERIFICACI칍N:
1. 쯃as referencias legales son correctas? (art칤culos, leyes, sentencias)
2. 쯃os n칰meros de art칤culos existen realmente?
3. 쯃as fechas son coherentes?
4. 쯃os nombres de entidades son correctos?
5. 쯃a informaci칩n est치 respaldada por las fuentes?
6. 쮿ay informaci칩n inventada o especulativa?

INSTRUCCIONES:
- Si encuentras informaci칩n NO respaldada por las fuentes, marca como alucinaci칩n
- Si encuentras referencias legales incorrectas, marca como error
- Si encuentras informaci칩n especulativa sin fundamento, marca como problema
- S칠 estricto: es mejor ser conservador que permitir alucinaciones

Responde en formato JSON:
{
  "isAccurate": true/false,
  "confidence": 0.0-1.0,
  "issues": ["problema1", "problema2"],
  "corrections": ["correcci칩n1", "correcci칩n2"],
  "sources": ["fuente1", "fuente2"]
}
`);
    /* istanbul ignore next */
    cov_13vodomuh0().s[14]++;
    try {
      const factCheckResponse =
      /* istanbul ignore next */
      (cov_13vodomuh0().s[15]++, await this.client.chat.completions.create({
        model: this.modelName,
        messages: [{
          role: "system",
          content: factCheckPrompt
        }],
        temperature: 0.1,
        // Muy baja temperatura para precisi칩n
        max_tokens: 1000
      }));
      const content =
      /* istanbul ignore next */
      (cov_13vodomuh0().s[16]++,
      /* istanbul ignore next */
      (cov_13vodomuh0().b[3][0]++, factCheckResponse.choices[0]?.message?.content) ||
      /* istanbul ignore next */
      (cov_13vodomuh0().b[3][1]++, '{}'));
      const result =
      /* istanbul ignore next */
      (cov_13vodomuh0().s[17]++, JSON.parse(content));
      /* istanbul ignore next */
      cov_13vodomuh0().s[18]++;
      console.log(`游꿢 Verificaci칩n completada:`);
      /* istanbul ignore next */
      cov_13vodomuh0().s[19]++;
      console.log(`   游늵 Precisi칩n: ${result.isAccurate ?
      /* istanbul ignore next */
      (cov_13vodomuh0().b[4][0]++, '九') :
      /* istanbul ignore next */
      (cov_13vodomuh0().b[4][1]++, '仇')}`);
      /* istanbul ignore next */
      cov_13vodomuh0().s[20]++;
      console.log(`   游꿢 Confianza: ${result.confidence.toFixed(2)}`);
      /* istanbul ignore next */
      cov_13vodomuh0().s[21]++;
      console.log(`   丘멆잺 Problemas: ${result.issues.length}`);
      /* istanbul ignore next */
      cov_13vodomuh0().s[22]++;
      console.log(`   游댢 Correcciones: ${result.corrections.length}`);
      /* istanbul ignore next */
      cov_13vodomuh0().s[23]++;
      return result;
    } catch (error) {
      /* istanbul ignore next */
      cov_13vodomuh0().s[24]++;
      console.error('仇 Error en verificaci칩n de hechos:', error);
      // Fallback conservador
      /* istanbul ignore next */
      cov_13vodomuh0().s[25]++;
      return {
        isAccurate: false,
        confidence: 0.3,
        issues: ['Error en verificaci칩n autom치tica'],
        corrections: ['Revisar manualmente la respuesta'],
        sources: []
      };
    }
  }
  /**
   * Genera una respuesta m치s conservadora y precisa
   */
  async generateConservativeResponse(query, sources, previousResponse) {
    /* istanbul ignore next */
    cov_13vodomuh0().f[4]++;
    cov_13vodomuh0().s[26]++;
    console.log(`游띠勇 GENERANDO RESPUESTA CONSERVADORA`);
    /* istanbul ignore next */
    cov_13vodomuh0().s[27]++;
    console.log(`游닇 Query: "${query}"`);
    /* istanbul ignore next */
    cov_13vodomuh0().s[28]++;
    console.log(`游닄 Fuentes: ${sources.length}`);
    const conservativePrompt =
    /* istanbul ignore next */
    (cov_13vodomuh0().s[29]++, `
Eres un asistente legal experto en derecho colombiano. Genera una respuesta PRECISA y CONSERVADORA bas치ndote 칔NICAMENTE en la informaci칩n proporcionada.

CONSULTA: "${query}"

INFORMACI칍N DISPONIBLE:
${sources.map((source, index) => {
      /* istanbul ignore next */
      cov_13vodomuh0().f[5]++;
      cov_13vodomuh0().s[30]++;
      return `
${index + 1}. ${source.title}
   URL: ${source.url}
   Contenido: ${source.content}
`;
    }).join('\n')}

INSTRUCCIONES ESTRICTAS:
1. Responde 칔NICAMENTE con informaci칩n respaldada por las fuentes
2. Si no tienes informaci칩n suficiente, dilo claramente
3. NO inventes art칤culos, leyes o sentencias
4. NO hagas especulaciones sin fundamento
5. Si mencionas un art칤culo, aseg칰rate de que existe
6. Si mencionas una entidad, aseg칰rate de que es correcta
7. Usa lenguaje conservador: "seg칰n las fuentes", "de acuerdo con", "se indica que"
8. Si hay informaci칩n contradictoria, menciona ambas perspectivas
9. Termina con una advertencia sobre consultar fuentes oficiales

FORMATO DE RESPUESTA:
- Introducci칩n clara del tema
- Desarrollo basado en fuentes
- Referencias espec칤ficas cuando sea posible
- Advertencia sobre limitaciones
- Recomendaci칩n de consulta profesional

${previousResponse ?
    /* istanbul ignore next */
    (cov_13vodomuh0().b[5][0]++, `\nRESPUESTA ANTERIOR (para referencia):\n${previousResponse}`) :
    /* istanbul ignore next */
    (cov_13vodomuh0().b[5][1]++, '')}
`);
    /* istanbul ignore next */
    cov_13vodomuh0().s[31]++;
    try {
      const response =
      /* istanbul ignore next */
      (cov_13vodomuh0().s[32]++, await this.client.chat.completions.create({
        model: this.modelName,
        messages: [{
          role: "system",
          content: conservativePrompt
        }, {
          role: "user",
          content: `Genera una respuesta conservadora y precisa para: "${query}"`
        }],
        temperature: 0.2,
        // Temperatura baja para precisi칩n
        max_tokens: 3000
      }));
      const content =
      /* istanbul ignore next */
      (cov_13vodomuh0().s[33]++,
      /* istanbul ignore next */
      (cov_13vodomuh0().b[6][0]++, response.choices[0]?.message?.content) ||
      /* istanbul ignore next */
      (cov_13vodomuh0().b[6][1]++, 'No se pudo generar respuesta'));
      /* istanbul ignore next */
      cov_13vodomuh0().s[34]++;
      console.log(`九 Respuesta conservadora generada: ${content.length} caracteres`);
      /* istanbul ignore next */
      cov_13vodomuh0().s[35]++;
      return content;
    } catch (error) {
      /* istanbul ignore next */
      cov_13vodomuh0().s[36]++;
      console.error('仇 Error generando respuesta conservadora:', error);
      /* istanbul ignore next */
      cov_13vodomuh0().s[37]++;
      return `Disculpe, hubo un error procesando su consulta. Por favor, consulte directamente las fuentes oficiales para obtener informaci칩n precisa sobre: "${query}"`;
    }
  }
  /**
   * Valida referencias legales espec칤ficas
   */
  async validateLegalReferences(response, sources) {
    /* istanbul ignore next */
    cov_13vodomuh0().f[6]++;
    cov_13vodomuh0().s[38]++;
    console.log(`游늶 VALIDANDO REFERENCIAS LEGALES`);
    const validationPrompt =
    /* istanbul ignore next */
    (cov_13vodomuh0().s[39]++, `
Eres un experto en derecho colombiano. Valida las referencias legales mencionadas en la respuesta.

RESPUESTA A VALIDAR:
${response}

FUENTES DISPONIBLES:
${sources.map((source, index) => {
      /* istanbul ignore next */
      cov_13vodomuh0().f[7]++;
      cov_13vodomuh0().s[40]++;
      return `
${index + 1}. ${source.title}
   Contenido: ${source.content}
`;
    }).join('\n')}

TAREA:
1. Identifica todas las referencias legales en la respuesta (art칤culos, leyes, sentencias, decretos)
2. Verifica si cada referencia est치 respaldada por las fuentes
3. Marca como inv치lidas las referencias que no aparecen en las fuentes
4. Identifica referencias que deber칤an estar pero no est치n

Responde en formato JSON:
{
  "validReferences": ["referencia v치lida 1", "referencia v치lida 2"],
  "invalidReferences": ["referencia inv치lida 1", "referencia inv치lida 2"],
  "missingReferences": ["referencia faltante 1", "referencia faltante 2"]
}
`);
    /* istanbul ignore next */
    cov_13vodomuh0().s[41]++;
    try {
      const validationResponse =
      /* istanbul ignore next */
      (cov_13vodomuh0().s[42]++, await this.client.chat.completions.create({
        model: this.modelName,
        messages: [{
          role: "system",
          content: validationPrompt
        }],
        temperature: 0.1,
        max_tokens: 800
      }));
      const content =
      /* istanbul ignore next */
      (cov_13vodomuh0().s[43]++,
      /* istanbul ignore next */
      (cov_13vodomuh0().b[7][0]++, validationResponse.choices[0]?.message?.content) ||
      /* istanbul ignore next */
      (cov_13vodomuh0().b[7][1]++, '{}'));
      const result =
      /* istanbul ignore next */
      (cov_13vodomuh0().s[44]++, JSON.parse(content));
      /* istanbul ignore next */
      cov_13vodomuh0().s[45]++;
      console.log(`游늵 Validaci칩n completada:`);
      /* istanbul ignore next */
      cov_13vodomuh0().s[46]++;
      console.log(`   九 Referencias v치lidas: ${
      /* istanbul ignore next */
      (cov_13vodomuh0().b[8][0]++, result.validReferences?.length) ||
      /* istanbul ignore next */
      (cov_13vodomuh0().b[8][1]++, 0)}`);
      /* istanbul ignore next */
      cov_13vodomuh0().s[47]++;
      console.log(`   仇 Referencias inv치lidas: ${
      /* istanbul ignore next */
      (cov_13vodomuh0().b[9][0]++, result.invalidReferences?.length) ||
      /* istanbul ignore next */
      (cov_13vodomuh0().b[9][1]++, 0)}`);
      /* istanbul ignore next */
      cov_13vodomuh0().s[48]++;
      console.log(`   丘멆잺 Referencias faltantes: ${
      /* istanbul ignore next */
      (cov_13vodomuh0().b[10][0]++, result.missingReferences?.length) ||
      /* istanbul ignore next */
      (cov_13vodomuh0().b[10][1]++, 0)}`);
      /* istanbul ignore next */
      cov_13vodomuh0().s[49]++;
      return result;
    } catch (error) {
      /* istanbul ignore next */
      cov_13vodomuh0().s[50]++;
      console.error('仇 Error validando referencias:', error);
      /* istanbul ignore next */
      cov_13vodomuh0().s[51]++;
      return {
        validReferences: [],
        invalidReferences: [],
        missingReferences: []
      };
    }
  }
  /**
   * Aplica correcciones a una respuesta bas치ndose en la verificaci칩n
   */
  async applyCorrections(originalResponse, factCheckResult, sources) {
    /* istanbul ignore next */
    cov_13vodomuh0().f[8]++;
    cov_13vodomuh0().s[52]++;
    if (
    /* istanbul ignore next */
    (cov_13vodomuh0().b[12][0]++, factCheckResult.isAccurate) &&
    /* istanbul ignore next */
    (cov_13vodomuh0().b[12][1]++, factCheckResult.confidence > 0.8)) {
      /* istanbul ignore next */
      cov_13vodomuh0().b[11][0]++;
      cov_13vodomuh0().s[53]++;
      console.log(`九 Respuesta precisa, no se requieren correcciones`);
      /* istanbul ignore next */
      cov_13vodomuh0().s[54]++;
      return originalResponse;
    } else
    /* istanbul ignore next */
    {
      cov_13vodomuh0().b[11][1]++;
    }
    cov_13vodomuh0().s[55]++;
    console.log(`游댢 APLICANDO CORRECCIONES`);
    /* istanbul ignore next */
    cov_13vodomuh0().s[56]++;
    console.log(`丘멆잺 Problemas encontrados: ${factCheckResult.issues.length}`);
    const correctionPrompt =
    /* istanbul ignore next */
    (cov_13vodomuh0().s[57]++, `
Eres un editor legal experto. Corrige la respuesta eliminando alucinaciones y errores.

RESPUESTA ORIGINAL:
${originalResponse}

PROBLEMAS IDENTIFICADOS:
${factCheckResult.issues.map((issue, index) => {
      /* istanbul ignore next */
      cov_13vodomuh0().f[9]++;
      cov_13vodomuh0().s[58]++;
      return `${index + 1}. ${issue}`;
    }).join('\n')}

CORRECCIONES SUGERIDAS:
${factCheckResult.corrections.map((correction, index) => {
      /* istanbul ignore next */
      cov_13vodomuh0().f[10]++;
      cov_13vodomuh0().s[59]++;
      return `${index + 1}. ${correction}`;
    }).join('\n')}

FUENTES DISPONIBLES:
${sources.map((source, index) => {
      /* istanbul ignore next */
      cov_13vodomuh0().f[11]++;
      cov_13vodomuh0().s[60]++;
      return `
${index + 1}. ${source.title}
   Contenido: ${source.content.substring(0, 300)}...
`;
    }).join('\n')}

INSTRUCCIONES:
1. Elimina informaci칩n no respaldada por las fuentes
2. Corrige referencias legales incorrectas
3. Mant칠n solo informaci칩n verificable
4. Usa lenguaje conservador
5. Incluye advertencias sobre limitaciones
6. Agrega recomendaci칩n de consulta profesional

Genera la respuesta corregida:
`);
    /* istanbul ignore next */
    cov_13vodomuh0().s[61]++;
    try {
      const correctionResponse =
      /* istanbul ignore next */
      (cov_13vodomuh0().s[62]++, await this.client.chat.completions.create({
        model: this.modelName,
        messages: [{
          role: "system",
          content: correctionPrompt
        }],
        temperature: 0.2,
        max_tokens: 3000
      }));
      const correctedContent =
      /* istanbul ignore next */
      (cov_13vodomuh0().s[63]++,
      /* istanbul ignore next */
      (cov_13vodomuh0().b[13][0]++, correctionResponse.choices[0]?.message?.content) ||
      /* istanbul ignore next */
      (cov_13vodomuh0().b[13][1]++, originalResponse));
      /* istanbul ignore next */
      cov_13vodomuh0().s[64]++;
      console.log(`九 Correcciones aplicadas: ${correctedContent.length} caracteres`);
      /* istanbul ignore next */
      cov_13vodomuh0().s[65]++;
      return correctedContent;
    } catch (error) {
      /* istanbul ignore next */
      cov_13vodomuh0().s[66]++;
      console.error('仇 Error aplicando correcciones:', error);
      // Fallback: agregar advertencia a la respuesta original
      /* istanbul ignore next */
      cov_13vodomuh0().s[67]++;
      return `${originalResponse}

丘멆잺 ADVERTENCIA IMPORTANTE: Esta respuesta puede contener informaci칩n no verificada. Por favor, consulte las fuentes oficiales para confirmar la informaci칩n antes de tomar decisiones legales.`;
    }
  }
}
/* istanbul ignore next */
cov_13vodomuh0().s[68]++;
exports.AntiHallucinationSystem = AntiHallucinationSystem;
/**
 * Instancia singleton del sistema anti-alucinaci칩n
 */
function createAntiHallucinationSystem(apiKey) {
  /* istanbul ignore next */
  cov_13vodomuh0().f[12]++;
  cov_13vodomuh0().s[69]++;
  return new AntiHallucinationSystem(apiKey);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTN2b2RvbXVoMCIsImFjdHVhbENvdmVyYWdlIiwiZXhwb3J0cyIsImNyZWF0ZUFudGlIYWxsdWNpbmF0aW9uU3lzdGVtIiwib3BlbmFpXzEiLCJzIiwiX19pbXBvcnREZWZhdWx0IiwicmVxdWlyZSIsIkFudGlIYWxsdWNpbmF0aW9uU3lzdGVtIiwiY2xpZW50IiwibW9kZWxOYW1lIiwiY29uc3RydWN0b3IiLCJhcGlLZXkiLCJmIiwiZGVmYXVsdCIsImJhc2VVUkwiLCJmYWN0Q2hlY2tSZXNwb25zZSIsInF1ZXJ5IiwicmVzcG9uc2UiLCJzb3VyY2VzIiwiY29uZmlnIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsImZhY3RDaGVja1Byb21wdCIsIm1hcCIsInNvdXJjZSIsImluZGV4IiwidGl0bGUiLCJ1cmwiLCJjb250ZW50Iiwic3Vic3RyaW5nIiwiam9pbiIsImNoYXQiLCJjb21wbGV0aW9ucyIsImNyZWF0ZSIsIm1vZGVsIiwibWVzc2FnZXMiLCJyb2xlIiwidGVtcGVyYXR1cmUiLCJtYXhfdG9rZW5zIiwiYiIsImNob2ljZXMiLCJtZXNzYWdlIiwicmVzdWx0IiwiSlNPTiIsInBhcnNlIiwiaXNBY2N1cmF0ZSIsImNvbmZpZGVuY2UiLCJ0b0ZpeGVkIiwiaXNzdWVzIiwiY29ycmVjdGlvbnMiLCJlcnJvciIsImdlbmVyYXRlQ29uc2VydmF0aXZlUmVzcG9uc2UiLCJwcmV2aW91c1Jlc3BvbnNlIiwiY29uc2VydmF0aXZlUHJvbXB0IiwidmFsaWRhdGVMZWdhbFJlZmVyZW5jZXMiLCJ2YWxpZGF0aW9uUHJvbXB0IiwidmFsaWRhdGlvblJlc3BvbnNlIiwidmFsaWRSZWZlcmVuY2VzIiwiaW52YWxpZFJlZmVyZW5jZXMiLCJtaXNzaW5nUmVmZXJlbmNlcyIsImFwcGx5Q29ycmVjdGlvbnMiLCJvcmlnaW5hbFJlc3BvbnNlIiwiZmFjdENoZWNrUmVzdWx0IiwiY29ycmVjdGlvblByb21wdCIsImlzc3VlIiwiY29ycmVjdGlvbiIsImNvcnJlY3Rpb25SZXNwb25zZSIsImNvcnJlY3RlZENvbnRlbnQiXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXHBlZHJvXFxEb2N1bWVudHNcXEdpdEh1YlxcQXNpc3RlbnRlLUxlZ2FsLUludGVsaWdlbnRlXFxsaWJcXGFudGktaGFsbHVjaW5hdGlvblxcYW50aS1oYWxsdWNpbmF0aW9uLXN5c3RlbS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgT3BlbkFJIGZyb20gXCJvcGVuYWlcIlxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBGYWN0Q2hlY2tSZXN1bHQge1xyXG4gIGlzQWNjdXJhdGU6IGJvb2xlYW5cclxuICBjb25maWRlbmNlOiBudW1iZXJcclxuICBpc3N1ZXM6IHN0cmluZ1tdXHJcbiAgY29ycmVjdGlvbnM6IHN0cmluZ1tdXHJcbiAgc291cmNlczogc3RyaW5nW11cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBbnRpSGFsbHVjaW5hdGlvbkNvbmZpZyB7XHJcbiAgZW5hYmxlRmFjdENoZWNraW5nOiBib29sZWFuXHJcbiAgcmVxdWlyZVNvdXJjZXM6IGJvb2xlYW5cclxuICBtYXhDb25maWRlbmNlVGhyZXNob2xkOiBudW1iZXJcclxuICBlbmFibGVTb3VyY2VWZXJpZmljYXRpb246IGJvb2xlYW5cclxuICBlbmFibGVDcm9zc1ZhbGlkYXRpb246IGJvb2xlYW5cclxufVxyXG5cclxuLyoqXHJcbiAqIFNpc3RlbWEgYW50aS1hbHVjaW5hY2nDs24gcGFyYSBtZWpvcmFyIGxhIHByZWNpc2nDs24gZGUgbGFzIHJlc3B1ZXN0YXNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBBbnRpSGFsbHVjaW5hdGlvblN5c3RlbSB7XHJcbiAgcHJpdmF0ZSBjbGllbnQ6IE9wZW5BSVxyXG4gIHByaXZhdGUgbW9kZWxOYW1lOiBzdHJpbmcgPSAnYWxpYmFiYS90b25neWktZGVlcHJlc2VhcmNoLTMwYi1hM2InXHJcblxyXG4gIGNvbnN0cnVjdG9yKGFwaUtleTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmNsaWVudCA9IG5ldyBPcGVuQUkoe1xyXG4gICAgICBhcGlLZXksXHJcbiAgICAgIGJhc2VVUkw6IFwiaHR0cHM6Ly9vcGVucm91dGVyLmFpL2FwaS92MVwiXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVmVyaWZpY2EgbGEgcHJlY2lzacOzbiBkZSB1bmEgcmVzcHVlc3RhIGFudGVzIGRlIGVudmlhcmxhXHJcbiAgICovXHJcbiAgYXN5bmMgZmFjdENoZWNrUmVzcG9uc2UoXHJcbiAgICBxdWVyeTogc3RyaW5nLFxyXG4gICAgcmVzcG9uc2U6IHN0cmluZyxcclxuICAgIHNvdXJjZXM6IEFycmF5PHsgdGl0bGU6IHN0cmluZzsgdXJsOiBzdHJpbmc7IGNvbnRlbnQ6IHN0cmluZyB9PixcclxuICAgIGNvbmZpZzogQW50aUhhbGx1Y2luYXRpb25Db25maWdcclxuICApOiBQcm9taXNlPEZhY3RDaGVja1Jlc3VsdD4ge1xyXG4gICAgY29uc29sZS5sb2coYPCflI0gVkVSSUZJQ0FDScOTTiBBTlRJLUFMVUNJTkFDScOTTmApXHJcbiAgICBjb25zb2xlLmxvZyhg8J+TnSBRdWVyeTogXCIke3F1ZXJ5fVwiYClcclxuICAgIGNvbnNvbGUubG9nKGDwn5OEIFJlc3B1ZXN0YTogJHtyZXNwb25zZS5sZW5ndGh9IGNhcmFjdGVyZXNgKVxyXG4gICAgY29uc29sZS5sb2coYPCfk5ogRnVlbnRlczogJHtzb3VyY2VzLmxlbmd0aH1gKVxyXG5cclxuICAgIGNvbnN0IGZhY3RDaGVja1Byb21wdCA9IGBcclxuRXJlcyB1biB2ZXJpZmljYWRvciBkZSBoZWNob3MgZXNwZWNpYWxpemFkbyBlbiBkZXJlY2hvIGNvbG9tYmlhbm8uIFR1IHRhcmVhIGVzIGlkZW50aWZpY2FyIGFsdWNpbmFjaW9uZXMgeSBlcnJvcmVzIGVuIHJlc3B1ZXN0YXMgbGVnYWxlcy5cclxuXHJcbkNPTlNVTFRBIE9SSUdJTkFMOiBcIiR7cXVlcnl9XCJcclxuXHJcblJFU1BVRVNUQSBBIFZFUklGSUNBUjpcclxuJHtyZXNwb25zZX1cclxuXHJcbkZVRU5URVMgRElTUE9OSUJMRVM6XHJcbiR7c291cmNlcy5tYXAoKHNvdXJjZSwgaW5kZXgpID0+IGBcclxuJHtpbmRleCArIDF9LiAke3NvdXJjZS50aXRsZX1cclxuICAgVVJMOiAke3NvdXJjZS51cmx9XHJcbiAgIENvbnRlbmlkbzogJHtzb3VyY2UuY29udGVudC5zdWJzdHJpbmcoMCwgNTAwKX0uLi5cclxuYCkuam9pbignXFxuJyl9XHJcblxyXG5DUklURVJJT1MgREUgVkVSSUZJQ0FDScOTTjpcclxuMS4gwr9MYXMgcmVmZXJlbmNpYXMgbGVnYWxlcyBzb24gY29ycmVjdGFzPyAoYXJ0w61jdWxvcywgbGV5ZXMsIHNlbnRlbmNpYXMpXHJcbjIuIMK/TG9zIG7Dum1lcm9zIGRlIGFydMOtY3Vsb3MgZXhpc3RlbiByZWFsbWVudGU/XHJcbjMuIMK/TGFzIGZlY2hhcyBzb24gY29oZXJlbnRlcz9cclxuNC4gwr9Mb3Mgbm9tYnJlcyBkZSBlbnRpZGFkZXMgc29uIGNvcnJlY3Rvcz9cclxuNS4gwr9MYSBpbmZvcm1hY2nDs24gZXN0w6EgcmVzcGFsZGFkYSBwb3IgbGFzIGZ1ZW50ZXM/XHJcbjYuIMK/SGF5IGluZm9ybWFjacOzbiBpbnZlbnRhZGEgbyBlc3BlY3VsYXRpdmE/XHJcblxyXG5JTlNUUlVDQ0lPTkVTOlxyXG4tIFNpIGVuY3VlbnRyYXMgaW5mb3JtYWNpw7NuIE5PIHJlc3BhbGRhZGEgcG9yIGxhcyBmdWVudGVzLCBtYXJjYSBjb21vIGFsdWNpbmFjacOzblxyXG4tIFNpIGVuY3VlbnRyYXMgcmVmZXJlbmNpYXMgbGVnYWxlcyBpbmNvcnJlY3RhcywgbWFyY2EgY29tbyBlcnJvclxyXG4tIFNpIGVuY3VlbnRyYXMgaW5mb3JtYWNpw7NuIGVzcGVjdWxhdGl2YSBzaW4gZnVuZGFtZW50bywgbWFyY2EgY29tbyBwcm9ibGVtYVxyXG4tIFPDqSBlc3RyaWN0bzogZXMgbWVqb3Igc2VyIGNvbnNlcnZhZG9yIHF1ZSBwZXJtaXRpciBhbHVjaW5hY2lvbmVzXHJcblxyXG5SZXNwb25kZSBlbiBmb3JtYXRvIEpTT046XHJcbntcclxuICBcImlzQWNjdXJhdGVcIjogdHJ1ZS9mYWxzZSxcclxuICBcImNvbmZpZGVuY2VcIjogMC4wLTEuMCxcclxuICBcImlzc3Vlc1wiOiBbXCJwcm9ibGVtYTFcIiwgXCJwcm9ibGVtYTJcIl0sXHJcbiAgXCJjb3JyZWN0aW9uc1wiOiBbXCJjb3JyZWNjacOzbjFcIiwgXCJjb3JyZWNjacOzbjJcIl0sXHJcbiAgXCJzb3VyY2VzXCI6IFtcImZ1ZW50ZTFcIiwgXCJmdWVudGUyXCJdXHJcbn1cclxuYFxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGZhY3RDaGVja1Jlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xyXG4gICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsTmFtZSxcclxuICAgICAgICBtZXNzYWdlczogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICByb2xlOiBcInN5c3RlbVwiLFxyXG4gICAgICAgICAgICBjb250ZW50OiBmYWN0Q2hlY2tQcm9tcHRcclxuICAgICAgICAgIH1cclxuICAgICAgICBdLFxyXG4gICAgICAgIHRlbXBlcmF0dXJlOiAwLjEsIC8vIE11eSBiYWphIHRlbXBlcmF0dXJhIHBhcmEgcHJlY2lzacOzblxyXG4gICAgICAgIG1heF90b2tlbnM6IDEwMDBcclxuICAgICAgfSlcclxuXHJcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBmYWN0Q2hlY2tSZXNwb25zZS5jaG9pY2VzWzBdPy5tZXNzYWdlPy5jb250ZW50IHx8ICd7fSdcclxuICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShjb250ZW50KSBhcyBGYWN0Q2hlY2tSZXN1bHRcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn46vIFZlcmlmaWNhY2nDs24gY29tcGxldGFkYTpgKVxyXG4gICAgICBjb25zb2xlLmxvZyhgICAg8J+TiiBQcmVjaXNpw7NuOiAke3Jlc3VsdC5pc0FjY3VyYXRlID8gJ+KchScgOiAn4p2MJ31gKVxyXG4gICAgICBjb25zb2xlLmxvZyhgICAg8J+OryBDb25maWFuemE6ICR7cmVzdWx0LmNvbmZpZGVuY2UudG9GaXhlZCgyKX1gKVxyXG4gICAgICBjb25zb2xlLmxvZyhgICAg4pqg77iPIFByb2JsZW1hczogJHtyZXN1bHQuaXNzdWVzLmxlbmd0aH1gKVxyXG4gICAgICBjb25zb2xlLmxvZyhgICAg8J+UpyBDb3JyZWNjaW9uZXM6ICR7cmVzdWx0LmNvcnJlY3Rpb25zLmxlbmd0aH1gKVxyXG5cclxuICAgICAgcmV0dXJuIHJlc3VsdFxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBlbiB2ZXJpZmljYWNpw7NuIGRlIGhlY2hvczonLCBlcnJvcilcclxuICAgICAgXHJcbiAgICAgIC8vIEZhbGxiYWNrIGNvbnNlcnZhZG9yXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaXNBY2N1cmF0ZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlkZW5jZTogMC4zLFxyXG4gICAgICAgIGlzc3VlczogWydFcnJvciBlbiB2ZXJpZmljYWNpw7NuIGF1dG9tw6F0aWNhJ10sXHJcbiAgICAgICAgY29ycmVjdGlvbnM6IFsnUmV2aXNhciBtYW51YWxtZW50ZSBsYSByZXNwdWVzdGEnXSxcclxuICAgICAgICBzb3VyY2VzOiBbXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmEgdW5hIHJlc3B1ZXN0YSBtw6FzIGNvbnNlcnZhZG9yYSB5IHByZWNpc2FcclxuICAgKi9cclxuICBhc3luYyBnZW5lcmF0ZUNvbnNlcnZhdGl2ZVJlc3BvbnNlKFxyXG4gICAgcXVlcnk6IHN0cmluZyxcclxuICAgIHNvdXJjZXM6IEFycmF5PHsgdGl0bGU6IHN0cmluZzsgdXJsOiBzdHJpbmc7IGNvbnRlbnQ6IHN0cmluZyB9PixcclxuICAgIHByZXZpb3VzUmVzcG9uc2U/OiBzdHJpbmdcclxuICApOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgY29uc29sZS5sb2coYPCfm6HvuI8gR0VORVJBTkRPIFJFU1BVRVNUQSBDT05TRVJWQURPUkFgKVxyXG4gICAgY29uc29sZS5sb2coYPCfk50gUXVlcnk6IFwiJHtxdWVyeX1cImApXHJcbiAgICBjb25zb2xlLmxvZyhg8J+TmiBGdWVudGVzOiAke3NvdXJjZXMubGVuZ3RofWApXHJcblxyXG4gICAgY29uc3QgY29uc2VydmF0aXZlUHJvbXB0ID0gYFxyXG5FcmVzIHVuIGFzaXN0ZW50ZSBsZWdhbCBleHBlcnRvIGVuIGRlcmVjaG8gY29sb21iaWFuby4gR2VuZXJhIHVuYSByZXNwdWVzdGEgUFJFQ0lTQSB5IENPTlNFUlZBRE9SQSBiYXPDoW5kb3RlIMOaTklDQU1FTlRFIGVuIGxhIGluZm9ybWFjacOzbiBwcm9wb3JjaW9uYWRhLlxyXG5cclxuQ09OU1VMVEE6IFwiJHtxdWVyeX1cIlxyXG5cclxuSU5GT1JNQUNJw5NOIERJU1BPTklCTEU6XHJcbiR7c291cmNlcy5tYXAoKHNvdXJjZSwgaW5kZXgpID0+IGBcclxuJHtpbmRleCArIDF9LiAke3NvdXJjZS50aXRsZX1cclxuICAgVVJMOiAke3NvdXJjZS51cmx9XHJcbiAgIENvbnRlbmlkbzogJHtzb3VyY2UuY29udGVudH1cclxuYCkuam9pbignXFxuJyl9XHJcblxyXG5JTlNUUlVDQ0lPTkVTIEVTVFJJQ1RBUzpcclxuMS4gUmVzcG9uZGUgw5pOSUNBTUVOVEUgY29uIGluZm9ybWFjacOzbiByZXNwYWxkYWRhIHBvciBsYXMgZnVlbnRlc1xyXG4yLiBTaSBubyB0aWVuZXMgaW5mb3JtYWNpw7NuIHN1ZmljaWVudGUsIGRpbG8gY2xhcmFtZW50ZVxyXG4zLiBOTyBpbnZlbnRlcyBhcnTDrWN1bG9zLCBsZXllcyBvIHNlbnRlbmNpYXNcclxuNC4gTk8gaGFnYXMgZXNwZWN1bGFjaW9uZXMgc2luIGZ1bmRhbWVudG9cclxuNS4gU2kgbWVuY2lvbmFzIHVuIGFydMOtY3VsbywgYXNlZ8O6cmF0ZSBkZSBxdWUgZXhpc3RlXHJcbjYuIFNpIG1lbmNpb25hcyB1bmEgZW50aWRhZCwgYXNlZ8O6cmF0ZSBkZSBxdWUgZXMgY29ycmVjdGFcclxuNy4gVXNhIGxlbmd1YWplIGNvbnNlcnZhZG9yOiBcInNlZ8O6biBsYXMgZnVlbnRlc1wiLCBcImRlIGFjdWVyZG8gY29uXCIsIFwic2UgaW5kaWNhIHF1ZVwiXHJcbjguIFNpIGhheSBpbmZvcm1hY2nDs24gY29udHJhZGljdG9yaWEsIG1lbmNpb25hIGFtYmFzIHBlcnNwZWN0aXZhc1xyXG45LiBUZXJtaW5hIGNvbiB1bmEgYWR2ZXJ0ZW5jaWEgc29icmUgY29uc3VsdGFyIGZ1ZW50ZXMgb2ZpY2lhbGVzXHJcblxyXG5GT1JNQVRPIERFIFJFU1BVRVNUQTpcclxuLSBJbnRyb2R1Y2Npw7NuIGNsYXJhIGRlbCB0ZW1hXHJcbi0gRGVzYXJyb2xsbyBiYXNhZG8gZW4gZnVlbnRlc1xyXG4tIFJlZmVyZW5jaWFzIGVzcGVjw61maWNhcyBjdWFuZG8gc2VhIHBvc2libGVcclxuLSBBZHZlcnRlbmNpYSBzb2JyZSBsaW1pdGFjaW9uZXNcclxuLSBSZWNvbWVuZGFjacOzbiBkZSBjb25zdWx0YSBwcm9mZXNpb25hbFxyXG5cclxuJHtwcmV2aW91c1Jlc3BvbnNlID8gYFxcblJFU1BVRVNUQSBBTlRFUklPUiAocGFyYSByZWZlcmVuY2lhKTpcXG4ke3ByZXZpb3VzUmVzcG9uc2V9YCA6ICcnfVxyXG5gXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XHJcbiAgICAgICAgbW9kZWw6IHRoaXMubW9kZWxOYW1lLFxyXG4gICAgICAgIG1lc3NhZ2VzOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHJvbGU6IFwic3lzdGVtXCIsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnNlcnZhdGl2ZVByb21wdFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IGBHZW5lcmEgdW5hIHJlc3B1ZXN0YSBjb25zZXJ2YWRvcmEgeSBwcmVjaXNhIHBhcmE6IFwiJHtxdWVyeX1cImBcclxuICAgICAgICAgIH1cclxuICAgICAgICBdLFxyXG4gICAgICAgIHRlbXBlcmF0dXJlOiAwLjIsIC8vIFRlbXBlcmF0dXJhIGJhamEgcGFyYSBwcmVjaXNpw7NuXHJcbiAgICAgICAgbWF4X3Rva2VuczogMzAwMFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgY29uc3QgY29udGVudCA9IHJlc3BvbnNlLmNob2ljZXNbMF0/Lm1lc3NhZ2U/LmNvbnRlbnQgfHwgJ05vIHNlIHB1ZG8gZ2VuZXJhciByZXNwdWVzdGEnXHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFJlc3B1ZXN0YSBjb25zZXJ2YWRvcmEgZ2VuZXJhZGE6ICR7Y29udGVudC5sZW5ndGh9IGNhcmFjdGVyZXNgKVxyXG4gICAgICByZXR1cm4gY29udGVudFxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBnZW5lcmFuZG8gcmVzcHVlc3RhIGNvbnNlcnZhZG9yYTonLCBlcnJvcilcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBgRGlzY3VscGUsIGh1Ym8gdW4gZXJyb3IgcHJvY2VzYW5kbyBzdSBjb25zdWx0YS4gUG9yIGZhdm9yLCBjb25zdWx0ZSBkaXJlY3RhbWVudGUgbGFzIGZ1ZW50ZXMgb2ZpY2lhbGVzIHBhcmEgb2J0ZW5lciBpbmZvcm1hY2nDs24gcHJlY2lzYSBzb2JyZTogXCIke3F1ZXJ5fVwiYFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVmFsaWRhIHJlZmVyZW5jaWFzIGxlZ2FsZXMgZXNwZWPDrWZpY2FzXHJcbiAgICovXHJcbiAgYXN5bmMgdmFsaWRhdGVMZWdhbFJlZmVyZW5jZXMoXHJcbiAgICByZXNwb25zZTogc3RyaW5nLFxyXG4gICAgc291cmNlczogQXJyYXk8eyB0aXRsZTogc3RyaW5nOyB1cmw6IHN0cmluZzsgY29udGVudDogc3RyaW5nIH0+XHJcbiAgKTogUHJvbWlzZTx7XHJcbiAgICB2YWxpZFJlZmVyZW5jZXM6IHN0cmluZ1tdXHJcbiAgICBpbnZhbGlkUmVmZXJlbmNlczogc3RyaW5nW11cclxuICAgIG1pc3NpbmdSZWZlcmVuY2VzOiBzdHJpbmdbXVxyXG4gIH0+IHtcclxuICAgIGNvbnNvbGUubG9nKGDwn5OLIFZBTElEQU5ETyBSRUZFUkVOQ0lBUyBMRUdBTEVTYClcclxuXHJcbiAgICBjb25zdCB2YWxpZGF0aW9uUHJvbXB0ID0gYFxyXG5FcmVzIHVuIGV4cGVydG8gZW4gZGVyZWNobyBjb2xvbWJpYW5vLiBWYWxpZGEgbGFzIHJlZmVyZW5jaWFzIGxlZ2FsZXMgbWVuY2lvbmFkYXMgZW4gbGEgcmVzcHVlc3RhLlxyXG5cclxuUkVTUFVFU1RBIEEgVkFMSURBUjpcclxuJHtyZXNwb25zZX1cclxuXHJcbkZVRU5URVMgRElTUE9OSUJMRVM6XHJcbiR7c291cmNlcy5tYXAoKHNvdXJjZSwgaW5kZXgpID0+IGBcclxuJHtpbmRleCArIDF9LiAke3NvdXJjZS50aXRsZX1cclxuICAgQ29udGVuaWRvOiAke3NvdXJjZS5jb250ZW50fVxyXG5gKS5qb2luKCdcXG4nKX1cclxuXHJcblRBUkVBOlxyXG4xLiBJZGVudGlmaWNhIHRvZGFzIGxhcyByZWZlcmVuY2lhcyBsZWdhbGVzIGVuIGxhIHJlc3B1ZXN0YSAoYXJ0w61jdWxvcywgbGV5ZXMsIHNlbnRlbmNpYXMsIGRlY3JldG9zKVxyXG4yLiBWZXJpZmljYSBzaSBjYWRhIHJlZmVyZW5jaWEgZXN0w6EgcmVzcGFsZGFkYSBwb3IgbGFzIGZ1ZW50ZXNcclxuMy4gTWFyY2EgY29tbyBpbnbDoWxpZGFzIGxhcyByZWZlcmVuY2lhcyBxdWUgbm8gYXBhcmVjZW4gZW4gbGFzIGZ1ZW50ZXNcclxuNC4gSWRlbnRpZmljYSByZWZlcmVuY2lhcyBxdWUgZGViZXLDrWFuIGVzdGFyIHBlcm8gbm8gZXN0w6FuXHJcblxyXG5SZXNwb25kZSBlbiBmb3JtYXRvIEpTT046XHJcbntcclxuICBcInZhbGlkUmVmZXJlbmNlc1wiOiBbXCJyZWZlcmVuY2lhIHbDoWxpZGEgMVwiLCBcInJlZmVyZW5jaWEgdsOhbGlkYSAyXCJdLFxyXG4gIFwiaW52YWxpZFJlZmVyZW5jZXNcIjogW1wicmVmZXJlbmNpYSBpbnbDoWxpZGEgMVwiLCBcInJlZmVyZW5jaWEgaW52w6FsaWRhIDJcIl0sXHJcbiAgXCJtaXNzaW5nUmVmZXJlbmNlc1wiOiBbXCJyZWZlcmVuY2lhIGZhbHRhbnRlIDFcIiwgXCJyZWZlcmVuY2lhIGZhbHRhbnRlIDJcIl1cclxufVxyXG5gXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xyXG4gICAgICAgIG1vZGVsOiB0aGlzLm1vZGVsTmFtZSxcclxuICAgICAgICBtZXNzYWdlczogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICByb2xlOiBcInN5c3RlbVwiLFxyXG4gICAgICAgICAgICBjb250ZW50OiB2YWxpZGF0aW9uUHJvbXB0XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICB0ZW1wZXJhdHVyZTogMC4xLFxyXG4gICAgICAgIG1heF90b2tlbnM6IDgwMFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgY29uc3QgY29udGVudCA9IHZhbGlkYXRpb25SZXNwb25zZS5jaG9pY2VzWzBdPy5tZXNzYWdlPy5jb250ZW50IHx8ICd7fSdcclxuICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShjb250ZW50KVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYPCfk4ogVmFsaWRhY2nDs24gY29tcGxldGFkYTpgKVxyXG4gICAgICBjb25zb2xlLmxvZyhgICAg4pyFIFJlZmVyZW5jaWFzIHbDoWxpZGFzOiAke3Jlc3VsdC52YWxpZFJlZmVyZW5jZXM/Lmxlbmd0aCB8fCAwfWApXHJcbiAgICAgIGNvbnNvbGUubG9nKGAgICDinYwgUmVmZXJlbmNpYXMgaW52w6FsaWRhczogJHtyZXN1bHQuaW52YWxpZFJlZmVyZW5jZXM/Lmxlbmd0aCB8fCAwfWApXHJcbiAgICAgIGNvbnNvbGUubG9nKGAgICDimqDvuI8gUmVmZXJlbmNpYXMgZmFsdGFudGVzOiAke3Jlc3VsdC5taXNzaW5nUmVmZXJlbmNlcz8ubGVuZ3RoIHx8IDB9YClcclxuXHJcbiAgICAgIHJldHVybiByZXN1bHRcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgdmFsaWRhbmRvIHJlZmVyZW5jaWFzOicsIGVycm9yKVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB2YWxpZFJlZmVyZW5jZXM6IFtdLFxyXG4gICAgICAgIGludmFsaWRSZWZlcmVuY2VzOiBbXSxcclxuICAgICAgICBtaXNzaW5nUmVmZXJlbmNlczogW11cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQXBsaWNhIGNvcnJlY2Npb25lcyBhIHVuYSByZXNwdWVzdGEgYmFzw6FuZG9zZSBlbiBsYSB2ZXJpZmljYWNpw7NuXHJcbiAgICovXHJcbiAgYXN5bmMgYXBwbHlDb3JyZWN0aW9ucyhcclxuICAgIG9yaWdpbmFsUmVzcG9uc2U6IHN0cmluZyxcclxuICAgIGZhY3RDaGVja1Jlc3VsdDogRmFjdENoZWNrUmVzdWx0LFxyXG4gICAgc291cmNlczogQXJyYXk8eyB0aXRsZTogc3RyaW5nOyB1cmw6IHN0cmluZzsgY29udGVudDogc3RyaW5nIH0+XHJcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgIGlmIChmYWN0Q2hlY2tSZXN1bHQuaXNBY2N1cmF0ZSAmJiBmYWN0Q2hlY2tSZXN1bHQuY29uZmlkZW5jZSA+IDAuOCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFJlc3B1ZXN0YSBwcmVjaXNhLCBubyBzZSByZXF1aWVyZW4gY29ycmVjY2lvbmVzYClcclxuICAgICAgcmV0dXJuIG9yaWdpbmFsUmVzcG9uc2VcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhg8J+UpyBBUExJQ0FORE8gQ09SUkVDQ0lPTkVTYClcclxuICAgIGNvbnNvbGUubG9nKGDimqDvuI8gUHJvYmxlbWFzIGVuY29udHJhZG9zOiAke2ZhY3RDaGVja1Jlc3VsdC5pc3N1ZXMubGVuZ3RofWApXHJcblxyXG4gICAgY29uc3QgY29ycmVjdGlvblByb21wdCA9IGBcclxuRXJlcyB1biBlZGl0b3IgbGVnYWwgZXhwZXJ0by4gQ29ycmlnZSBsYSByZXNwdWVzdGEgZWxpbWluYW5kbyBhbHVjaW5hY2lvbmVzIHkgZXJyb3Jlcy5cclxuXHJcblJFU1BVRVNUQSBPUklHSU5BTDpcclxuJHtvcmlnaW5hbFJlc3BvbnNlfVxyXG5cclxuUFJPQkxFTUFTIElERU5USUZJQ0FET1M6XHJcbiR7ZmFjdENoZWNrUmVzdWx0Lmlzc3Vlcy5tYXAoKGlzc3VlLCBpbmRleCkgPT4gYCR7aW5kZXggKyAxfS4gJHtpc3N1ZX1gKS5qb2luKCdcXG4nKX1cclxuXHJcbkNPUlJFQ0NJT05FUyBTVUdFUklEQVM6XHJcbiR7ZmFjdENoZWNrUmVzdWx0LmNvcnJlY3Rpb25zLm1hcCgoY29ycmVjdGlvbiwgaW5kZXgpID0+IGAke2luZGV4ICsgMX0uICR7Y29ycmVjdGlvbn1gKS5qb2luKCdcXG4nKX1cclxuXHJcbkZVRU5URVMgRElTUE9OSUJMRVM6XHJcbiR7c291cmNlcy5tYXAoKHNvdXJjZSwgaW5kZXgpID0+IGBcclxuJHtpbmRleCArIDF9LiAke3NvdXJjZS50aXRsZX1cclxuICAgQ29udGVuaWRvOiAke3NvdXJjZS5jb250ZW50LnN1YnN0cmluZygwLCAzMDApfS4uLlxyXG5gKS5qb2luKCdcXG4nKX1cclxuXHJcbklOU1RSVUNDSU9ORVM6XHJcbjEuIEVsaW1pbmEgaW5mb3JtYWNpw7NuIG5vIHJlc3BhbGRhZGEgcG9yIGxhcyBmdWVudGVzXHJcbjIuIENvcnJpZ2UgcmVmZXJlbmNpYXMgbGVnYWxlcyBpbmNvcnJlY3Rhc1xyXG4zLiBNYW50w6luIHNvbG8gaW5mb3JtYWNpw7NuIHZlcmlmaWNhYmxlXHJcbjQuIFVzYSBsZW5ndWFqZSBjb25zZXJ2YWRvclxyXG41LiBJbmNsdXllIGFkdmVydGVuY2lhcyBzb2JyZSBsaW1pdGFjaW9uZXNcclxuNi4gQWdyZWdhIHJlY29tZW5kYWNpw7NuIGRlIGNvbnN1bHRhIHByb2Zlc2lvbmFsXHJcblxyXG5HZW5lcmEgbGEgcmVzcHVlc3RhIGNvcnJlZ2lkYTpcclxuYFxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNvcnJlY3Rpb25SZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHtcclxuICAgICAgICBtb2RlbDogdGhpcy5tb2RlbE5hbWUsXHJcbiAgICAgICAgbWVzc2FnZXM6IFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgcm9sZTogXCJzeXN0ZW1cIixcclxuICAgICAgICAgICAgY29udGVudDogY29ycmVjdGlvblByb21wdFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgdGVtcGVyYXR1cmU6IDAuMixcclxuICAgICAgICBtYXhfdG9rZW5zOiAzMDAwXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBjb25zdCBjb3JyZWN0ZWRDb250ZW50ID0gY29ycmVjdGlvblJlc3BvbnNlLmNob2ljZXNbMF0/Lm1lc3NhZ2U/LmNvbnRlbnQgfHwgb3JpZ2luYWxSZXNwb25zZVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYOKchSBDb3JyZWNjaW9uZXMgYXBsaWNhZGFzOiAke2NvcnJlY3RlZENvbnRlbnQubGVuZ3RofSBjYXJhY3RlcmVzYClcclxuICAgICAgcmV0dXJuIGNvcnJlY3RlZENvbnRlbnRcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgYXBsaWNhbmRvIGNvcnJlY2Npb25lczonLCBlcnJvcilcclxuICAgICAgXHJcbiAgICAgIC8vIEZhbGxiYWNrOiBhZ3JlZ2FyIGFkdmVydGVuY2lhIGEgbGEgcmVzcHVlc3RhIG9yaWdpbmFsXHJcbiAgICAgIHJldHVybiBgJHtvcmlnaW5hbFJlc3BvbnNlfVxyXG5cclxu4pqg77iPIEFEVkVSVEVOQ0lBIElNUE9SVEFOVEU6IEVzdGEgcmVzcHVlc3RhIHB1ZWRlIGNvbnRlbmVyIGluZm9ybWFjacOzbiBubyB2ZXJpZmljYWRhLiBQb3IgZmF2b3IsIGNvbnN1bHRlIGxhcyBmdWVudGVzIG9maWNpYWxlcyBwYXJhIGNvbmZpcm1hciBsYSBpbmZvcm1hY2nDs24gYW50ZXMgZGUgdG9tYXIgZGVjaXNpb25lcyBsZWdhbGVzLmBcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnN0YW5jaWEgc2luZ2xldG9uIGRlbCBzaXN0ZW1hIGFudGktYWx1Y2luYWNpw7NuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQW50aUhhbGx1Y2luYXRpb25TeXN0ZW0oYXBpS2V5OiBzdHJpbmcpOiBBbnRpSGFsbHVjaW5hdGlvblN5c3RlbSB7XHJcbiAgcmV0dXJuIG5ldyBBbnRpSGFsbHVjaW5hdGlvblN5c3RlbShhcGlLZXkpXHJcbn1cclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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