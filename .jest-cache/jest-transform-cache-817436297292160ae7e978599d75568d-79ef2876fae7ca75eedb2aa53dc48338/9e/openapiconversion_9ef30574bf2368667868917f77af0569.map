{"version":3,"names":["cov_2zl6a8ipt","actualCoverage","json_schema_ref_parser_1","s","__importDefault","require","validateOpenAPI","openapiSpec","f","info","b","Error","title","version","servers","length","url","paths","Object","keys","forEach","path","startsWith","values","some","methods","spec","operationId","requestBody","content","schema","properties","exports","openapiToFunctions","functions","routes","entries","method","specWithRef","default","dereference","functionName","desc","description","summary","type","reqBody","params","parameters","paramProperties","reduce","acc","param","name","push","function","requestInBody","server"],"sources":["C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\openapi-conversion.ts"],"sourcesContent":["import $RefParser from \"@apidevtools/json-schema-ref-parser\"\r\n\r\ninterface OpenAPIData {\r\n  info: {\r\n    title: string\r\n    description: string\r\n    server: string\r\n  }\r\n  routes: {\r\n    path: string\r\n    method: string\r\n    operationId: string\r\n    requestInBody?: boolean\r\n  }[]\r\n  functions: any\r\n}\r\n\r\nexport const validateOpenAPI = async (openapiSpec: any) => {\r\n  if (!openapiSpec.info) {\r\n    throw new Error(\"('info'): field required\")\r\n  }\r\n\r\n  if (!openapiSpec.info.title) {\r\n    throw new Error(\"('info', 'title'): field required\")\r\n  }\r\n\r\n  if (!openapiSpec.info.version) {\r\n    throw new Error(\"('info', 'version'): field required\")\r\n  }\r\n\r\n  if (\r\n    !openapiSpec.servers ||\r\n    !openapiSpec.servers.length ||\r\n    !openapiSpec.servers[0].url\r\n  ) {\r\n    throw new Error(\"Could not find a valid URL in `servers`\")\r\n  }\r\n\r\n  if (!openapiSpec.paths || Object.keys(openapiSpec.paths).length === 0) {\r\n    throw new Error(\"No paths found in the OpenAPI spec\")\r\n  }\r\n\r\n  Object.keys(openapiSpec.paths).forEach(path => {\r\n    if (!path.startsWith(\"/\")) {\r\n      throw new Error(`Path ${path} does not start with a slash; skipping`)\r\n    }\r\n  })\r\n\r\n  if (\r\n    openapiSpec.paths &&\r\n    Object.values(openapiSpec.paths).some((methods: any) =>\r\n      Object.values(methods).some((spec: any) => !spec.operationId)\r\n    )\r\n  ) {\r\n    throw new Error(\"Some methods are missing operationId\")\r\n  }\r\n\r\n  if (\r\n    openapiSpec.paths &&\r\n    Object.values(openapiSpec.paths).some((methods: any) =>\r\n      Object.values(methods).some(\r\n        (spec: any) => spec.requestBody && !spec.requestBody.content\r\n      )\r\n    )\r\n  ) {\r\n    throw new Error(\r\n      \"Some methods with a requestBody are missing requestBody.content\"\r\n    )\r\n  }\r\n\r\n  if (\r\n    openapiSpec.paths &&\r\n    Object.values(openapiSpec.paths).some((methods: any) =>\r\n      Object.values(methods).some((spec: any) => {\r\n        if (spec.requestBody?.content?.[\"application/json\"]?.schema) {\r\n          if (\r\n            !spec.requestBody.content[\"application/json\"].schema.properties ||\r\n            Object.keys(spec.requestBody.content[\"application/json\"].schema)\r\n              .length === 0\r\n          ) {\r\n            throw new Error(\r\n              `In context=('paths', '${Object.keys(methods)[0]}', '${\r\n                Object.keys(spec)[0]\r\n              }', 'requestBody', 'content', 'application/json', 'schema'), object schema missing properties`\r\n            )\r\n          }\r\n        }\r\n      })\r\n    )\r\n  ) {\r\n    throw new Error(\"Some object schemas are missing properties\")\r\n  }\r\n}\r\n\r\nexport const openapiToFunctions = async (\r\n  openapiSpec: any\r\n): Promise<OpenAPIData> => {\r\n  const functions: any[] = [] // Define a proper type for function objects\r\n  const routes: {\r\n    path: string\r\n    method: string\r\n    operationId: string\r\n    requestInBody?: boolean // Add a flag to indicate if the request should be in the body\r\n  }[] = []\r\n\r\n  for (const [path, methods] of Object.entries(openapiSpec.paths)) {\r\n    if (typeof methods !== \"object\" || methods === null) {\r\n      continue\r\n    }\r\n\r\n    for (const [method, specWithRef] of Object.entries(\r\n      methods as Record<string, any>\r\n    )) {\r\n      const spec: any = await $RefParser.dereference(specWithRef)\r\n      const functionName = spec.operationId\r\n      const desc = spec.description || spec.summary || \"\"\r\n\r\n      const schema: { type: string; properties: any; required?: string[] } = {\r\n        type: \"object\",\r\n        properties: {}\r\n      }\r\n\r\n      const reqBody = spec.requestBody?.content?.[\"application/json\"]?.schema\r\n      if (reqBody) {\r\n        schema.properties.requestBody = reqBody\r\n      }\r\n\r\n      const params = spec.parameters || []\r\n      if (params.length > 0) {\r\n        const paramProperties = params.reduce((acc: any, param: any) => {\r\n          if (param.schema) {\r\n            acc[param.name] = param.schema\r\n          }\r\n          return acc\r\n        }, {})\r\n\r\n        schema.properties.parameters = {\r\n          type: \"object\",\r\n          properties: paramProperties\r\n        }\r\n      }\r\n\r\n      functions.push({\r\n        type: \"function\",\r\n        function: {\r\n          name: functionName,\r\n          description: desc,\r\n          parameters: schema\r\n        }\r\n      })\r\n\r\n      // Determine if the request should be in the body based on the presence of requestBody\r\n      const requestInBody = !!spec.requestBody\r\n\r\n      routes.push({\r\n        path,\r\n        method,\r\n        operationId: functionName,\r\n        requestInBody // Include this flag in the route information\r\n      })\r\n    }\r\n  }\r\n\r\n  return {\r\n    info: {\r\n      title: openapiSpec.info.title,\r\n      description: openapiSpec.info.description,\r\n      server: openapiSpec.servers[0].url\r\n    },\r\n    routes,\r\n    functions\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}