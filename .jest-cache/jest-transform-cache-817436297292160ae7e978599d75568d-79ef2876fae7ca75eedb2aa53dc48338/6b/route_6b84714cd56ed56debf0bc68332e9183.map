{"version":3,"names":["cov_1achjk6u4t","actualCoverage","exports","POST","openapi_conversion_1","s","require","server_chat_helpers_1","ai_1","openai_1","__importDefault","conditional_web_search_1","formatLegalSearchResultsForContext","searchResponse","f","b","success","results","length","query","officialSources","filter","r","type","academicSources","newsSources","generalSources","context","searchStrategy","prioritizedResults","forEach","result","index","sourceType","title","url","relevance","snippet","request","json","chatSettings","messages","selectedTools","profile","getServerProfile","error","console","log","username","openrouter_api_key","process","env","OPENROUTER_API_KEY","openrouterApiKey","Error","openai","default","apiKey","baseURL","lastUserMessage","m","role","pop","userQuery","content","repeat","substring","searchResult","executeConditionalWebSearch","logDetection","shouldSearch","detectionResult","confidence","toFixed","reason","allTools","allRouteMaps","schemaDetails","systemMessage","generateSystemMessage","unshift","response","chat","completions","create","model","temperature","max_tokens","undefined","stream","OpenAIStream","StreamingTextResponse","selectedTool","toolSchema","schema","JSON","parse","name","convertedSchema","openapiToFunctions","tools","functions","concat","routes","Array","isArray","routeMap","reduce","map","route","path","operationId","replace","info","push","description","server","headers","custom_headers","requestInBody","webSearchContext","includes","firstResponse","message","choices","toolCalls","tool_calls","Response","toolCall","functionCall","function","functionName","argumentsString","arguments","trim","parsedArgs","schemaDetail","find","detail","Object","values","pathTemplate","keys","key","_","paramName","value","parameters","encodeURIComponent","isRequestInBody","data","customHeaders","parsedCustomHeaders","fullUrl","bodyContent","requestBody","requestInit","method","body","stringify","fetch","ok","statusText","queryParams","URLSearchParams","toString","tool_call_id","id","secondResponse","errorMessage","errorCode","status"],"sources":["C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\app\\api\\chat\\tools\\route.ts"],"sourcesContent":["import { openapiToFunctions } from \"@/lib/openapi-conversion\"\r\nimport { checkApiKey, getServerProfile } from \"@/lib/server/server-chat-helpers\"\r\nimport { Tables } from \"@/supabase/types\"\r\nimport { ChatSettings } from \"@/types\"\r\nimport { OpenAIStream, StreamingTextResponse } from \"ai\"\r\nimport OpenAI from \"openai\"\r\nimport { ChatCompletionCreateParamsBase } from \"openai/resources/chat/completions.mjs\"\r\nimport { executeConditionalWebSearch, generateSystemMessage } from \"@/lib/tools/conditional-web-search\"\r\nimport { LEGAL_SYSTEM_PROMPT, formatLegalSearchContext } from \"@/lib/prompts/legal-agent\"\r\n\r\n// Funci√≥n espec√≠fica para formatear resultados de b√∫squeda legal especializada\r\nfunction formatLegalSearchResultsForContext(searchResponse: any): string {\r\n  if (!searchResponse.success || searchResponse.results.length === 0) {\r\n    return `No se encontraron resultados legales espec√≠ficos para: \"${searchResponse.query}\"`\r\n  }\r\n\r\n  const officialSources = searchResponse.results.filter((r: any) => r.type === 'official')\r\n  const academicSources = searchResponse.results.filter((r: any) => r.type === 'academic')\r\n  const newsSources = searchResponse.results.filter((r: any) => r.type === 'news')\r\n  const generalSources = searchResponse.results.filter((r: any) => r.type === 'general')\r\n\r\n  let context = `‚öñÔ∏è INFORMACI√ìN LEGAL ESPECIALIZADA ENCONTRADA:\\n\\n`\r\n  context += `üìä Estrategia de b√∫squeda: ${searchResponse.searchStrategy}\\n`\r\n  context += `üìã Resumen de fuentes:\\n`\r\n  context += `   - Fuentes oficiales: ${officialSources.length}\\n`\r\n  context += `   - Fuentes acad√©micas: ${academicSources.length}\\n`\r\n  context += `   - Fuentes noticiosas: ${newsSources.length}\\n`\r\n  context += `   - Fuentes generales: ${generalSources.length}\\n\\n`\r\n\r\n  // Priorizar fuentes oficiales\r\n  const prioritizedResults = [...officialSources, ...academicSources, ...newsSources, ...generalSources]\r\n\r\n  prioritizedResults.forEach((result: any, index: number) => {\r\n    const sourceType = result.type === 'official' ? '[OFICIAL]' : \r\n                     result.type === 'academic' ? '[ACAD√âMICA]' : \r\n                     result.type === 'news' ? '[NOTICIAS]' : '[GENERAL]'\r\n    \r\n    context += `**${index + 1}. ${sourceType} ${result.title}**\\n`\r\n    context += `üîó URL: ${result.url}\\n`\r\n    context += `‚≠ê Relevancia: ${result.relevance}/20\\n`\r\n    context += `üìù Contenido legal:\\n${result.snippet}\\n\\n`\r\n    context += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\\n\\n`\r\n  })\r\n\r\n  context += `üö® INSTRUCCIONES CR√çTICAS:\\n`\r\n  context += `1. USA √öNICAMENTE la informaci√≥n legal espec√≠fica encontrada arriba\\n`\r\n  context += `2. PRIORIZA fuentes oficiales (.gov.co) sobre otras fuentes\\n`\r\n  context += `3. NO uses informaci√≥n general si hay informaci√≥n espec√≠fica aqu√≠\\n`\r\n  context += `4. Wikipedia est√° COMPLETAMENTE EXCLUIDA de esta b√∫squeda\\n`\r\n  context += `5. Responde con precisi√≥n jur√≠dica colombiana\\n\\n`\r\n\r\n  return context\r\n}\r\n\r\nexport async function POST(request: Request) {\r\n  const json = await request.json()\r\n  const { chatSettings, messages, selectedTools } = json as {\r\n    chatSettings: ChatSettings\r\n    messages: any[]\r\n    selectedTools: Tables<\"tools\">[]\r\n  }\r\n\r\n  try {\r\n    let profile\r\n    try {\r\n      profile = await getServerProfile()\r\n    } catch (error) {\r\n      console.log('‚ö†Ô∏è Usuario no autenticado, usando configuraci√≥n por defecto')\r\n      profile = {\r\n        username: 'usuario-anonimo',\r\n        openrouter_api_key: process.env.OPENROUTER_API_KEY || ''\r\n      }\r\n    }\r\n\r\n    // Usar API key de OpenRouter desde variables de entorno o perfil\r\n    const openrouterApiKey = process.env.OPENROUTER_API_KEY || profile.openrouter_api_key || \"\"\r\n\r\n    if (!openrouterApiKey) {\r\n      throw new Error(\"OpenRouter API Key no configurada. Por favor configura OPENROUTER_API_KEY en las variables de entorno o en tu perfil.\")\r\n    }\r\n\r\n    const openai = new OpenAI({\r\n      apiKey: openrouterApiKey,\r\n      baseURL: \"https://openrouter.ai/api/v1\"\r\n    })\r\n\r\n    // üß† B√öSQUEDA WEB INTELIGENTE - SOLO CUANDO ES NECESARIO\r\n    const lastUserMessage = messages.filter(m => m.role === 'user').pop()\r\n    const userQuery = lastUserMessage?.content || ''\r\n    \r\n    console.log(`\\n${\"üß†\".repeat(60)}`)\r\n    console.log(`üîç CHAT TOOLS - B√öSQUEDA WEB INTELIGENTE`)\r\n    console.log(`   Query: \"${userQuery.substring(0, 50)}...\"`)\r\n    console.log(`   Usuario: ${profile?.username || 'usuario-anonimo'}`)\r\n    console.log(`${\"üß†\".repeat(60)}\\n`)\r\n    \r\n    // Ejecutar b√∫squeda condicional inteligente\r\n    const searchResult = await executeConditionalWebSearch(userQuery, {\r\n      logDetection: true\r\n    })\r\n    \r\n    console.log(`\\n${\"üß†\".repeat(60)}`)\r\n    console.log(`‚úÖ AN√ÅLISIS INTELIGENTE COMPLETADO`)\r\n    console.log(`   üîç B√∫squeda requerida: ${searchResult.shouldSearch ? 'S√ç' : 'NO'}`)\r\n    console.log(`   üéØ Confianza: ${(searchResult.detectionResult.confidence * 100).toFixed(1)}%`)\r\n    console.log(`   üìã Raz√≥n: ${searchResult.detectionResult.reason}`)\r\n    console.log(`${\"üß†\".repeat(60)}\\n`)\r\n\r\n    let allTools: OpenAI.Chat.Completions.ChatCompletionTool[] = []\r\n    let allRouteMaps = {}\r\n    let schemaDetails = []\r\n\r\n    // Si no hay herramientas seleccionadas, usar chat simple\r\n    if (!selectedTools || selectedTools.length === 0) {\r\n      console.log('‚ö†Ô∏è No hay herramientas seleccionadas, usando chat simple')\r\n      \r\n      const systemMessage = {\r\n        role: \"system\",\r\n        content: generateSystemMessage(userQuery, searchResult)\r\n      }\r\n\r\n      // Insertar el mensaje de sistema al inicio\r\n      if (messages.length === 0 || messages[0].role !== \"system\") {\r\n        messages.unshift(systemMessage)\r\n      } else {\r\n        // Si ya hay un mensaje de sistema, agregar las instrucciones\r\n        messages[0].content = `${messages[0].content}\\n\\n${systemMessage.content}`\r\n      }\r\n\r\n      const response = await openai.chat.completions.create({\r\n        model: chatSettings.model as ChatCompletionCreateParamsBase[\"model\"],\r\n        messages,\r\n        temperature: chatSettings.temperature,\r\n        max_tokens: undefined,\r\n        stream: true\r\n      })\r\n\r\n      const stream = OpenAIStream(response)\r\n      return new StreamingTextResponse(stream)\r\n    }\r\n\r\n    for (const selectedTool of selectedTools) {\r\n      try {\r\n        // Verificar que el schema sea v√°lido antes de parsearlo\r\n        let toolSchema\r\n        try {\r\n          toolSchema = typeof selectedTool.schema === 'string' \r\n            ? JSON.parse(selectedTool.schema) \r\n            : selectedTool.schema\r\n        } catch (error) {\r\n          console.error(`‚ùå Error parsing schema for tool ${selectedTool.name}:`, error)\r\n          continue // Saltar esta herramienta si el schema es inv√°lido\r\n        }\r\n\r\n        const convertedSchema = await openapiToFunctions(toolSchema)\r\n        \r\n        // Validar que convertedSchema sea v√°lido\r\n        if (!convertedSchema || typeof convertedSchema !== 'object') {\r\n          console.error(`‚ùå Invalid converted schema for tool ${selectedTool.name}`)\r\n          continue\r\n        }\r\n        \r\n        const tools = convertedSchema.functions || []\r\n        allTools = allTools.concat(tools)\r\n\r\n        // Validar que routes exista y sea un array\r\n        if (!convertedSchema.routes || !Array.isArray(convertedSchema.routes)) {\r\n          console.error(`‚ùå Invalid routes for tool ${selectedTool.name}`)\r\n          continue\r\n        }\r\n\r\n        const routeMap = convertedSchema.routes.reduce(\r\n          (map: Record<string, string>, route) => {\r\n            if (route && route.path && route.operationId) {\r\n              map[route.path.replace(/{(\\w+)}/g, \":$1\")] = route.operationId\r\n            }\r\n            return map\r\n          },\r\n          {}\r\n        )\r\n\r\n        allRouteMaps = { ...allRouteMaps, ...routeMap }\r\n\r\n        // Validar que info exista antes de acceder a sus propiedades\r\n        const info = convertedSchema.info || {}\r\n        schemaDetails.push({\r\n          title: info.title || selectedTool.name,\r\n          description: info.description || '',\r\n          url: info.server || '',\r\n          headers: selectedTool.custom_headers,\r\n          routeMap,\r\n          requestInBody: convertedSchema.routes[0]?.requestInBody || false\r\n        })\r\n      } catch (error: any) {\r\n        console.error(\"Error converting schema\", error)\r\n      }\r\n    }\r\n\r\n    // Agregar contexto de b√∫squeda legal especializada a los mensajes\r\n    const systemMessage = {\r\n      role: \"system\",\r\n      content: `Eres un asistente legal especializado en derecho colombiano.\r\n\r\n‚öñÔ∏è B√öSQUEDA LEGAL ESPECIALIZADA EJECUTADA\r\n\r\nHe ejecutado una b√∫squeda legal especializada sobre \"${userQuery}\" usando herramientas optimizadas que excluyen Wikipedia y priorizan fuentes oficiales colombianas.\r\n\r\n**MEMORIA DE CONVERSACI√ìN**:\r\n- SIEMPRE recuerda el contexto de mensajes anteriores en esta conversaci√≥n\r\n- Si el usuario hace referencia a algo mencionado antes, responde en ese contexto\r\n- Mant√©n coherencia con respuestas previas sobre el mismo tema\r\n- NO repitas informaci√≥n ya proporcionada, pero puedes ampliarla si es necesario\r\n\r\n**FORMATO DE RESPUESTA**:\r\nResponde de forma directa y conversacional, como un abogado experto. NO uses t√≠tulos como \"Marco Normativo\", \"An√°lisis Jur√≠dico\", etc. Responde directamente la pregunta espec√≠fica del usuario.\r\n\r\n${webSearchContext.includes('ERROR') || webSearchContext.includes('SIN RESULTADOS') ? \r\n  `‚ö†Ô∏è RESULTADO DE B√öSQUEDA LEGAL: ${webSearchContext}\r\n\r\nAunque la b√∫squeda legal especializada no encontr√≥ resultados espec√≠ficos, responde bas√°ndote en tu conocimiento jur√≠dico colombiano.\r\n\r\nINSTRUCCIONES:\r\n1. **Responde** bas√°ndote en tu conocimiento legal colombiano\r\n2. **NO incluyas** bibliograf√≠a web (no hay URLs v√°lidas)\r\n3. **Explica** que la b√∫squeda legal no encontr√≥ fuentes espec√≠ficas\r\n4. **Usa** terminolog√≠a jur√≠dica colombiana precisa` : \r\n  `‚úÖ RESULTADO DE B√öSQUEDA LEGAL: Informaci√≥n jur√≠dica encontrada\r\n\r\n${webSearchContext}\r\n\r\nINSTRUCCIONES:\r\n1. **USA** la informaci√≥n legal encontrada arriba para responder\r\n2. **PRIORIZA** fuentes oficiales (.gov.co) sobre otras fuentes\r\n3. **RESPONDE** de forma directa y conversacional, sin t√≠tulos formales\r\n4. **AL FINAL** de tu respuesta, incluye:\r\n\r\n   üìö Fuentes Consultadas\r\n   \r\n   1. [T√≠tulo](URL exacta copiada de arriba)\r\n   2. [T√≠tulo](URL exacta copiada de arriba)\r\n   ...\r\n\r\n5. **IMPORTANTE**: Usa SOLO las URLs que aparecen arriba. NO inventes URLs.\r\n6. **WIKIPEDIA**: Est√° completamente excluida de las b√∫squedas legales`}\r\n\r\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\r\n\r\n**OBLIGATORIO**: Responde directamente sobre el derecho colombiano con precisi√≥n jur√≠dica, recordando el contexto de la conversaci√≥n.\r\n\r\nResponde en espa√±ol colombiano con terminolog√≠a jur√≠dica precisa.`\r\n    }\r\n\r\n    // Insertar el mensaje de sistema al inicio\r\n    if (messages.length === 0 || messages[0].role !== \"system\") {\r\n      messages.unshift(systemMessage)\r\n    } else {\r\n      // Si ya hay un mensaje de sistema, agregar las instrucciones\r\n      messages[0].content = `${messages[0].content}\\n\\n${systemMessage.content}`\r\n    }\r\n\r\n    const firstResponse = await openai.chat.completions.create({\r\n      model: chatSettings.model as ChatCompletionCreateParamsBase[\"model\"],\r\n      messages,\r\n      tools: allTools.length > 0 ? allTools : undefined\r\n    })\r\n\r\n    const message = firstResponse.choices[0].message\r\n    messages.push(message)\r\n    const toolCalls = message.tool_calls || []\r\n\r\n    if (toolCalls.length === 0) {\r\n      return new Response(message.content, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        }\r\n      })\r\n    }\r\n\r\n    if (toolCalls.length > 0) {\r\n      for (const toolCall of toolCalls) {\r\n        const functionCall = toolCall.function\r\n        const functionName = functionCall.name\r\n        const argumentsString = toolCall.function.arguments.trim()\r\n        const parsedArgs = JSON.parse(argumentsString)\r\n\r\n        // Find the schema detail that contains the function name\r\n        const schemaDetail = schemaDetails.find(detail =>\r\n          Object.values(detail.routeMap).includes(functionName)\r\n        )\r\n\r\n        if (!schemaDetail) {\r\n          throw new Error(`Function ${functionName} not found in any schema`)\r\n        }\r\n\r\n        const pathTemplate = Object.keys(schemaDetail.routeMap).find(\r\n          key => schemaDetail.routeMap[key] === functionName\r\n        )\r\n\r\n        if (!pathTemplate) {\r\n          throw new Error(`Path for function ${functionName} not found`)\r\n        }\r\n\r\n        const path = pathTemplate.replace(/:(\\w+)/g, (_, paramName) => {\r\n          const value = parsedArgs.parameters[paramName]\r\n          if (!value) {\r\n            throw new Error(\r\n              `Parameter ${paramName} not found for function ${functionName}`\r\n            )\r\n          }\r\n          return encodeURIComponent(value)\r\n        })\r\n\r\n        if (!path) {\r\n          throw new Error(`Path for function ${functionName} not found`)\r\n        }\r\n\r\n        // Determine if the request should be in the body or as a query\r\n        const isRequestInBody = schemaDetail.requestInBody\r\n        let data = {}\r\n\r\n        if (isRequestInBody) {\r\n          // If the type is set to body\r\n          let headers = {\r\n            \"Content-Type\": \"application/json\"\r\n          }\r\n\r\n          // Check if custom headers are set\r\n          const customHeaders = schemaDetail.headers // Moved this line up to the loop\r\n          // Check if custom headers are set and are of type string\r\n          if (customHeaders && typeof customHeaders === \"string\") {\r\n            let parsedCustomHeaders = JSON.parse(customHeaders) as Record<\r\n              string,\r\n              string\r\n            >\r\n\r\n            headers = {\r\n              ...headers,\r\n              ...parsedCustomHeaders\r\n            }\r\n          }\r\n\r\n          const fullUrl = schemaDetail.url + path\r\n\r\n          const bodyContent = parsedArgs.requestBody || parsedArgs\r\n\r\n          const requestInit = {\r\n            method: \"POST\",\r\n            headers,\r\n            body: JSON.stringify(bodyContent) // Use the extracted requestBody or the entire parsedArgs\r\n          }\r\n\r\n          const response = await fetch(fullUrl, requestInit)\r\n\r\n          if (!response.ok) {\r\n            data = {\r\n              error: response.statusText\r\n            }\r\n          } else {\r\n            data = await response.json()\r\n          }\r\n        } else {\r\n          // If the type is set to query\r\n          const queryParams = new URLSearchParams(\r\n            parsedArgs.parameters\r\n          ).toString()\r\n          const fullUrl =\r\n            schemaDetail.url + path + (queryParams ? \"?\" + queryParams : \"\")\r\n\r\n          let headers = {}\r\n\r\n          // Check if custom headers are set\r\n          const customHeaders = schemaDetail.headers\r\n          if (customHeaders && typeof customHeaders === \"string\") {\r\n            headers = JSON.parse(customHeaders)\r\n          }\r\n\r\n          const response = await fetch(fullUrl, {\r\n            method: \"GET\",\r\n            headers: headers\r\n          })\r\n\r\n          if (!response.ok) {\r\n            data = {\r\n              error: response.statusText\r\n            }\r\n          } else {\r\n            data = await response.json()\r\n          }\r\n        }\r\n\r\n        messages.push({\r\n          tool_call_id: toolCall.id,\r\n          role: \"tool\",\r\n          name: functionName,\r\n          content: JSON.stringify(data)\r\n        })\r\n      }\r\n    }\r\n\r\n    const secondResponse = await openai.chat.completions.create({\r\n      model: chatSettings.model as ChatCompletionCreateParamsBase[\"model\"],\r\n      messages,\r\n      stream: true\r\n    })\r\n\r\n    const stream = OpenAIStream(secondResponse)\r\n\r\n    return new StreamingTextResponse(stream)\r\n  } catch (error: any) {\r\n    console.error(error)\r\n    const errorMessage = error.error?.message || \"An unexpected error occurred\"\r\n    const errorCode = error.status || 500\r\n    return new Response(JSON.stringify({ message: errorMessage }), {\r\n      status: errorCode\r\n    })\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}