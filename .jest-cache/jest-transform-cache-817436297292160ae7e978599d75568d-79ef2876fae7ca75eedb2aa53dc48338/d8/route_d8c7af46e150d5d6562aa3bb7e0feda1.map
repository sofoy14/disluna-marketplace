{"version":3,"names":["cov_1ktk7ftj0w","actualCoverage","exports","GET","server_chat_helpers_1","s","require","openai_1","__importDefault","runtime","f","profile","getServerProfile","checkApiKey","openai_api_key","openai","default","apiKey","b","organization","openai_organization_id","myAssistants","beta","assistants","list","limit","Response","JSON","stringify","data","status","error","errorMessage","message","errorCode"],"sources":["C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\app\\api\\assistants\\openai\\route.ts"],"sourcesContent":["import { checkApiKey, getServerProfile } from \"@/lib/server/server-chat-helpers\"\r\nimport { ServerRuntime } from \"next\"\r\nimport OpenAI from \"openai\"\r\n\r\nexport const runtime: ServerRuntime = \"edge\"\r\n\r\nexport async function GET() {\r\n  try {\r\n    const profile = await getServerProfile()\r\n\r\n    checkApiKey(profile.openai_api_key, \"OpenAI\")\r\n\r\n    const openai = new OpenAI({\r\n      apiKey: profile.openai_api_key || \"\",\r\n      organization: profile.openai_organization_id\r\n    })\r\n\r\n    const myAssistants = await openai.beta.assistants.list({\r\n      limit: 100\r\n    })\r\n\r\n    return new Response(JSON.stringify({ assistants: myAssistants.data }), {\r\n      status: 200\r\n    })\r\n  } catch (error: any) {\r\n    const errorMessage = error.error?.message || \"An unexpected error occurred\"\r\n    const errorCode = error.status || 500\r\n    return new Response(JSON.stringify({ message: errorMessage }), {\r\n      status: errorCode\r\n    })\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]}