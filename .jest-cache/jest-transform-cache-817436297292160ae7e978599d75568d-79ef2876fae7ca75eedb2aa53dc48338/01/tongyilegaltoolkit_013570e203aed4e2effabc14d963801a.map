{"version":3,"names":["cov_ij6ohm91x","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage","web_search_1","require","searchOfficialSources","args","console","log","query","success","error","results","searchAcademicSources","searchGeneralWeb","extractWithJina","url","extractUrlContent","content","verifyLegalSources","length","verified","issues","exports","LEGAL_TOOLS","description","implementation"],"sources":["C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\tools\\legal\\tongyi-legal-toolkit.ts"],"sourcesContent":["/**\n * Toolkit Unificado de Herramientas Legales para Tongyi\n * Versi贸n simplificada que consolida Serper + Jina AI\n */\n\n// import { SimpleSearchEngine } from \"./simple-search-engine\" // ELIMINADO - archivo movido\nimport { extractUrlContent } from \"@/lib/tools/web-search\"\n\n// Define a generic tool interface\nexport interface Tool {\n  name: string\n  description: string\n  implementation: (...args: any[]) => Promise<any>\n}\n\n// Create search engine instance\n// const searchEngine = new SimpleSearchEngine() // ELIMINADO - archivo movido\n\n// Implementations for the tools\nconst searchOfficialSources = async (args: { query: string; maxResults?: number }) => {\n  console.log(` Executing tool: searchOfficialSources with query: \"${args.query}\"`)\n  // ELIMINADO - SimpleSearchEngine movido durante refactorizaci贸n\n  return {\n    success: false,\n    error: \"Sistema de b煤squeda temporalmente deshabilitado durante refactorizaci贸n\",\n    results: []\n  }\n  \n  /*\n  try {\n    const results = await searchEngine.searchOfficial(args.query, args.maxResults || 3)\n    \n    // For each result, extract content using Jina AI\n    const enrichedResults = await Promise.all(results.map(async (result: any) => {\n      try {\n        const content = await extractUrlContent(result.url)\n        return { ...result, content }\n      } catch (error) {\n        console.error(`Error extracting content from ${result.url}:`, error)\n        return { ...result, content: result.snippet || 'Contenido no disponible' }\n      }\n    }))\n    \n    return enrichedResults\n  } catch (error) {\n    console.error('Error in searchOfficialSources:', error)\n    return []\n  }\n  */\n}\n\nconst searchAcademicSources = async (args: { query: string; maxResults?: number }) => {\n  console.log(` Executing tool: searchAcademicSources with query: \"${args.query}\"`)\n  // ELIMINADO - SimpleSearchEngine movido durante refactorizaci贸n\n  return []\n  \n  /*\n  try {\n    const results = await searchEngine.searchAcademic(args.query, args.maxResults || 3)\n    \n    const enrichedResults = await Promise.all(results.map(async (result: any) => {\n      try {\n        const content = await extractUrlContent(result.url)\n        return { ...result, content }\n      } catch (error) {\n        console.error(`Error extracting content from ${result.url}:`, error)\n        return { ...result, content: result.snippet || 'Contenido no disponible' }\n      }\n    }))\n    \n    return enrichedResults\n  } catch (error) {\n    console.error('Error in searchAcademicSources:', error)\n    return []\n  }\n  */\n}\n\nconst searchGeneralWeb = async (args: { query: string; maxResults?: number }) => {\n  console.log(` Executing tool: searchGeneralWeb with query: \"${args.query}\"`)\n  // ELIMINADO - SimpleSearchEngine movido durante refactorizaci贸n\n  return []\n  \n  /*\n  try {\n    const results = await searchEngine.searchGeneral(args.query, args.maxResults || 2)\n    \n    const enrichedResults = await Promise.all(results.map(async (result: any) => {\n      try {\n        const content = await extractUrlContent(result.url)\n        return { ...result, content }\n      } catch (error) {\n        console.error(`Error extracting content from ${result.url}:`, error)\n        return { ...result, content: result.snippet || 'Contenido no disponible' }\n      }\n    }))\n    \n    return enrichedResults\n  } catch (error) {\n    console.error('Error in searchGeneralWeb:', error)\n    return []\n  }\n  */\n}\n\nconst extractWithJina = async (url: string) => {\n  console.log(` Executing tool: extractWithJina for URL: \"${url}\"`)\n  try {\n    return await extractUrlContent(url)\n  } catch (error) {\n    console.error('Error in extractWithJina:', error)\n    return { content: 'Error extrayendo contenido', url }\n  }\n}\n\n// Placeholder for legal source verification\nconst verifyLegalSources = async (sources: any[]) => {\n  console.log(` Executing tool: verifyLegalSources for ${sources.length} sources`)\n  return { verified: true, issues: [] }\n}\n\n// Unified toolkit array\nexport const LEGAL_TOOLS: Tool[] = [\n  {\n    name: 'search_legal_official',\n    description: 'Busca informaci贸n legal en fuentes oficiales colombianas (leyes, decretos, sentencias de altas cortes).',\n    implementation: searchOfficialSources\n  },\n  {\n    name: 'search_legal_academic',\n    description: 'Busca informaci贸n legal en fuentes acad茅micas (art铆culos, revistas, libros de derecho).',\n    implementation: searchAcademicSources\n  },\n  {\n    name: 'search_general_web',\n    description: 'Realiza una b煤squeda general en la web para informaci贸n complementaria.',\n    implementation: searchGeneralWeb\n  },\n  {\n    name: 'web_content_extract',\n    description: 'Extrae el contenido completo de una URL utilizando Jina AI.',\n    implementation: extractWithJina\n  },\n  {\n    name: 'legal_source_verify',\n    description: 'Verifica la autenticidad y relevancia de las fuentes legales.',\n    implementation: verifyLegalSources\n  }\n]"],"mappings":"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","ignoreList":[]}