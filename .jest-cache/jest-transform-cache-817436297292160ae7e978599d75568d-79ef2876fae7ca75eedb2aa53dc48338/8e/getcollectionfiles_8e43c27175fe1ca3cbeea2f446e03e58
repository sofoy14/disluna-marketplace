ba63cfe9ca5d75bf7abe91cd3ee82857
"use strict";

/* istanbul ignore next */
function cov_5whzuhbwn() {
  var path = "C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\collections\\get-collection-files.ts";
  var hash = "9a05fe40ce4879a7775455f817e3d9e658c12e1d";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\collections\\get-collection-files.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 2,
          column: 62
        }
      },
      "1": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 3,
          column: 48
        }
      },
      "2": {
        start: {
          line: 4,
          column: 0
        },
        end: {
          line: 4,
          column: 64
        }
      },
      "3": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 5,
          column: 52
        }
      },
      "4": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 6,
          column: 63
        }
      },
      "5": {
        start: {
          line: 11,
          column: 4
        },
        end: {
          line: 62,
          column: 5
        }
      },
      "6": {
        start: {
          line: 13,
          column: 61
        },
        end: {
          line: 17,
          column: 21
        }
      },
      "7": {
        start: {
          line: 18,
          column: 8
        },
        end: {
          line: 21,
          column: 9
        }
      },
      "8": {
        start: {
          line: 19,
          column: 12
        },
        end: {
          line: 19,
          column: 74
        }
      },
      "9": {
        start: {
          line: 20,
          column: 12
        },
        end: {
          line: 20,
          column: 24
        }
      },
      "10": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 24,
          column: 9
        }
      },
      "11": {
        start: {
          line: 23,
          column: 12
        },
        end: {
          line: 23,
          column: 24
        }
      },
      "12": {
        start: {
          line: 26,
          column: 61
        },
        end: {
          line: 43,
          column: 46
        }
      },
      "13": {
        start: {
          line: 44,
          column: 8
        },
        end: {
          line: 47,
          column: 9
        }
      },
      "14": {
        start: {
          line: 45,
          column: 12
        },
        end: {
          line: 45,
          column: 84
        }
      },
      "15": {
        start: {
          line: 46,
          column: 12
        },
        end: {
          line: 46,
          column: 24
        }
      },
      "16": {
        start: {
          line: 49,
          column: 22
        },
        end: {
          line: 51,
          column: 48
        }
      },
      "17": {
        start: {
          line: 50,
          column: 24
        },
        end: {
          line: 50,
          column: 32
        }
      },
      "18": {
        start: {
          line: 51,
          column: 28
        },
        end: {
          line: 51,
          column: 41
        }
      },
      "19": {
        start: {
          line: 52,
          column: 8
        },
        end: {
          line: 57,
          column: 10
        }
      },
      "20": {
        start: {
          line: 60,
          column: 8
        },
        end: {
          line: 60,
          column: 61
        }
      },
      "21": {
        start: {
          line: 61,
          column: 8
        },
        end: {
          line: 61,
          column: 20
        }
      },
      "22": {
        start: {
          line: 68,
          column: 4
        },
        end: {
          line: 95,
          column: 5
        }
      },
      "23": {
        start: {
          line: 69,
          column: 63
        },
        end: {
          line: 72,
          column: 26
        }
      },
      "24": {
        start: {
          line: 73,
          column: 8
        },
        end: {
          line: 76,
          column: 9
        }
      },
      "25": {
        start: {
          line: 74,
          column: 12
        },
        end: {
          line: 74,
          column: 77
        }
      },
      "26": {
        start: {
          line: 75,
          column: 12
        },
        end: {
          line: 75,
          column: 22
        }
      },
      "27": {
        start: {
          line: 77,
          column: 8
        },
        end: {
          line: 79,
          column: 9
        }
      },
      "28": {
        start: {
          line: 78,
          column: 12
        },
        end: {
          line: 78,
          column: 22
        }
      },
      "29": {
        start: {
          line: 81,
          column: 37
        },
        end: {
          line: 89,
          column: 11
        }
      },
      "30": {
        start: {
          line: 82,
          column: 40
        },
        end: {
          line: 82,
          column: 79
        }
      },
      "31": {
        start: {
          line: 83,
          column: 12
        },
        end: {
          line: 88,
          column: 14
        }
      },
      "32": {
        start: {
          line: 90,
          column: 8
        },
        end: {
          line: 90,
          column: 36
        }
      },
      "33": {
        start: {
          line: 93,
          column: 8
        },
        end: {
          line: 93,
          column: 69
        }
      },
      "34": {
        start: {
          line: 94,
          column: 8
        },
        end: {
          line: 94,
          column: 18
        }
      },
      "35": {
        start: {
          line: 101,
          column: 4
        },
        end: {
          line: 115,
          column: 5
        }
      },
      "36": {
        start: {
          line: 102,
          column: 49
        },
        end: {
          line: 105,
          column: 46
        }
      },
      "37": {
        start: {
          line: 106,
          column: 8
        },
        end: {
          line: 109,
          column: 9
        }
      },
      "38": {
        start: {
          line: 107,
          column: 12
        },
        end: {
          line: 107,
          column: 70
        }
      },
      "39": {
        start: {
          line: 108,
          column: 12
        },
        end: {
          line: 108,
          column: 22
        }
      },
      "40": {
        start: {
          line: 110,
          column: 8
        },
        end: {
          line: 110,
          column: 60
        }
      },
      "41": {
        start: {
          line: 110,
          column: 42
        },
        end: {
          line: 110,
          column: 52
        }
      },
      "42": {
        start: {
          line: 113,
          column: 8
        },
        end: {
          line: 113,
          column: 63
        }
      },
      "43": {
        start: {
          line: 114,
          column: 8
        },
        end: {
          line: 114,
          column: 18
        }
      }
    },
    fnMap: {
      "0": {
        name: "getCollectionFiles",
        decl: {
          start: {
            line: 10,
            column: 15
          },
          end: {
            line: 10,
            column: 33
          }
        },
        loc: {
          start: {
            line: 10,
            column: 48
          },
          end: {
            line: 63,
            column: 1
          }
        },
        line: 10
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 50,
            column: 18
          },
          end: {
            line: 50,
            column: 19
          }
        },
        loc: {
          start: {
            line: 50,
            column: 24
          },
          end: {
            line: 50,
            column: 32
          }
        },
        line: 50
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 51,
            column: 20
          },
          end: {
            line: 51,
            column: 21
          }
        },
        loc: {
          start: {
            line: 51,
            column: 28
          },
          end: {
            line: 51,
            column: 41
          }
        },
        line: 51
      },
      "3": {
        name: "getAllCollectionsWithFiles",
        decl: {
          start: {
            line: 67,
            column: 15
          },
          end: {
            line: 67,
            column: 41
          }
        },
        loc: {
          start: {
            line: 67,
            column: 44
          },
          end: {
            line: 96,
            column: 1
          }
        },
        line: 67
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 81,
            column: 71
          },
          end: {
            line: 81,
            column: 72
          }
        },
        loc: {
          start: {
            line: 81,
            column: 93
          },
          end: {
            line: 89,
            column: 9
          }
        },
        line: 81
      },
      "5": {
        name: "getCollectionFileIds",
        decl: {
          start: {
            line: 100,
            column: 15
          },
          end: {
            line: 100,
            column: 35
          }
        },
        loc: {
          start: {
            line: 100,
            column: 50
          },
          end: {
            line: 116,
            column: 1
          }
        },
        line: 100
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 110,
            column: 36
          },
          end: {
            line: 110,
            column: 37
          }
        },
        loc: {
          start: {
            line: 110,
            column: 42
          },
          end: {
            line: 110,
            column: 52
          }
        },
        line: 110
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 18,
            column: 8
          },
          end: {
            line: 21,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 18,
            column: 8
          },
          end: {
            line: 21,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 18
      },
      "1": {
        loc: {
          start: {
            line: 22,
            column: 8
          },
          end: {
            line: 24,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 22,
            column: 8
          },
          end: {
            line: 24,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 22
      },
      "2": {
        loc: {
          start: {
            line: 44,
            column: 8
          },
          end: {
            line: 47,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 44,
            column: 8
          },
          end: {
            line: 47,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 44
      },
      "3": {
        loc: {
          start: {
            line: 49,
            column: 22
          },
          end: {
            line: 51,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 49,
            column: 22
          },
          end: {
            line: 51,
            column: 42
          }
        }, {
          start: {
            line: 51,
            column: 46
          },
          end: {
            line: 51,
            column: 48
          }
        }],
        line: 49
      },
      "4": {
        loc: {
          start: {
            line: 73,
            column: 8
          },
          end: {
            line: 76,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 73,
            column: 8
          },
          end: {
            line: 76,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 73
      },
      "5": {
        loc: {
          start: {
            line: 77,
            column: 8
          },
          end: {
            line: 79,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 77,
            column: 8
          },
          end: {
            line: 79,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 77
      },
      "6": {
        loc: {
          start: {
            line: 83,
            column: 19
          },
          end: {
            line: 88,
            column: 13
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 83,
            column: 19
          },
          end: {
            line: 83,
            column: 38
          }
        }, {
          start: {
            line: 83,
            column: 42
          },
          end: {
            line: 88,
            column: 13
          }
        }],
        line: 83
      },
      "7": {
        loc: {
          start: {
            line: 106,
            column: 8
          },
          end: {
            line: 109,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 106,
            column: 8
          },
          end: {
            line: 109,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 106
      },
      "8": {
        loc: {
          start: {
            line: 110,
            column: 15
          },
          end: {
            line: 110,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 110,
            column: 15
          },
          end: {
            line: 110,
            column: 53
          }
        }, {
          start: {
            line: 110,
            column: 57
          },
          end: {
            line: 110,
            column: 59
          }
        }],
        line: 110
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0]
    },
    inputSourceMap: {
      file: "C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\collections\\get-collection-files.ts",
      mappings: "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",
      names: [],
      sources: ["C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\collections\\get-collection-files.ts"],
      sourcesContent: ["import { supabase } from \"@/lib/supabase/robust-client\"\r\nimport { Tables } from \"@/supabase/types\"\r\n\r\nexport interface CollectionWithFiles {\r\n  id: string\r\n  name: string\r\n  description: string | null\r\n  files: Tables<\"files\">[]\r\n}\r\n\r\n/**\r\n * Obtiene todos los archivos de una colecci\xF3n espec\xEDfica\r\n */\r\nexport async function getCollectionFiles(collectionId: string): Promise<CollectionWithFiles | null> {\r\n  try {\r\n    // Primero obtener la informaci\xF3n de la colecci\xF3n\r\n    const { data: collection, error: collectionError } = await supabase\r\n      .from(\"collections\")\r\n      .select(\"*\")\r\n      .eq(\"id\", collectionId)\r\n      .single()\r\n\r\n    if (collectionError) {\r\n      console.error(\"Error obteniendo colecci\xF3n:\", collectionError)\r\n      return null\r\n    }\r\n\r\n    if (!collection) {\r\n      return null\r\n    }\r\n\r\n    // Obtener los archivos de la colecci\xF3n a trav\xE9s de collection_files\r\n    const { data: collectionFiles, error: filesError } = await supabase\r\n      .from(\"collection_files\")\r\n      .select(`\r\n        file_id,\r\n        files (\r\n          id,\r\n          name,\r\n          type,\r\n          description,\r\n          file_path,\r\n          size,\r\n          tokens,\r\n          user_id,\r\n          created_at,\r\n          updated_at\r\n        )\r\n      `)\r\n      .eq(\"collection_id\", collectionId)\r\n\r\n    if (filesError) {\r\n      console.error(\"Error obteniendo archivos de la colecci\xF3n:\", filesError)\r\n      return null\r\n    }\r\n\r\n    // Extraer los archivos del resultado\r\n    const files = collectionFiles\r\n      ?.map(cf => cf.files)\r\n      .filter(file => file !== null) as Tables<\"files\">[] || []\r\n\r\n    return {\r\n      id: collection.id,\r\n      name: collection.name,\r\n      description: collection.description,\r\n      files\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error en getCollectionFiles:\", error)\r\n    return null\r\n  }\r\n}\r\n\r\n/**\r\n * Obtiene todas las colecciones con sus archivos\r\n */\r\nexport async function getAllCollectionsWithFiles(): Promise<CollectionWithFiles[]> {\r\n  try {\r\n    const { data: collections, error: collectionsError } = await supabase\r\n      .from(\"collections\")\r\n      .select(\"*\")\r\n      .order(\"name\")\r\n\r\n    if (collectionsError) {\r\n      console.error(\"Error obteniendo colecciones:\", collectionsError)\r\n      return []\r\n    }\r\n\r\n    if (!collections) {\r\n      return []\r\n    }\r\n\r\n    // Para cada colecci\xF3n, obtener sus archivos\r\n    const collectionsWithFiles = await Promise.all(\r\n      collections.map(async (collection) => {\r\n        const collectionWithFiles = await getCollectionFiles(collection.id)\r\n        return collectionWithFiles || {\r\n          id: collection.id,\r\n          name: collection.name,\r\n          description: collection.description,\r\n          files: []\r\n        }\r\n      })\r\n    )\r\n\r\n    return collectionsWithFiles\r\n  } catch (error) {\r\n    console.error(\"Error en getAllCollectionsWithFiles:\", error)\r\n    return []\r\n  }\r\n}\r\n\r\n/**\r\n * Obtiene los IDs de archivos de una colecci\xF3n\r\n */\r\nexport async function getCollectionFileIds(collectionId: string): Promise<string[]> {\r\n  try {\r\n    const { data: collectionFiles, error } = await supabase\r\n      .from(\"collection_files\")\r\n      .select(\"file_id\")\r\n      .eq(\"collection_id\", collectionId)\r\n\r\n    if (error) {\r\n      console.error(\"Error obteniendo IDs de archivos:\", error)\r\n      return []\r\n    }\r\n\r\n    return collectionFiles?.map(cf => cf.file_id) || []\r\n  } catch (error) {\r\n    console.error(\"Error en getCollectionFileIds:\", error)\r\n    return []\r\n  }\r\n}\r\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "9a05fe40ce4879a7775455f817e3d9e658c12e1d"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_5whzuhbwn = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_5whzuhbwn();
cov_5whzuhbwn().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_5whzuhbwn().s[1]++;
exports.getCollectionFiles = getCollectionFiles;
/* istanbul ignore next */
cov_5whzuhbwn().s[2]++;
exports.getAllCollectionsWithFiles = getAllCollectionsWithFiles;
/* istanbul ignore next */
cov_5whzuhbwn().s[3]++;
exports.getCollectionFileIds = getCollectionFileIds;
const robust_client_1 =
/* istanbul ignore next */
(cov_5whzuhbwn().s[4]++, require("@/lib/supabase/robust-client"));
/**
 * Obtiene todos los archivos de una colección específica
 */
async function getCollectionFiles(collectionId) {
  /* istanbul ignore next */
  cov_5whzuhbwn().f[0]++;
  cov_5whzuhbwn().s[5]++;
  try {
    // Primero obtener la información de la colección
    const {
      data: collection,
      error: collectionError
    } =
    /* istanbul ignore next */
    (cov_5whzuhbwn().s[6]++, await robust_client_1.supabase.from("collections").select("*").eq("id", collectionId).single());
    /* istanbul ignore next */
    cov_5whzuhbwn().s[7]++;
    if (collectionError) {
      /* istanbul ignore next */
      cov_5whzuhbwn().b[0][0]++;
      cov_5whzuhbwn().s[8]++;
      console.error("Error obteniendo colección:", collectionError);
      /* istanbul ignore next */
      cov_5whzuhbwn().s[9]++;
      return null;
    } else
    /* istanbul ignore next */
    {
      cov_5whzuhbwn().b[0][1]++;
    }
    cov_5whzuhbwn().s[10]++;
    if (!collection) {
      /* istanbul ignore next */
      cov_5whzuhbwn().b[1][0]++;
      cov_5whzuhbwn().s[11]++;
      return null;
    } else
    /* istanbul ignore next */
    {
      cov_5whzuhbwn().b[1][1]++;
    }
    // Obtener los archivos de la colección a través de collection_files
    const {
      data: collectionFiles,
      error: filesError
    } =
    /* istanbul ignore next */
    (cov_5whzuhbwn().s[12]++, await robust_client_1.supabase.from("collection_files").select(`
        file_id,
        files (
          id,
          name,
          type,
          description,
          file_path,
          size,
          tokens,
          user_id,
          created_at,
          updated_at
        )
      `).eq("collection_id", collectionId));
    /* istanbul ignore next */
    cov_5whzuhbwn().s[13]++;
    if (filesError) {
      /* istanbul ignore next */
      cov_5whzuhbwn().b[2][0]++;
      cov_5whzuhbwn().s[14]++;
      console.error("Error obteniendo archivos de la colección:", filesError);
      /* istanbul ignore next */
      cov_5whzuhbwn().s[15]++;
      return null;
    } else
    /* istanbul ignore next */
    {
      cov_5whzuhbwn().b[2][1]++;
    }
    // Extraer los archivos del resultado
    const files =
    /* istanbul ignore next */
    (cov_5whzuhbwn().s[16]++,
    /* istanbul ignore next */
    (cov_5whzuhbwn().b[3][0]++, collectionFiles?.map(cf => {
      /* istanbul ignore next */
      cov_5whzuhbwn().f[1]++;
      cov_5whzuhbwn().s[17]++;
      return cf.files;
    }).filter(file => {
      /* istanbul ignore next */
      cov_5whzuhbwn().f[2]++;
      cov_5whzuhbwn().s[18]++;
      return file !== null;
    })) ||
    /* istanbul ignore next */
    (cov_5whzuhbwn().b[3][1]++, []));
    /* istanbul ignore next */
    cov_5whzuhbwn().s[19]++;
    return {
      id: collection.id,
      name: collection.name,
      description: collection.description,
      files
    };
  } catch (error) {
    /* istanbul ignore next */
    cov_5whzuhbwn().s[20]++;
    console.error("Error en getCollectionFiles:", error);
    /* istanbul ignore next */
    cov_5whzuhbwn().s[21]++;
    return null;
  }
}
/**
 * Obtiene todas las colecciones con sus archivos
 */
async function getAllCollectionsWithFiles() {
  /* istanbul ignore next */
  cov_5whzuhbwn().f[3]++;
  cov_5whzuhbwn().s[22]++;
  try {
    const {
      data: collections,
      error: collectionsError
    } =
    /* istanbul ignore next */
    (cov_5whzuhbwn().s[23]++, await robust_client_1.supabase.from("collections").select("*").order("name"));
    /* istanbul ignore next */
    cov_5whzuhbwn().s[24]++;
    if (collectionsError) {
      /* istanbul ignore next */
      cov_5whzuhbwn().b[4][0]++;
      cov_5whzuhbwn().s[25]++;
      console.error("Error obteniendo colecciones:", collectionsError);
      /* istanbul ignore next */
      cov_5whzuhbwn().s[26]++;
      return [];
    } else
    /* istanbul ignore next */
    {
      cov_5whzuhbwn().b[4][1]++;
    }
    cov_5whzuhbwn().s[27]++;
    if (!collections) {
      /* istanbul ignore next */
      cov_5whzuhbwn().b[5][0]++;
      cov_5whzuhbwn().s[28]++;
      return [];
    } else
    /* istanbul ignore next */
    {
      cov_5whzuhbwn().b[5][1]++;
    }
    // Para cada colección, obtener sus archivos
    const collectionsWithFiles =
    /* istanbul ignore next */
    (cov_5whzuhbwn().s[29]++, await Promise.all(collections.map(async collection => {
      /* istanbul ignore next */
      cov_5whzuhbwn().f[4]++;
      const collectionWithFiles =
      /* istanbul ignore next */
      (cov_5whzuhbwn().s[30]++, await getCollectionFiles(collection.id));
      /* istanbul ignore next */
      cov_5whzuhbwn().s[31]++;
      return /* istanbul ignore next */(cov_5whzuhbwn().b[6][0]++, collectionWithFiles) ||
      /* istanbul ignore next */
      (cov_5whzuhbwn().b[6][1]++, {
        id: collection.id,
        name: collection.name,
        description: collection.description,
        files: []
      });
    })));
    /* istanbul ignore next */
    cov_5whzuhbwn().s[32]++;
    return collectionsWithFiles;
  } catch (error) {
    /* istanbul ignore next */
    cov_5whzuhbwn().s[33]++;
    console.error("Error en getAllCollectionsWithFiles:", error);
    /* istanbul ignore next */
    cov_5whzuhbwn().s[34]++;
    return [];
  }
}
/**
 * Obtiene los IDs de archivos de una colección
 */
async function getCollectionFileIds(collectionId) {
  /* istanbul ignore next */
  cov_5whzuhbwn().f[5]++;
  cov_5whzuhbwn().s[35]++;
  try {
    const {
      data: collectionFiles,
      error
    } =
    /* istanbul ignore next */
    (cov_5whzuhbwn().s[36]++, await robust_client_1.supabase.from("collection_files").select("file_id").eq("collection_id", collectionId));
    /* istanbul ignore next */
    cov_5whzuhbwn().s[37]++;
    if (error) {
      /* istanbul ignore next */
      cov_5whzuhbwn().b[7][0]++;
      cov_5whzuhbwn().s[38]++;
      console.error("Error obteniendo IDs de archivos:", error);
      /* istanbul ignore next */
      cov_5whzuhbwn().s[39]++;
      return [];
    } else
    /* istanbul ignore next */
    {
      cov_5whzuhbwn().b[7][1]++;
    }
    cov_5whzuhbwn().s[40]++;
    return /* istanbul ignore next */(cov_5whzuhbwn().b[8][0]++, collectionFiles?.map(cf => {
      /* istanbul ignore next */
      cov_5whzuhbwn().f[6]++;
      cov_5whzuhbwn().s[41]++;
      return cf.file_id;
    })) ||
    /* istanbul ignore next */
    (cov_5whzuhbwn().b[8][1]++, []);
  } catch (error) {
    /* istanbul ignore next */
    cov_5whzuhbwn().s[42]++;
    console.error("Error en getCollectionFileIds:", error);
    /* istanbul ignore next */
    cov_5whzuhbwn().s[43]++;
    return [];
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiZ2V0Q29sbGVjdGlvbkZpbGVzIiwiY292XzV3aHp1aGJ3biIsInMiLCJnZXRBbGxDb2xsZWN0aW9uc1dpdGhGaWxlcyIsImdldENvbGxlY3Rpb25GaWxlSWRzIiwicm9idXN0X2NsaWVudF8xIiwicmVxdWlyZSIsImNvbGxlY3Rpb25JZCIsImYiLCJkYXRhIiwiY29sbGVjdGlvbiIsImVycm9yIiwiY29sbGVjdGlvbkVycm9yIiwic3VwYWJhc2UiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJiIiwiY29uc29sZSIsImNvbGxlY3Rpb25GaWxlcyIsImZpbGVzRXJyb3IiLCJmaWxlcyIsIm1hcCIsImNmIiwiZmlsdGVyIiwiZmlsZSIsImlkIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiY29sbGVjdGlvbnMiLCJjb2xsZWN0aW9uc0Vycm9yIiwib3JkZXIiLCJjb2xsZWN0aW9uc1dpdGhGaWxlcyIsIlByb21pc2UiLCJhbGwiLCJjb2xsZWN0aW9uV2l0aEZpbGVzIiwiZmlsZV9pZCJdLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xccGVkcm9cXERvY3VtZW50c1xcR2l0SHViXFxBc2lzdGVudGUtTGVnYWwtSW50ZWxpZ2VudGVcXGxpYlxcY29sbGVjdGlvbnNcXGdldC1jb2xsZWN0aW9uLWZpbGVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlL3JvYnVzdC1jbGllbnRcIlxyXG5pbXBvcnQgeyBUYWJsZXMgfSBmcm9tIFwiQC9zdXBhYmFzZS90eXBlc1wiXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbGxlY3Rpb25XaXRoRmlsZXMge1xyXG4gIGlkOiBzdHJpbmdcclxuICBuYW1lOiBzdHJpbmdcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbFxyXG4gIGZpbGVzOiBUYWJsZXM8XCJmaWxlc1wiPltdXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIHRvZG9zIGxvcyBhcmNoaXZvcyBkZSB1bmEgY29sZWNjacOzbiBlc3BlY8OtZmljYVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbGxlY3Rpb25GaWxlcyhjb2xsZWN0aW9uSWQ6IHN0cmluZyk6IFByb21pc2U8Q29sbGVjdGlvbldpdGhGaWxlcyB8IG51bGw+IHtcclxuICB0cnkge1xyXG4gICAgLy8gUHJpbWVybyBvYnRlbmVyIGxhIGluZm9ybWFjacOzbiBkZSBsYSBjb2xlY2Npw7NuXHJcbiAgICBjb25zdCB7IGRhdGE6IGNvbGxlY3Rpb24sIGVycm9yOiBjb2xsZWN0aW9uRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwiY29sbGVjdGlvbnNcIilcclxuICAgICAgLnNlbGVjdChcIipcIilcclxuICAgICAgLmVxKFwiaWRcIiwgY29sbGVjdGlvbklkKVxyXG4gICAgICAuc2luZ2xlKClcclxuXHJcbiAgICBpZiAoY29sbGVjdGlvbkVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBvYnRlbmllbmRvIGNvbGVjY2nDs246XCIsIGNvbGxlY3Rpb25FcnJvcilcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWNvbGxlY3Rpb24pIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuXHJcbiAgICAvLyBPYnRlbmVyIGxvcyBhcmNoaXZvcyBkZSBsYSBjb2xlY2Npw7NuIGEgdHJhdsOpcyBkZSBjb2xsZWN0aW9uX2ZpbGVzXHJcbiAgICBjb25zdCB7IGRhdGE6IGNvbGxlY3Rpb25GaWxlcywgZXJyb3I6IGZpbGVzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwiY29sbGVjdGlvbl9maWxlc1wiKVxyXG4gICAgICAuc2VsZWN0KGBcclxuICAgICAgICBmaWxlX2lkLFxyXG4gICAgICAgIGZpbGVzIChcclxuICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgICAgIGZpbGVfcGF0aCxcclxuICAgICAgICAgIHNpemUsXHJcbiAgICAgICAgICB0b2tlbnMsXHJcbiAgICAgICAgICB1c2VyX2lkLFxyXG4gICAgICAgICAgY3JlYXRlZF9hdCxcclxuICAgICAgICAgIHVwZGF0ZWRfYXRcclxuICAgICAgICApXHJcbiAgICAgIGApXHJcbiAgICAgIC5lcShcImNvbGxlY3Rpb25faWRcIiwgY29sbGVjdGlvbklkKVxyXG5cclxuICAgIGlmIChmaWxlc0Vycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBvYnRlbmllbmRvIGFyY2hpdm9zIGRlIGxhIGNvbGVjY2nDs246XCIsIGZpbGVzRXJyb3IpXHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgLy8gRXh0cmFlciBsb3MgYXJjaGl2b3MgZGVsIHJlc3VsdGFkb1xyXG4gICAgY29uc3QgZmlsZXMgPSBjb2xsZWN0aW9uRmlsZXNcclxuICAgICAgPy5tYXAoY2YgPT4gY2YuZmlsZXMpXHJcbiAgICAgIC5maWx0ZXIoZmlsZSA9PiBmaWxlICE9PSBudWxsKSBhcyBUYWJsZXM8XCJmaWxlc1wiPltdIHx8IFtdXHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWQ6IGNvbGxlY3Rpb24uaWQsXHJcbiAgICAgIG5hbWU6IGNvbGxlY3Rpb24ubmFtZSxcclxuICAgICAgZGVzY3JpcHRpb246IGNvbGxlY3Rpb24uZGVzY3JpcHRpb24sXHJcbiAgICAgIGZpbGVzXHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBlbiBnZXRDb2xsZWN0aW9uRmlsZXM6XCIsIGVycm9yKVxyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIHRvZGFzIGxhcyBjb2xlY2Npb25lcyBjb24gc3VzIGFyY2hpdm9zXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ29sbGVjdGlvbnNXaXRoRmlsZXMoKTogUHJvbWlzZTxDb2xsZWN0aW9uV2l0aEZpbGVzW10+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhOiBjb2xsZWN0aW9ucywgZXJyb3I6IGNvbGxlY3Rpb25zRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKFwiY29sbGVjdGlvbnNcIilcclxuICAgICAgLnNlbGVjdChcIipcIilcclxuICAgICAgLm9yZGVyKFwibmFtZVwiKVxyXG5cclxuICAgIGlmIChjb2xsZWN0aW9uc0Vycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBvYnRlbmllbmRvIGNvbGVjY2lvbmVzOlwiLCBjb2xsZWN0aW9uc0Vycm9yKVxyXG4gICAgICByZXR1cm4gW11cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWNvbGxlY3Rpb25zKSB7XHJcbiAgICAgIHJldHVybiBbXVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhcmEgY2FkYSBjb2xlY2Npw7NuLCBvYnRlbmVyIHN1cyBhcmNoaXZvc1xyXG4gICAgY29uc3QgY29sbGVjdGlvbnNXaXRoRmlsZXMgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgY29sbGVjdGlvbnMubWFwKGFzeW5jIChjb2xsZWN0aW9uKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29sbGVjdGlvbldpdGhGaWxlcyA9IGF3YWl0IGdldENvbGxlY3Rpb25GaWxlcyhjb2xsZWN0aW9uLmlkKVxyXG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uV2l0aEZpbGVzIHx8IHtcclxuICAgICAgICAgIGlkOiBjb2xsZWN0aW9uLmlkLFxyXG4gICAgICAgICAgbmFtZTogY29sbGVjdGlvbi5uYW1lLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IGNvbGxlY3Rpb24uZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICBmaWxlczogW11cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICApXHJcblxyXG4gICAgcmV0dXJuIGNvbGxlY3Rpb25zV2l0aEZpbGVzXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBlbiBnZXRBbGxDb2xsZWN0aW9uc1dpdGhGaWxlczpcIiwgZXJyb3IpXHJcbiAgICByZXR1cm4gW11cclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIGxvcyBJRHMgZGUgYXJjaGl2b3MgZGUgdW5hIGNvbGVjY2nDs25cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb2xsZWN0aW9uRmlsZUlkcyhjb2xsZWN0aW9uSWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nW10+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBkYXRhOiBjb2xsZWN0aW9uRmlsZXMsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbShcImNvbGxlY3Rpb25fZmlsZXNcIilcclxuICAgICAgLnNlbGVjdChcImZpbGVfaWRcIilcclxuICAgICAgLmVxKFwiY29sbGVjdGlvbl9pZFwiLCBjb2xsZWN0aW9uSWQpXHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBvYnRlbmllbmRvIElEcyBkZSBhcmNoaXZvczpcIiwgZXJyb3IpXHJcbiAgICAgIHJldHVybiBbXVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjb2xsZWN0aW9uRmlsZXM/Lm1hcChjZiA9PiBjZi5maWxlX2lkKSB8fCBbXVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZW4gZ2V0Q29sbGVjdGlvbkZpbGVJZHM6XCIsIGVycm9yKVxyXG4gICAgcmV0dXJuIFtdXHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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