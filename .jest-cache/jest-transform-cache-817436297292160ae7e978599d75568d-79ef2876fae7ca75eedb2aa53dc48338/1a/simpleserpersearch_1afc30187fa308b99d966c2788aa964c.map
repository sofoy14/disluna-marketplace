{"version":3,"names":["cov_l653pjd97","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage","exports","searchWithSerperSimple","formatSimpleSearchResults","query","numResults","console","log","apiKey","process","env","SERPER_API_KEY","Error","simpleQuery","toLowerCase","includes","searchUrl","requestBody","q","num","response","fetch","method","headers","body","JSON","stringify","signal","AbortSignal","timeout","ok","errorText","text","status","statusText","data","json","organic","length","results","map","item","title","url","link","snippet","description","score","source","success","timestamp","Date","toISOString","searchEngine","error","message","searchResult","formattedResults","result","index","join"],"sources":["C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\tools\\simple-serper-search.ts"],"sourcesContent":["/**\r\n * Sistema de b√∫squeda web simplificado con Serper\r\n * Evita queries complejas que pueden causar error 403\r\n */\r\n\r\nexport interface SimpleSearchResult {\r\n  success: boolean\r\n  query: string\r\n  results: Array<{\r\n    title: string\r\n    url: string\r\n    snippet: string\r\n    score: number\r\n    source: string\r\n  }>\r\n  timestamp: string\r\n  searchEngine: 'serper'\r\n}\r\n\r\n/**\r\n * B√∫squeda simplificada con Serper\r\n */\r\nexport async function searchWithSerperSimple(query: string, numResults: number = 5): Promise<SimpleSearchResult> {\r\n  console.log(`üîç Buscando con Serper (simplificado): \"${query}\"`)\r\n  \r\n  try {\r\n    const apiKey = process.env.SERPER_API_KEY\r\n    if (!apiKey || apiKey === 'your_serper_api_key_here') {\r\n      throw new Error('SERPER_API_KEY no configurada')\r\n    }\r\n    \r\n    // Query simplificada - solo agregar \"Colombia\" si no est√° presente\r\n    let simpleQuery = query\r\n    if (!query.toLowerCase().includes('colombia')) {\r\n      simpleQuery = `${query} Colombia`\r\n    }\r\n    \r\n    const searchUrl = 'https://google.serper.dev/search'\r\n    const requestBody = {\r\n      q: simpleQuery,\r\n      num: numResults\r\n    }\r\n    \r\n    console.log(`üìù Query simplificada: \"${simpleQuery}\"`)\r\n    \r\n    const response = await fetch(searchUrl, {\r\n      method: 'POST',\r\n      headers: {\r\n        'X-API-KEY': apiKey,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(requestBody),\r\n      signal: AbortSignal.timeout(15000) // 15 segundos timeout\r\n    })\r\n    \r\n    if (!response.ok) {\r\n      const errorText = await response.text()\r\n      console.log(`‚ùå Serper Error ${response.status}: ${errorText}`)\r\n      throw new Error(`Serper API Error: ${response.status} ${response.statusText}`)\r\n    }\r\n    \r\n    const data = await response.json()\r\n    \r\n    if (data.organic && data.organic.length > 0) {\r\n      const results = data.organic.map((item: any) => ({\r\n        title: item.title || 'Sin t√≠tulo',\r\n        url: item.link || '',\r\n        snippet: item.snippet || item.description || 'Sin descripci√≥n',\r\n        score: 1,\r\n        source: 'Serper API'\r\n      }))\r\n      \r\n      console.log(`‚úÖ Serper: ${results.length} resultados encontrados`)\r\n      return {\r\n        success: true,\r\n        query: simpleQuery,\r\n        results,\r\n        timestamp: new Date().toISOString(),\r\n        searchEngine: 'serper'\r\n      }\r\n    }\r\n    \r\n    console.log(`‚ö†Ô∏è Serper: No se encontraron resultados`)\r\n    return {\r\n      success: false,\r\n      query: simpleQuery,\r\n      results: [],\r\n      timestamp: new Date().toISOString(),\r\n      searchEngine: 'serper'\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.log(`‚ùå Serper Error: ${error instanceof Error ? error.message : 'Unknown'}`)\r\n    throw error\r\n  }\r\n}\r\n\r\n/**\r\n * Funci√≥n para formatear resultados simplificados\r\n */\r\nexport function formatSimpleSearchResults(searchResult: SimpleSearchResult): string {\r\n  if (!searchResult.success || searchResult.results.length === 0) {\r\n    return `No se encontraron resultados espec√≠ficos en internet para esta consulta.\r\n    \r\n**Motor de b√∫squeda usado:** ${searchResult.searchEngine}\r\n**Query:** ${searchResult.query}`\r\n  }\r\n\r\n  const formattedResults = searchResult.results.map((result, index) => {\r\n    return `${index + 1}. **${result.title}**\r\n   URL: ${result.url}\r\n   Contenido: ${result.snippet}\r\n   \r\n`\r\n  }).join('\\n')\r\n\r\n  return `**INFORMACI√ìN ENCONTRADA EN INTERNET:**\r\n\r\n${formattedResults}\r\n\r\n**FUENTES CONSULTADAS:**\r\n${searchResult.results.map((result, index) => `${index + 1}. [${result.title}](${result.url})`).join('\\n')}\r\n\r\n**Motor de b√∫squeda usado:** ${searchResult.searchEngine}\r\n**Query:** ${searchResult.query}`\r\n}\r\n"],"mappings":";;AAAA;;;;AAAA;AAAA,SAAAA,cAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;IAAA;IAAAE,KAAA;MAAA;QAAAC,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;IAAA;IAAAO,SAAA;MAAA;QAAAD,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;UAAAR,GAAA;YAAAF,IAAA,EAAAU,SAAA;YAAAT,MAAA,EAAAS;UAAA;QAAA;QAAAV,IAAA;MAAA;MAAA;QAAAM,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAO,IAAA;QAAAC,SAAA;UAAAV,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;UAAAF,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;IAAA;IAAAW,CAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAAC,CAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAAC,CAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAAC,cAAA;MAAAC,IAAA;MAAAC,QAAA;MAAAC,KAAA;MAAAC,OAAA;MAAAC,cAAA;MAAAC,OAAA;IAAA;IAAAC,eAAA;IAAA5B,IAAA;EAAA;EAAA,IAAA6B,QAAA,GAAA5B,MAAA,CAAAE,GAAA,MAAAF,MAAA,CAAAE,GAAA;EAAA,KAAA0B,QAAA,CAAA9B,IAAA,KAAA8B,QAAA,CAAA9B,IAAA,EAAAC,IAAA,KAAAA,IAAA;IAAA6B,QAAA,CAAA9B,IAAA,IAAAK,YAAA;EAAA;EAAA,IAAA0B,cAAA,GAAAD,QAAA,CAAA9B,IAAA;EAAA;IA2BQ;IAAAD,aAAA,YAAAA,CAAA;MAAA,OAAAgC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAhC,aAAA;AAAAA,aAAA,GAAAoB,CAAA;;;;;;AALRa,OAAA,CAAAC,sBAAA,GAAAA,sBAAA;AAyEC;AAAAlC,aAAA,GAAAoB,CAAA;AAKDa,OAAA,CAAAE,yBAAA,GAAAA,yBAAA;AAjFA;;;AAGO,eAAeD,sBAAsBA,CAACE,KAAa,EAAEC,UAAA;AAAA;AAAA,CAAArC,aAAA,GAAAsB,CAAA,UAAqB,CAAC;EAAA;EAAAtB,aAAA,GAAAqB,CAAA;EAAArB,aAAA,GAAAoB,CAAA;EAChFkB,OAAO,CAACC,GAAG,CAAC,2CAA2CH,KAAK,GAAG,CAAC;EAAA;EAAApC,aAAA,GAAAoB,CAAA;EAEhE,IAAI;IACF,MAAMoB,MAAM;IAAA;IAAA,CAAAxC,aAAA,GAAAoB,CAAA,OAAGqB,OAAO,CAACC,GAAG,CAACC,cAAc;IAAA;IAAA3C,aAAA,GAAAoB,CAAA;IACzC;IAAI;IAAA,CAAApB,aAAA,GAAAsB,CAAA,WAACkB,MAAM;IAAA;IAAA,CAAAxC,aAAA,GAAAsB,CAAA,UAAIkB,MAAM,KAAK,0BAA0B,GAAE;MAAA;MAAAxC,aAAA,GAAAsB,CAAA;MAAAtB,aAAA,GAAAoB,CAAA;MACpD,MAAM,IAAIwB,KAAK,CAAC,+BAA+B,CAAC;IAClD,CAAC;IAAA;IAAA;MAAA5C,aAAA,GAAAsB,CAAA;IAAA;IAED;IACA,IAAIuB,WAAW;IAAA;IAAA,CAAA7C,aAAA,GAAAoB,CAAA,OAAGgB,KAAK;IAAA;IAAApC,aAAA,GAAAoB,CAAA;IACvB,IAAI,CAACgB,KAAK,CAACU,WAAW,EAAE,CAACC,QAAQ,CAAC,UAAU,CAAC,EAAE;MAAA;MAAA/C,aAAA,GAAAsB,CAAA;MAAAtB,aAAA,GAAAoB,CAAA;MAC7CyB,WAAW,GAAG,GAAGT,KAAK,WAAW;IACnC,CAAC;IAAA;IAAA;MAAApC,aAAA,GAAAsB,CAAA;IAAA;IAED,MAAM0B,SAAS;IAAA;IAAA,CAAAhD,aAAA,GAAAoB,CAAA,QAAG,kCAAkC;IACpD,MAAM6B,WAAW;IAAA;IAAA,CAAAjD,aAAA,GAAAoB,CAAA,QAAG;MAClB8B,CAAC,EAAEL,WAAW;MACdM,GAAG,EAAEd;KACN;IAAA;IAAArC,aAAA,GAAAoB,CAAA;IAEDkB,OAAO,CAACC,GAAG,CAAC,2BAA2BM,WAAW,GAAG,CAAC;IAEtD,MAAMO,QAAQ;IAAA;IAAA,CAAApD,aAAA,GAAAoB,CAAA,QAAG,MAAMiC,KAAK,CAACL,SAAS,EAAE;MACtCM,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,WAAW,EAAEf,MAAM;QACnB,cAAc,EAAE;OACjB;MACDgB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,WAAW,CAAC;MACjCU,MAAM,EAAEC,WAAW,CAACC,OAAO,CAAC,KAAK,CAAC,CAAC;KACpC,CAAC;IAAA;IAAA7D,aAAA,GAAAoB,CAAA;IAEF,IAAI,CAACgC,QAAQ,CAACU,EAAE,EAAE;MAAA;MAAA9D,aAAA,GAAAsB,CAAA;MAChB,MAAMyC,SAAS;MAAA;MAAA,CAAA/D,aAAA,GAAAoB,CAAA,QAAG,MAAMgC,QAAQ,CAACY,IAAI,EAAE;MAAA;MAAAhE,aAAA,GAAAoB,CAAA;MACvCkB,OAAO,CAACC,GAAG,CAAC,kBAAkBa,QAAQ,CAACa,MAAM,KAAKF,SAAS,EAAE,CAAC;MAAA;MAAA/D,aAAA,GAAAoB,CAAA;MAC9D,MAAM,IAAIwB,KAAK,CAAC,qBAAqBQ,QAAQ,CAACa,MAAM,IAAIb,QAAQ,CAACc,UAAU,EAAE,CAAC;IAChF,CAAC;IAAA;IAAA;MAAAlE,aAAA,GAAAsB,CAAA;IAAA;IAED,MAAM6C,IAAI;IAAA;IAAA,CAAAnE,aAAA,GAAAoB,CAAA,QAAG,MAAMgC,QAAQ,CAACgB,IAAI,EAAE;IAAA;IAAApE,aAAA,GAAAoB,CAAA;IAElC;IAAI;IAAA,CAAApB,aAAA,GAAAsB,CAAA,UAAA6C,IAAI,CAACE,OAAO;IAAA;IAAA,CAAArE,aAAA,GAAAsB,CAAA,UAAI6C,IAAI,CAACE,OAAO,CAACC,MAAM,GAAG,CAAC,GAAE;MAAA;MAAAtE,aAAA,GAAAsB,CAAA;MAC3C,MAAMiD,OAAO;MAAA;MAAA,CAAAvE,aAAA,GAAAoB,CAAA,QAAG+C,IAAI,CAACE,OAAO,CAACG,GAAG,CAAEC,IAAS,IAAM;QAAA;QAAAzE,aAAA,GAAAqB,CAAA;QAAArB,aAAA,GAAAoB,CAAA;QAAA;UAC/CsD,KAAK;UAAE;UAAA,CAAA1E,aAAA,GAAAsB,CAAA,UAAAmD,IAAI,CAACC,KAAK;UAAA;UAAA,CAAA1E,aAAA,GAAAsB,CAAA,UAAI,YAAY;UACjCqD,GAAG;UAAE;UAAA,CAAA3E,aAAA,GAAAsB,CAAA,UAAAmD,IAAI,CAACG,IAAI;UAAA;UAAA,CAAA5E,aAAA,GAAAsB,CAAA,UAAI,EAAE;UACpBuD,OAAO;UAAE;UAAA,CAAA7E,aAAA,GAAAsB,CAAA,UAAAmD,IAAI,CAACI,OAAO;UAAA;UAAA,CAAA7E,aAAA,GAAAsB,CAAA,UAAImD,IAAI,CAACK,WAAW;UAAA;UAAA,CAAA9E,aAAA,GAAAsB,CAAA,UAAI,iBAAiB;UAC9DyD,KAAK,EAAE,CAAC;UACRC,MAAM,EAAE;SACT;OAAC,CAAC;MAAA;MAAAhF,aAAA,GAAAoB,CAAA;MAEHkB,OAAO,CAACC,GAAG,CAAC,aAAagC,OAAO,CAACD,MAAM,yBAAyB,CAAC;MAAA;MAAAtE,aAAA,GAAAoB,CAAA;MACjE,OAAO;QACL6D,OAAO,EAAE,IAAI;QACb7C,KAAK,EAAES,WAAW;QAClB0B,OAAO;QACPW,SAAS,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW,EAAE;QACnCC,YAAY,EAAE;OACf;IACH,CAAC;IAAA;IAAA;MAAArF,aAAA,GAAAsB,CAAA;IAAA;IAAAtB,aAAA,GAAAoB,CAAA;IAEDkB,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAC;IAAA;IAAAvC,aAAA,GAAAoB,CAAA;IACtD,OAAO;MACL6D,OAAO,EAAE,KAAK;MACd7C,KAAK,EAAES,WAAW;MAClB0B,OAAO,EAAE,EAAE;MACXW,SAAS,EAAE,IAAIC,IAAI,EAAE,CAACC,WAAW,EAAE;MACnCC,YAAY,EAAE;KACf;EAEH,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA;IAAAtF,aAAA,GAAAoB,CAAA;IACdkB,OAAO,CAACC,GAAG,CAAC,mBAAmB+C,KAAK,YAAY1C,KAAK;IAAA;IAAA,CAAA5C,aAAA,GAAAsB,CAAA,WAAGgE,KAAK,CAACC,OAAO;IAAA;IAAA,CAAAvF,aAAA,GAAAsB,CAAA,WAAG,SAAS,GAAE,CAAC;IAAA;IAAAtB,aAAA,GAAAoB,CAAA;IACpF,MAAMkE,KAAK;EACb;AACF;AAEA;;;AAGA,SAAgBnD,yBAAyBA,CAACqD,YAAgC;EAAA;EAAAxF,aAAA,GAAAqB,CAAA;EAAArB,aAAA,GAAAoB,CAAA;EACxE;EAAI;EAAA,CAAApB,aAAA,GAAAsB,CAAA,YAACkE,YAAY,CAACP,OAAO;EAAA;EAAA,CAAAjF,aAAA,GAAAsB,CAAA,WAAIkE,YAAY,CAACjB,OAAO,CAACD,MAAM,KAAK,CAAC,GAAE;IAAA;IAAAtE,aAAA,GAAAsB,CAAA;IAAAtB,aAAA,GAAAoB,CAAA;IAC9D,OAAO;;+BAEoBoE,YAAY,CAACH,YAAY;aAC3CG,YAAY,CAACpD,KAAK,EAAE;EAC/B,CAAC;EAAA;EAAA;IAAApC,aAAA,GAAAsB,CAAA;EAAA;EAED,MAAMmE,gBAAgB;EAAA;EAAA,CAAAzF,aAAA,GAAAoB,CAAA,QAAGoE,YAAY,CAACjB,OAAO,CAACC,GAAG,CAAC,CAACkB,MAAM,EAAEC,KAAK,KAAI;IAAA;IAAA3F,aAAA,GAAAqB,CAAA;IAAArB,aAAA,GAAAoB,CAAA;IAClE,OAAO,GAAGuE,KAAK,GAAG,CAAC,OAAOD,MAAM,CAAChB,KAAK;UAChCgB,MAAM,CAACf,GAAG;gBACJe,MAAM,CAACb,OAAO;;CAE7B;EACC,CAAC,CAAC,CAACe,IAAI,CAAC,IAAI,CAAC;EAAA;EAAA5F,aAAA,GAAAoB,CAAA;EAEb,OAAO;;EAEPqE,gBAAgB;;;EAGhBD,YAAY,CAACjB,OAAO,CAACC,GAAG,CAAC,CAACkB,MAAM,EAAEC,KAAK,KAAK;IAAA;IAAA3F,aAAA,GAAAqB,CAAA;IAAArB,aAAA,GAAAoB,CAAA;IAAA,UAAGuE,KAAK,GAAG,CAAC,MAAMD,MAAM,CAAChB,KAAK,KAAKgB,MAAM,CAACf,GAAG,GAAG;EAAH,CAAG,CAAC,CAACiB,IAAI,CAAC,IAAI,CAAC;;+BAE3EJ,YAAY,CAACH,YAAY;aAC3CG,YAAY,CAACpD,KAAK,EAAE;AACjC","ignoreList":[]}