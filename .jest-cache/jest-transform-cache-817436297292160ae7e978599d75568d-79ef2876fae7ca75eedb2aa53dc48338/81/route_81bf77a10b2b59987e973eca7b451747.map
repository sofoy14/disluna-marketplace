{"version":3,"names":["cov_dfkndy68u","actualCoverage","s","exports","POST","server_1","require","req","f","to","subject","html","text","json","b","NextResponse","error","status","console","log","substring","success","message"],"sources":["C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\app\\api\\send-email\\route.ts"],"sourcesContent":["// app/api/send-email/route.ts\r\nimport { NextRequest, NextResponse } from 'next/server';\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const { to, subject, html, text } = await req.json();\r\n\r\n    // Validar campos requeridos\r\n    if (!to || !subject || !html) {\r\n      return NextResponse.json(\r\n        { error: 'Missing required fields' }, \r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // TODO: Implementar con tu proveedor de email preferido\r\n    // Opciones populares:\r\n    // - SendGrid: https://sendgrid.com/\r\n    // - Resend: https://resend.com/\r\n    // - AWS SES: https://aws.amazon.com/ses/\r\n    // - Mailgun: https://www.mailgun.com/\r\n\r\n    // Ejemplo con Resend (recomendado para Next.js)\r\n    /*\r\n    const resend = new Resend(process.env.RESEND_API_KEY);\r\n    \r\n    const { data, error } = await resend.emails.send({\r\n      from: 'Asistente Legal <noreply@tu-dominio.com>',\r\n      to: [to],\r\n      subject,\r\n      html,\r\n      text\r\n    });\r\n\r\n    if (error) {\r\n      throw new Error(error.message);\r\n    }\r\n    */\r\n\r\n    // Por ahora, solo logueamos el email (reemplazar con implementación real)\r\n    console.log('Email que se enviaría:', {\r\n      to,\r\n      subject,\r\n      html: html.substring(0, 100) + '...',\r\n      text: text?.substring(0, 100) + '...'\r\n    });\r\n\r\n    return NextResponse.json({ \r\n      success: true, \r\n      message: 'Email sent successfully',\r\n      // id: data?.id // Si usas Resend\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Error sending email:', error);\r\n    return NextResponse.json(\r\n      { error: 'Failed to send email' }, \r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAkBI;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAAAA,aAAA,GAAAE,CAAA;;;;;;AAfJC,OAAA,CAAAC,IAAA,GAAAA,IAAA;AAHA;AACA,MAAAC,QAAA;AAAA;AAAA,CAAAL,aAAA,GAAAE,CAAA,OAAAI,OAAA;AAEO,eAAeF,IAAIA,CAACG,GAAgB;EAAA;EAAAP,aAAA,GAAAQ,CAAA;EAAAR,aAAA,GAAAE,CAAA;EACzC,IAAI;IACF,MAAM;MAAEO,EAAE;MAAEC,OAAO;MAAEC,IAAI;MAAEC;IAAI,CAAE;IAAA;IAAA,CAAAZ,aAAA,GAAAE,CAAA,OAAG,MAAMK,GAAG,CAACM,IAAI,EAAE;IAEpD;IAAA;IAAAb,aAAA,GAAAE,CAAA;IACA;IAAI;IAAA,CAAAF,aAAA,GAAAc,CAAA,WAACL,EAAE;IAAA;IAAA,CAAAT,aAAA,GAAAc,CAAA,UAAI,CAACJ,OAAO;IAAA;IAAA,CAAAV,aAAA,GAAAc,CAAA,UAAI,CAACH,IAAI,GAAE;MAAA;MAAAX,aAAA,GAAAc,CAAA;MAAAd,aAAA,GAAAE,CAAA;MAC5B,OAAOG,QAAA,CAAAU,YAAY,CAACF,IAAI,CACtB;QAAEG,KAAK,EAAE;MAAyB,CAAE,EACpC;QAAEC,MAAM,EAAE;MAAG,CAAE,CAChB;IACH,CAAC;IAAA;IAAA;MAAAjB,aAAA,GAAAc,CAAA;IAAA;IAED;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;;;;;;;;;;;;;;IAgBA;IAAAd,aAAA,GAAAE,CAAA;IACAgB,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE;MACpCV,EAAE;MACFC,OAAO;MACPC,IAAI,EAAEA,IAAI,CAACS,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,KAAK;MACpCR,IAAI,EAAEA,IAAI,EAAEQ,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG;KACjC,CAAC;IAAC;IAAApB,aAAA,GAAAE,CAAA;IAEH,OAAOG,QAAA,CAAAU,YAAY,CAACF,IAAI,CAAC;MACvBQ,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE;MACT;KACD,CAAC;EAEJ,CAAC,CAAC,OAAON,KAAK,EAAE;IAAA;IAAAhB,aAAA,GAAAE,CAAA;IACdgB,OAAO,CAACF,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAAC;IAAAhB,aAAA,GAAAE,CAAA;IAC7C,OAAOG,QAAA,CAAAU,YAAY,CAACF,IAAI,CACtB;MAAEG,KAAK,EAAE;IAAsB,CAAE,EACjC;MAAEC,MAAM,EAAE;IAAG,CAAE,CAChB;EACH;AACF","ignoreList":[]}