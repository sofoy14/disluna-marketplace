{"version":3,"names":["cov_13tl5hcqbj","actualCoverage","s","exports","runDeepResearchWorkflow","legal_search_specialized_1","require","deep_research_prompts_1","userQuery","options","f","client","model","maxResearchRounds","b","maxSearchesPerRound","searchTimeoutMs","console","log","repeat","startTime","Date","now","initialPlan","minRequiredRounds","mandatoryQueries","executePlanningPhase","rounds","allSources","gapsIdentified","executeIterativePhase","result","executeSynthesisPhase","error","totalDuration","partialResult","success","context","Error","message","sources","metadata","totalDurationMs","totalRounds","totalSources","highQualitySources","officialSources","averageQuality","finalSufficiencyScore","planResearchStrategy","complexity","estimatedRounds","researchAreas","length","buildMandatoryLegalQueries","consecutiveInsufficientRounds","executedQueries","Set","round","roundStart","queries","searchQueries","slice","lastRound","sufficiencyEvaluation","needsMoreSearch","additionalQueries","filter","q","priority","map","query","generateAdditionalQueries","pendingMandatory","has","normalizeQueryKey","needsOfficialBoost","type","forcedQueries","Math","min","roundSeen","trim","key","add","maxQueriesThisRound","forEach","roundResults","executeSearchRound","verifiedSources","verifySources","source","quality","removeDuplicateSources","sort","a","sufficiencyEval","evaluateInformationSufficiency","roundDuration","researchRound","roundNumber","results","durationMs","push","reduce","sum","toFixed","isSufficient","confidence","totalScore","missingInfo","highQualityCount","modelContext","generateFinalSynthesis","r","allResults","searchResult","searchLegalSpecialized","enrichedResults","enrichLegalResults","verificationPrompt","SOURCE_VERIFICATION_PROMPT","replace","JSON","stringify","response","chat","completions","create","messages","role","content","temperature","max_tokens","choices","verificationData","parseSourceVerification","index","verificationNotes","authority","currency","recommendedUse","originalQuery","previousRounds","evidenceSummary","analyzeEvidenceSummary","evaluationPrompt","INFORMATION_SUFFICIENCY_PROMPT","evaluation","parseSufficiencyEvaluation","enforcedEvaluation","enforceEvidenceThresholds","detailedScores","normativa","jurisprudencia","doctrina","actualidad","verificacion","qualityIssues","reason","currentSources","queryPrompt","QUERY_GENERATION_PROMPT","queryData","parseQueryGeneration","synthesisPrompt","FINAL_SYNTHESIS_PROMPT","planningPrompt","RESEARCH_PLANNING_PROMPT","parseResearchPlan","seen","url","toLowerCase","academicSources","newsSources","generalSources","coverageAreas","title","issues","explicitArticles","area","includes","jurisprudenceSources","doctrineSources","adjustedScore","max","baseQuery","jsonContent","extractJson","parsed","parse","start","indexOf","end","lastIndexOf"],"sources":["C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\tongyi\\deep-research-orchestrator-refactored.ts"],"sourcesContent":["import OpenAI from \"openai\"\nimport { searchLegalSpecialized, enrichLegalResults } from \"@/lib/tools/legal/legal-search-specialized\"\nimport { \n  RESEARCH_PLANNING_PROMPT, \n  INFORMATION_SUFFICIENCY_PROMPT,\n  QUERY_GENERATION_PROMPT,\n  SOURCE_VERIFICATION_PROMPT,\n  FINAL_SYNTHESIS_PROMPT\n} from \"./deep-research-prompts\"\n\nexport interface DeepResearchOptions {\n  client: OpenAI\n  model: string\n  maxResearchRounds?: number\n  maxSearchesPerRound?: number\n  searchTimeoutMs?: number\n}\n\nexport interface ResearchSource {\n  title: string\n  url: string\n  snippet: string\n  type: 'official' | 'academic' | 'news' | 'general'\n  relevance: number\n  quality: number\n  verificationNotes?: string\n  authority: 'maxima' | 'alta' | 'media' | 'baja' | 'minima'\n  currency: 'actualizada' | 'desactualizada' | 'desconocida'\n  recommendedUse: 'cita_principal' | 'secundaria' | 'contextual' | 'no_usar'\n}\n\nexport interface ResearchRound {\n  roundNumber: number\n  queries: string[]\n  results: ResearchSource[]\n  sufficiencyEvaluation: {\n    isSufficient: boolean\n    confidence: number\n    detailedScores: {\n      normativa: number\n      jurisprudencia: number\n      doctrina: number\n      actualidad: number\n      verificacion: number\n    }\n    totalScore: number\n    missingInfo: string[]\n    qualityIssues: string[]\n    needsMoreSearch: boolean\n    additionalQueries?: Array<{\n      query: string\n      priority: 'alta' | 'media' | 'baja'\n      reason: string\n    }>\n  }\n  durationMs: number\n}\n\nexport interface DeepResearchResult {\n  success: boolean\n  context: string\n  sources: ResearchSource[]\n  rounds: ResearchRound[]\n  metadata: {\n    totalDurationMs: number\n    totalRounds: number\n    totalSources: number\n    highQualitySources: number\n    officialSources: number\n    averageQuality: number\n    gapsIdentified: number\n    finalSufficiencyScore: number\n  }\n}\n\nexport interface EvidenceSummary {\n  totalSources: number\n  officialSources: number\n  academicSources: number\n  newsSources: number\n  generalSources: number\n  averageQuality: number\n  highQualitySources: number\n  coverageAreas: string[]\n}\n\n/**\n * Funci√≥n principal que orquesta la investigaci√≥n profunda dirigida por el modelo\n * Versi√≥n refactorizada con funciones separadas para cada fase\n */\nexport async function runDeepResearchWorkflow(\n  userQuery: string,\n  options: DeepResearchOptions\n): Promise<DeepResearchResult> {\n  const {\n    client,\n    model,\n    maxResearchRounds = 5,\n    maxSearchesPerRound = 6,\n    searchTimeoutMs = 35000\n  } = options\n\n  console.log(`\\nüîç INICIANDO INVESTIGACI√ìN PROFUNDA MEJORADA`)\n  console.log(`üìù Consulta: \"${userQuery}\"`)\n  console.log(`üìä M√°ximo de rondas: ${maxResearchRounds}`)\n  console.log(`üîç B√∫squedas por ronda: ${maxSearchesPerRound}`)\n  console.log(`‚è±Ô∏è Timeout por b√∫squeda: ${searchTimeoutMs}ms`)\n  console.log(`${'='.repeat(80)}`)\n\n  const startTime = Date.now()\n\n  try {\n    // FASE 1: Planificaci√≥n inicial exhaustiva\n    const { initialPlan, minRequiredRounds, mandatoryQueries } = await executePlanningPhase(\n      client, model, userQuery\n    )\n\n    // FASE 2: Ejecuci√≥n iterativa exigente\n    const { rounds, allSources, gapsIdentified } = await executeIterativePhase(\n      client, model, userQuery, initialPlan, minRequiredRounds, mandatoryQueries,\n      maxResearchRounds, maxSearchesPerRound, searchTimeoutMs\n    )\n\n    // FASE 3: S√≠ntesis final mejorada\n    const result = await executeSynthesisPhase(\n      client, model, userQuery, allSources, rounds, startTime\n    )\n\n    return result\n\n  } catch (error) {\n    console.error(`‚ùå Error en investigaci√≥n profunda:`, error)\n    \n    const totalDuration = Date.now() - startTime\n    const partialResult: DeepResearchResult = {\n      success: false,\n      context: `Error durante la investigaci√≥n: ${error instanceof Error ? error.message : 'Error desconocido'}`,\n      sources: [],\n      rounds: [],\n      metadata: {\n        totalDurationMs: totalDuration,\n        totalRounds: 0,\n        totalSources: 0,\n        highQualitySources: 0,\n        officialSources: 0,\n        averageQuality: 0,\n        gapsIdentified: 0,\n        finalSufficiencyScore: 0\n      }\n    }\n\n    return partialResult\n  }\n}\n\n/**\n * FASE 1: Planificaci√≥n inicial exhaustiva\n */\nasync function executePlanningPhase(\n  client: OpenAI,\n  model: string,\n  userQuery: string\n): Promise<{\n  initialPlan: any;\n  minRequiredRounds: number;\n  mandatoryQueries: string[];\n}> {\n  console.log(`\\nüîç FASE 1: PLANIFICACI√ìN EXHAUSTIVA`)\n  const initialPlan = await planResearchStrategy(client, model, userQuery)\n  console.log(`üìã Plan inicial: ${initialPlan.complexity} (${initialPlan.estimatedRounds} rondas estimadas)`)\n  console.log(`üéØ √Åreas de investigaci√≥n: ${initialPlan.researchAreas?.length || 0} identificadas`)\n  \n  // Exigir m√≠nimo de rondas seg√∫n complejidad\n  const minRequiredRounds = initialPlan.complexity === 'muy_compleja' ? 4 : \n                           initialPlan.complexity === 'compleja' ? 3 : 2\n\n  const mandatoryQueries = buildMandatoryLegalQueries(userQuery)\n  \n  return { initialPlan, minRequiredRounds, mandatoryQueries }\n}\n\n/**\n * FASE 2: Ejecuci√≥n iterativa exigente\n */\nasync function executeIterativePhase(\n  client: OpenAI,\n  model: string,\n  userQuery: string,\n  initialPlan: any,\n  minRequiredRounds: number,\n  mandatoryQueries: string[],\n  maxResearchRounds: number,\n  maxSearchesPerRound: number,\n  searchTimeoutMs: number\n): Promise<{\n  rounds: ResearchRound[];\n  allSources: ResearchSource[];\n  gapsIdentified: number;\n}> {\n  console.log(`\\nüîÑ FASE 2: EJECUCI√ìN ITERATIVA EXIGENTE`)\n  \n  const rounds: ResearchRound[] = []\n  let allSources: ResearchSource[] = []\n  let gapsIdentified = 0\n  let consecutiveInsufficientRounds = 0\n  const executedQueries = new Set<string>()\n\n  for (let round = 1; round <= maxResearchRounds; round++) {\n    console.log(`\\nüîç RONDA ${round} DE INVESTIGACI√ìN`)\n    const roundStart = Date.now()\n    \n    // Generar consultas espec√≠ficas para esta ronda\n    let queries: string[] = []\n    \n    if (round === 1) {\n      // Primera ronda: usar consultas del plan inicial\n      queries = initialPlan.searchQueries.slice(0, maxSearchesPerRound)\n      console.log(`üìã Usando ${queries.length} consultas del plan inicial`)\n    } else {\n      // Rondas subsiguientes: generar consultas basadas en brechas\n      const lastRound = rounds[rounds.length - 1]\n      if (lastRound?.sufficiencyEvaluation.needsMoreSearch && \n          lastRound.sufficiencyEvaluation.additionalQueries) {\n        queries = lastRound.sufficiencyEvaluation.additionalQueries\n          .filter(q => q.priority === 'alta')\n          .slice(0, maxSearchesPerRound)\n          .map(q => q.query)\n        console.log(`üéØ Generadas ${queries.length} consultas de alta prioridad`)\n      }\n      \n      // Si no hay consultas de alta prioridad, generar autom√°ticas\n      if (queries.length === 0) {\n        queries = await generateAdditionalQueries(client, model, userQuery, allSources, rounds)\n        console.log(`ü§ñ Generadas ${queries.length} consultas autom√°ticas`)\n      }\n    }\n\n    const pendingMandatory = mandatoryQueries\n      .filter(q => !executedQueries.has(normalizeQueryKey(q)))\n    const needsOfficialBoost = allSources.filter(s => s.type === 'official').length < 3\n    if (pendingMandatory.length > 0) {\n      const forcedQueries = (round === 1 || needsOfficialBoost)\n        ? pendingMandatory\n        : pendingMandatory.slice(0, Math.min(2, pendingMandatory.length))\n      if (forcedQueries.length > 0) {\n        console.log(`[INFO] Refuerzo de dominios oficiales con ${forcedQueries.length} consultas`)\n        queries = [...forcedQueries, ...queries]\n      }\n    }\n\n    const roundSeen = new Set<string>()\n    queries = queries\n      .map(q => q.trim())\n      .filter(q => q.length > 0)\n      .filter(q => {\n        const key = normalizeQueryKey(q)\n        if (executedQueries.has(key) || roundSeen.has(key)) {\n          return false\n        }\n        roundSeen.add(key)\n        return true\n      })\n\n    const maxQueriesThisRound = Math.min(queries.length, maxSearchesPerRound + 2)\n    if (queries.length > maxQueriesThisRound) {\n      queries = queries.slice(0, maxQueriesThisRound)\n    }\n\n    if (queries.length === 0) {\n      console.log(`‚ö†Ô∏è No se generaron consultas para ronda ${round}`)\n      if (round >= minRequiredRounds) {\n        console.log(`‚úÖ M√≠nimo de rondas requeridas cumplido (${minRequiredRounds})`)\n        break\n      }\n      continue\n    }\n\n    // Ejecutar b√∫squedas con mayor exigencia\n    console.log(`üîç Ejecutando ${queries.length} b√∫squedas especializadas...`)\n    queries.forEach(q => executedQueries.add(normalizeQueryKey(q)))\n    const roundResults = await executeSearchRound(queries, maxSearchesPerRound, searchTimeoutMs)\n    \n    // Verificaci√≥n rigurosa de fuentes\n    console.log(`üîç Verificando calidad de ${roundResults.length} fuentes...`)\n    const verifiedSources = await verifySources(client, model, roundResults)\n    \n    // Filtrar fuentes de alta calidad solo\n    const highQualitySources = verifiedSources.filter(source => source.quality >= 6)\n    console.log(`‚úÖ ${highQualitySources.length} fuentes de alta calidad (>=6/10)`)\n    \n    allSources = [...allSources, ...highQualitySources]\n\n    // Eliminar duplicados y mantener solo las mejores\n    allSources = removeDuplicateSources(allSources)\n    allSources = allSources.sort((a, b) => b.quality - a.quality).slice(0, 20) // M√°ximo 20 fuentes\n    \n    // Evaluaci√≥n exhaustiva de suficiencia\n    console.log(`üìä Evaluando suficiencia de informaci√≥n...`)\n    const sufficiencyEval = await evaluateInformationSufficiency(\n      client, \n      model, \n      userQuery, \n      allSources, \n      rounds\n    )\n\n    const roundDuration = Date.now() - roundStart\n\n    const researchRound: ResearchRound = {\n      roundNumber: round,\n      queries,\n      results: highQualitySources,\n      sufficiencyEvaluation: sufficiencyEval,\n      durationMs: roundDuration\n    }\n\n    rounds.push(researchRound)\n    \n    console.log(`‚úÖ Ronda ${round} completada en ${roundDuration}ms`)\n    console.log(`üìä Fuentes: ${highQualitySources.length} | Calidad promedio: ${highQualitySources.length > 0 ? (highQualitySources.reduce((sum, s) => sum + s.quality, 0) / highQualitySources.length).toFixed(1) : 0}/10`)\n    console.log(`üìä Suficiencia: ${sufficiencyEval.isSufficient ? 'S√≠' : 'NO'} (${sufficiencyEval.confidence.toFixed(2)})`)\n    console.log(`üìä Puntaje total: ${sufficiencyEval.totalScore}/100`)\n    \n    if (sufficiencyEval.missingInfo.length > 0) {\n      console.log(`üîç Brechas identificadas: ${sufficiencyEval.missingInfo.length}`)\n      gapsIdentified += sufficiencyEval.missingInfo.length\n    }\n\n    // L√≥gica de continuaci√≥n m√°s exigente\n    if (sufficiencyEval.isSufficient && sufficiencyEval.confidence >= 0.85 && sufficiencyEval.totalScore >= 80) {\n      console.log(`‚úÖ INFORMACI√ìN SUFICIENTE Y DE ALTA CALIDAD`)\n      if (round >= minRequiredRounds) {\n        console.log(`‚úÖ Requisitos m√≠nimos cumplidos, finalizando investigaci√≥n`)\n        break\n      }\n    }\n\n    // Contar rondas insuficientes consecutivas\n    if (sufficiencyEval.totalScore < 50) {\n      consecutiveInsufficientRounds++\n      console.log(`‚ö†Ô∏è Ronda de baja calidad (${consecutiveInsufficientRounds}/3 consecutivas)`)\n      \n      if (consecutiveInsufficientRounds >= 3) {\n        console.log(`‚ùå 3 rondas consecutivas de baja calidad, finalizando`)\n        break\n      }\n    } else {\n      consecutiveInsufficientRounds = 0\n    }\n\n    // Exigir m√≠nimo de fuentes de alta calidad\n    const highQualityCount = allSources.filter(s => s.quality >= 7).length\n    if (highQualityCount >= 8 && round >= minRequiredRounds && sufficiencyEval.totalScore >= 70) {\n      console.log(`‚úÖ Suficientes fuentes de alta calidad (${highQualityCount}), finalizando`)\n      break\n    }\n  }\n\n  return { rounds, allSources, gapsIdentified }\n}\n\n/**\n * FASE 3: S√≠ntesis final mejorada\n */\nasync function executeSynthesisPhase(\n  client: OpenAI,\n  model: string,\n  userQuery: string,\n  allSources: ResearchSource[],\n  rounds: ResearchRound[],\n  startTime: number\n): Promise<DeepResearchResult> {\n  console.log(`\\nüìù FASE 3: S√çNTESIS FINAL MEJORADA`)\n  const totalDuration = Date.now() - startTime\n  \n  // Generar contexto final con s√≠ntesis experta\n  const modelContext = await generateFinalSynthesis(client, model, userQuery, allSources, rounds)\n  \n  const result: DeepResearchResult = {\n    success: true,\n    context: modelContext,\n    sources: allSources,\n    rounds,\n    metadata: {\n      totalDurationMs: totalDuration,\n      totalRounds: rounds.length,\n      totalSources: allSources.length,\n      highQualitySources: allSources.filter(s => s.quality >= 7).length,\n      officialSources: allSources.filter(s => s.type === 'official').length,\n      averageQuality: allSources.length > 0 ? \n        allSources.reduce((sum, s) => sum + s.quality, 0) / allSources.length : 0,\n      gapsIdentified: rounds.reduce((sum, r) => sum + r.sufficiencyEvaluation.missingInfo.length, 0),\n      finalSufficiencyScore: rounds.length > 0 ? rounds[rounds.length - 1].sufficiencyEvaluation.totalScore : 0\n    }\n  }\n\n  console.log(`\\nüéâ INVESTIGACI√ìN PROFUNDA COMPLETADA`)\n  console.log(`‚è±Ô∏è Duraci√≥n total: ${totalDuration}ms`)\n  console.log(`üìä Rondas ejecutadas: ${rounds.length}`)\n  console.log(`üìö Fuentes encontradas: ${allSources.length}`)\n  console.log(`‚≠ê Fuentes de alta calidad: ${result.metadata.highQualitySources}`)\n  console.log(`üèõÔ∏è Fuentes oficiales: ${result.metadata.officialSources}`)\n  console.log(`üìä Calidad promedio: ${result.metadata.averageQuality.toFixed(1)}/10`)\n  console.log(`üìä Puntaje final de suficiencia: ${result.metadata.finalSufficiencyScore}/100`)\n  console.log(`${'='.repeat(80)}`)\n\n  return result\n}\n\n// Funciones auxiliares (mantenidas del c√≥digo original)\n\nasync function executeSearchRound(\n  queries: string[],\n  maxSearchesPerRound: number,\n  searchTimeoutMs: number\n): Promise<ResearchSource[]> {\n  const allResults: ResearchSource[] = []\n  \n  for (const query of queries.slice(0, maxSearchesPerRound)) {\n    try {\n      console.log(`üîç Buscando: \"${query}\"`)\n      const searchResult = await searchLegalSpecialized(query, searchTimeoutMs)\n      \n      if (searchResult.success && searchResult.results.length > 0) {\n        const enrichedResults = await enrichLegalResults(searchResult.results, searchTimeoutMs)\n        allResults.push(...enrichedResults)\n        console.log(`‚úÖ Encontradas ${enrichedResults.length} fuentes`)\n      } else {\n        console.log(`‚ö†Ô∏è Sin resultados para: \"${query}\"`)\n      }\n    } catch (error) {\n      console.error(`‚ùå Error en b√∫squeda \"${query}\":`, error)\n    }\n  }\n  \n  return allResults\n}\n\nasync function verifySources(\n  client: OpenAI,\n  model: string,\n  sources: ResearchSource[]\n): Promise<ResearchSource[]> {\n  if (sources.length === 0) return sources\n\n  const verificationPrompt = SOURCE_VERIFICATION_PROMPT.replace('{sources}', JSON.stringify(sources, null, 2))\n  \n  try {\n    const response = await client.chat.completions.create({\n      model,\n      messages: [{ role: 'user', content: verificationPrompt }],\n      temperature: 0.1,\n      max_tokens: 4000\n    })\n\n    const content = response.choices[0]?.message?.content || ''\n    const verificationData = parseSourceVerification(content)\n    \n    return sources.map((source, index) => ({\n      ...source,\n      verificationNotes: verificationData.sources[index]?.verificationNotes || '',\n      authority: verificationData.sources[index]?.authority || source.authority,\n      currency: verificationData.sources[index]?.currency || source.currency,\n      recommendedUse: verificationData.sources[index]?.recommendedUse || source.recommendedUse\n    }))\n  } catch (error) {\n    console.error('Error verificando fuentes:', error)\n    return sources\n  }\n}\n\nasync function evaluateInformationSufficiency(\n  client: OpenAI,\n  model: string,\n  originalQuery: string,\n  sources: ResearchSource[],\n  previousRounds: ResearchRound[]\n): Promise<{\n  isSufficient: boolean\n  confidence: number\n  detailedScores: {\n    normativa: number\n    jurisprudencia: number\n    doctrina: number\n    actualidad: number\n    verificacion: number\n  }\n  totalScore: number\n  missingInfo: string[]\n  qualityIssues: string[]\n  needsMoreSearch: boolean\n  additionalQueries?: Array<{\n    query: string\n    priority: 'alta' | 'media' | 'baja'\n    reason: string\n  }>\n}> {\n  const evidenceSummary = analyzeEvidenceSummary(sources)\n  const evaluationPrompt = INFORMATION_SUFFICIENCY_PROMPT\n    .replace('{query}', originalQuery)\n    .replace('{sources}', JSON.stringify(sources, null, 2))\n    .replace('{evidenceSummary}', JSON.stringify(evidenceSummary, null, 2))\n    .replace('{previousRounds}', JSON.stringify(previousRounds.length))\n  \n  try {\n    const response = await client.chat.completions.create({\n      model,\n      messages: [{ role: 'user', content: evaluationPrompt }],\n      temperature: 0.1,\n      max_tokens: 3000\n    })\n\n    const content = response.choices[0]?.message?.content || ''\n    const evaluation = parseSufficiencyEvaluation(content)\n    \n    const enforcedEvaluation = enforceEvidenceThresholds(evaluation, evidenceSummary, originalQuery)\n    \n    return enforcedEvaluation\n  } catch (error) {\n    console.error('Error evaluando suficiencia:', error)\n    \n    return {\n      isSufficient: false,\n      confidence: 0.3,\n      detailedScores: {\n        normativa: 10,\n        jurisprudencia: 10,\n        doctrina: 10,\n        actualidad: 10,\n        verificacion: 10\n      },\n      totalScore: 50,\n      missingInfo: ['Error en evaluaci√≥n de suficiencia'],\n      qualityIssues: ['No se pudo evaluar la calidad'],\n      needsMoreSearch: true,\n      additionalQueries: [{\n        query: originalQuery,\n        priority: 'alta',\n        reason: 'Error en evaluaci√≥n, reintentar b√∫squeda'\n      }]\n    }\n  }\n}\n\nasync function generateAdditionalQueries(\n  client: OpenAI,\n  model: string,\n  originalQuery: string,\n  currentSources: ResearchSource[],\n  previousRounds: ResearchRound[]\n): Promise<string[]> {\n  const queryPrompt = QUERY_GENERATION_PROMPT\n    .replace('{query}', originalQuery)\n    .replace('{sources}', JSON.stringify(currentSources, null, 2))\n    .replace('{rounds}', JSON.stringify(previousRounds.length))\n  \n  try {\n    const response = await client.chat.completions.create({\n      model,\n      messages: [{ role: 'user', content: queryPrompt }],\n      temperature: 0.3,\n      max_tokens: 2000\n    })\n\n    const content = response.choices[0]?.message?.content || ''\n    const queryData = parseQueryGeneration(content)\n    \n    return queryData.additionalQueries || []\n  } catch (error) {\n    console.error('Error generando consultas adicionales:', error)\n    return []\n  }\n}\n\nasync function generateFinalSynthesis(\n  client: OpenAI,\n  model: string,\n  originalQuery: string,\n  sources: ResearchSource[],\n  rounds: ResearchRound[]\n): Promise<string> {\n  const synthesisPrompt = FINAL_SYNTHESIS_PROMPT\n    .replace('{query}', originalQuery)\n    .replace('{sources}', JSON.stringify(sources, null, 2))\n    .replace('{rounds}', JSON.stringify(rounds.length))\n  \n  try {\n    const response = await client.chat.completions.create({\n      model,\n      messages: [{ role: 'user', content: synthesisPrompt }],\n      temperature: 0.2,\n      max_tokens: 4000\n    })\n\n    return response.choices[0]?.message?.content || 'No se pudo generar la s√≠ntesis final'\n  } catch (error) {\n    console.error('Error generando s√≠ntesis final:', error)\n    return `Error generando s√≠ntesis: ${error instanceof Error ? error.message : 'Error desconocido'}`\n  }\n}\n\nasync function planResearchStrategy(\n  client: OpenAI,\n  model: string,\n  userQuery: string\n): Promise<{\n  complexity: 'simple' | 'compleja' | 'muy_compleja'\n  estimatedRounds: number\n  researchAreas: string[]\n  searchQueries: string[]\n}> {\n  const planningPrompt = RESEARCH_PLANNING_PROMPT.replace('{query}', userQuery)\n  \n  try {\n    const response = await client.chat.completions.create({\n      model,\n      messages: [{ role: 'user', content: planningPrompt }],\n      temperature: 0.2,\n      max_tokens: 3000\n    })\n\n    const content = response.choices[0]?.message?.content || ''\n    return parseResearchPlan(content)\n  } catch (error) {\n    console.error('Error planificando investigaci√≥n:', error)\n    \n    return {\n      complexity: 'compleja',\n      estimatedRounds: 3,\n      researchAreas: ['Derecho general'],\n      searchQueries: [userQuery]\n    }\n  }\n}\n\nfunction removeDuplicateSources(sources: ResearchSource[]): ResearchSource[] {\n  const seen = new Set<string>()\n  return sources.filter(source => {\n    const key = source.url.toLowerCase()\n    if (seen.has(key)) {\n      return false\n    }\n    seen.add(key)\n    return true\n  })\n}\n\nfunction normalizeQueryKey(query: string): string {\n  return query.toLowerCase().trim().replace(/\\s+/g, ' ')\n}\n\nfunction analyzeEvidenceSummary(sources: ResearchSource[]): EvidenceSummary {\n  const officialSources = sources.filter(s => s.type === 'official').length\n  const academicSources = sources.filter(s => s.type === 'academic').length\n  const newsSources = sources.filter(s => s.type === 'news').length\n  const generalSources = sources.filter(s => s.type === 'general').length\n  const averageQuality = sources.length > 0 ? sources.reduce((sum, s) => sum + s.quality, 0) / sources.length : 0\n  const highQualitySources = sources.filter(s => s.quality >= 7).length\n  \n  const coverageAreas = sources.map(s => s.title.toLowerCase()).slice(0, 10)\n  \n  return {\n    totalSources: sources.length,\n    officialSources,\n    academicSources,\n    newsSources,\n    generalSources,\n    averageQuality,\n    highQualitySources,\n    coverageAreas\n  }\n}\n\nfunction enforceEvidenceThresholds(\n  evaluation: ReturnType<typeof parseSufficiencyEvaluation>,\n  evidenceSummary: EvidenceSummary,\n  originalQuery: string\n): ReturnType<typeof parseSufficiencyEvaluation> {\n  const issues: string[] = []\n  const missingInfo: string[] = []\n  const additionalQueries: Array<{query: string, priority: 'alta' | 'media' | 'baja', reason: string}> = []\n  \n  if (evidenceSummary.officialSources < 2) {\n    issues.push(`Solo ${evidenceSummary.officialSources} fuentes oficiales encontradas (m√≠nimo requerido: 2)`)\n    missingInfo.push('M√°s fuentes oficiales del gobierno colombiano')\n    additionalQueries.push({\n      query: `${originalQuery} sitio:gov.co`,\n      priority: 'alta',\n      reason: 'Refuerzo de fuentes oficiales'\n    })\n  }\n  \n  const explicitArticles = evidenceSummary.coverageAreas.filter(area => \n    area.includes('art√≠culo') || area.includes('ley') || area.includes('decreto')\n  ).length\n  \n  if (explicitArticles < 1) {\n    issues.push('No se encontraron art√≠culos o leyes expl√≠citas')\n    missingInfo.push('Referencias espec√≠ficas a art√≠culos de ley')\n    additionalQueries.push({\n      query: `${originalQuery} art√≠culo ley decreto`,\n      priority: 'alta',\n      reason: 'B√∫squeda de art√≠culos espec√≠ficos'\n    })\n  }\n  \n  const jurisprudenceSources = evidenceSummary.coverageAreas.filter(area => \n    area.includes('sentencia') || area.includes('jurisprudencia') || area.includes('corte')\n  ).length\n  \n  if (jurisprudenceSources < 1) {\n    issues.push('No se encontr√≥ jurisprudencia relevante')\n    missingInfo.push('Sentencias o jurisprudencia relacionada')\n    additionalQueries.push({\n      query: `${originalQuery} sentencia jurisprudencia corte`,\n      priority: 'media',\n      reason: 'B√∫squeda de jurisprudencia'\n    })\n  }\n  \n  const doctrineSources = evidenceSummary.coverageAreas.filter(area => \n    area.includes('doctrina') || area.includes('acad√©mico') || area.includes('universidad')\n  ).length\n  \n  if (doctrineSources < 1) {\n    issues.push('No se encontr√≥ doctrina acad√©mica')\n    missingInfo.push('An√°lisis doctrinal o acad√©mico')\n    additionalQueries.push({\n      query: `${originalQuery} doctrina acad√©mico universidad`,\n      priority: 'media',\n      reason: 'B√∫squeda de doctrina'\n    })\n  }\n  \n  let adjustedScore = evaluation.totalScore\n  if (issues.length > 0) {\n    adjustedScore = Math.max(0, adjustedScore - (issues.length * 15))\n  }\n  \n  return {\n    ...evaluation,\n    totalScore: adjustedScore,\n    isSufficient: adjustedScore >= 70 && issues.length === 0,\n    missingInfo: [...evaluation.missingInfo, ...missingInfo],\n    qualityIssues: [...evaluation.qualityIssues, ...issues],\n    needsMoreSearch: issues.length > 0 || evaluation.needsMoreSearch,\n    additionalQueries: [...(evaluation.additionalQueries || []), ...additionalQueries]\n  }\n}\n\nfunction buildMandatoryLegalQueries(query: string): string[] {\n  const baseQuery = query.toLowerCase()\n  const mandatoryQueries: string[] = []\n  \n  mandatoryQueries.push(`${query} sitio:corteconstitucional.gov.co`)\n  mandatoryQueries.push(`${query} sitio:consejodeestado.gov.co`)\n  mandatoryQueries.push(`${query} sitio:suin-juriscol.gov.co`)\n  \n  if (baseQuery.includes('constitucional') || baseQuery.includes('derechos')) {\n    mandatoryQueries.push(`${query} sitio:corteconstitucional.gov.co derechos fundamentales`)\n  }\n  \n  if (baseQuery.includes('administrativo') || baseQuery.includes('estado')) {\n    mandatoryQueries.push(`${query} sitio:consejodeestado.gov.co derecho administrativo`)\n  }\n  \n  if (baseQuery.includes('civil') || baseQuery.includes('comercial')) {\n    mandatoryQueries.push(`${query} sitio:ramajudicial.gov.co derecho civil`)\n  }\n  \n  if (baseQuery.includes('penal') || baseQuery.includes('criminal')) {\n    mandatoryQueries.push(`${query} sitio:fiscalia.gov.co derecho penal`)\n  }\n  \n  return mandatoryQueries\n}\n\nfunction parseResearchPlan(content: string): {\n  complexity: 'simple' | 'compleja' | 'muy_compleja'\n  estimatedRounds: number\n  researchAreas: string[]\n  searchQueries: string[]\n} {\n  try {\n    const jsonContent = extractJson(content)\n    const parsed = JSON.parse(jsonContent)\n    \n    return {\n      complexity: parsed.complexity || 'compleja',\n      estimatedRounds: parsed.estimatedRounds || 3,\n      researchAreas: parsed.researchAreas || ['Derecho general'],\n      searchQueries: parsed.searchQueries || []\n    }\n  } catch (error) {\n    console.error('Error parseando plan de investigaci√≥n:', error)\n    \n    return {\n      complexity: 'compleja',\n      estimatedRounds: 3,\n      researchAreas: ['Derecho general'],\n      searchQueries: []\n    }\n  }\n}\n\nfunction parseQueryGeneration(content: string): {\n  additionalQueries: string[]\n} {\n  try {\n    const jsonContent = extractJson(content)\n    const parsed = JSON.parse(jsonContent)\n    \n    return {\n      additionalQueries: parsed.additionalQueries || []\n    }\n  } catch (error) {\n    console.error('Error parseando generaci√≥n de consultas:', error)\n    \n    return {\n      additionalQueries: []\n    }\n  }\n}\n\nfunction parseSourceVerification(content: string): {\n  sources: Array<{\n    verificationNotes: string\n    authority: 'maxima' | 'alta' | 'media' | 'baja' | 'minima'\n    currency: 'actualizada' | 'desactualizada' | 'desconocida'\n    recommendedUse: 'cita_principal' | 'secundaria' | 'contextual' | 'no_usar'\n  }>\n} {\n  try {\n    const jsonContent = extractJson(content)\n    const parsed = JSON.parse(jsonContent)\n    \n    return {\n      sources: parsed.sources || []\n    }\n  } catch (error) {\n    console.error('Error parseando verificaci√≥n de fuentes:', error)\n    \n    return {\n      sources: []\n    }\n  }\n}\n\nfunction parseSufficiencyEvaluation(content: string): {\n  isSufficient: boolean\n  confidence: number\n  detailedScores: {\n    normativa: number\n    jurisprudencia: number\n    doctrina: number\n    actualidad: number\n    verificacion: number\n  }\n  totalScore: number\n  missingInfo: string[]\n  qualityIssues: string[]\n  needsMoreSearch: boolean\n  additionalQueries?: Array<{\n    query: string\n    priority: 'alta' | 'media' | 'baja'\n    reason: string\n  }>\n} {\n  try {\n    const jsonContent = extractJson(content)\n    const parsed = JSON.parse(jsonContent)\n    \n    return {\n      isSufficient: parsed.isSufficient || false,\n      confidence: parsed.confidence || 0.3,\n      detailedScores: parsed.detailedScores || {\n        normativa: 10,\n        jurisprudencia: 10,\n        doctrina: 10,\n        actualidad: 10,\n        verificacion: 10\n      },\n      totalScore: parsed.totalScore || 50,\n      missingInfo: parsed.missingInfo || [],\n      qualityIssues: parsed.qualityIssues || [],\n      needsMoreSearch: parsed.needsMoreSearch || true,\n      additionalQueries: parsed.additionalQueries || []\n    }\n  } catch (error) {\n    console.error('Error parseando evaluaci√≥n de suficiencia:', error)\n    \n    return {\n      isSufficient: false,\n      confidence: 0.3,\n      detailedScores: {\n        normativa: 10,\n        jurisprudencia: 10,\n        doctrina: 10,\n        actualidad: 10,\n        verificacion: 10\n      },\n      totalScore: 50,\n      missingInfo: ['Error en evaluaci√≥n'],\n      qualityIssues: ['Error en evaluaci√≥n'],\n      needsMoreSearch: true,\n      additionalQueries: []\n    }\n  }\n}\n\nfunction extractJson(content: string): string {\n  const start = content.indexOf(\"{\")\n  const end = content.lastIndexOf(\"}\")\n  if (start === -1 || end === -1 || end <= start) {\n    throw new Error(\"JSON no encontrado en el contenido\")\n  }\n  return content.slice(start, end + 1)\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA0GU;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;AAhBVC,OAAA,CAAAC,uBAAA,GAAAA,uBAAA;AAzFA,MAAAC,0BAAA;AAAA;AAAA,CAAAL,cAAA,GAAAE,CAAA,OAAAI,OAAA;AACA,MAAAC,uBAAA;AAAA;AAAA,CAAAP,cAAA,GAAAE,CAAA,OAAAI,OAAA;AAoFA;;;;AAIO,eAAeF,uBAAuBA,CAC3CI,SAAiB,EACjBC,OAA4B;EAAA;EAAAT,cAAA,GAAAU,CAAA;EAE5B,MAAM;IACJC,MAAM;IACNC,KAAK;IACLC,iBAAiB;IAAA;IAAA,CAAAb,cAAA,GAAAc,CAAA,UAAG,CAAC;IACrBC,mBAAmB;IAAA;IAAA,CAAAf,cAAA,GAAAc,CAAA,UAAG,CAAC;IACvBE,eAAe;IAAA;IAAA,CAAAhB,cAAA,GAAAc,CAAA,UAAG,KAAK;EAAA,CACxB;EAAA;EAAA,CAAAd,cAAA,GAAAE,CAAA,OAAGO,OAAO;EAAA;EAAAT,cAAA,GAAAE,CAAA;EAEXe,OAAO,CAACC,GAAG,CAAC,gDAAgD,CAAC;EAAA;EAAAlB,cAAA,GAAAE,CAAA;EAC7De,OAAO,CAACC,GAAG,CAAC,iBAAiBV,SAAS,GAAG,CAAC;EAAA;EAAAR,cAAA,GAAAE,CAAA;EAC1Ce,OAAO,CAACC,GAAG,CAAC,wBAAwBL,iBAAiB,EAAE,CAAC;EAAA;EAAAb,cAAA,GAAAE,CAAA;EACxDe,OAAO,CAACC,GAAG,CAAC,2BAA2BH,mBAAmB,EAAE,CAAC;EAAA;EAAAf,cAAA,GAAAE,CAAA;EAC7De,OAAO,CAACC,GAAG,CAAC,4BAA4BF,eAAe,IAAI,CAAC;EAAA;EAAAhB,cAAA,GAAAE,CAAA;EAC5De,OAAO,CAACC,GAAG,CAAC,GAAG,GAAG,CAACC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC;EAEhC,MAAMC,SAAS;EAAA;EAAA,CAAApB,cAAA,GAAAE,CAAA,QAAGmB,IAAI,CAACC,GAAG,EAAE;EAAA;EAAAtB,cAAA,GAAAE,CAAA;EAE5B,IAAI;IACF;IACA,MAAM;MAAEqB,WAAW;MAAEC,iBAAiB;MAAEC;IAAgB,CAAE;IAAA;IAAA,CAAAzB,cAAA,GAAAE,CAAA,QAAG,MAAMwB,oBAAoB,CACrFf,MAAM,EAAEC,KAAK,EAAEJ,SAAS,CACzB;IAED;IACA,MAAM;MAAEmB,MAAM;MAAEC,UAAU;MAAEC;IAAc,CAAE;IAAA;IAAA,CAAA7B,cAAA,GAAAE,CAAA,QAAG,MAAM4B,qBAAqB,CACxEnB,MAAM,EAAEC,KAAK,EAAEJ,SAAS,EAAEe,WAAW,EAAEC,iBAAiB,EAAEC,gBAAgB,EAC1EZ,iBAAiB,EAAEE,mBAAmB,EAAEC,eAAe,CACxD;IAED;IACA,MAAMe,MAAM;IAAA;IAAA,CAAA/B,cAAA,GAAAE,CAAA,QAAG,MAAM8B,qBAAqB,CACxCrB,MAAM,EAAEC,KAAK,EAAEJ,SAAS,EAAEoB,UAAU,EAAED,MAAM,EAAEP,SAAS,CACxD;IAAA;IAAApB,cAAA,GAAAE,CAAA;IAED,OAAO6B,MAAM;EAEf,CAAC,CAAC,OAAOE,KAAK,EAAE;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IACde,OAAO,CAACgB,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;IAE1D,MAAMC,aAAa;IAAA;IAAA,CAAAlC,cAAA,GAAAE,CAAA,QAAGmB,IAAI,CAACC,GAAG,EAAE,GAAGF,SAAS;IAC5C,MAAMe,aAAa;IAAA;IAAA,CAAAnC,cAAA,GAAAE,CAAA,QAAuB;MACxCkC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE,mCAAmCJ,KAAK,YAAYK,KAAK;MAAA;MAAA,CAAAtC,cAAA,GAAAc,CAAA,UAAGmB,KAAK,CAACM,OAAO;MAAA;MAAA,CAAAvC,cAAA,GAAAc,CAAA,UAAG,mBAAmB,GAAE;MAC1G0B,OAAO,EAAE,EAAE;MACXb,MAAM,EAAE,EAAE;MACVc,QAAQ,EAAE;QACRC,eAAe,EAAER,aAAa;QAC9BS,WAAW,EAAE,CAAC;QACdC,YAAY,EAAE,CAAC;QACfC,kBAAkB,EAAE,CAAC;QACrBC,eAAe,EAAE,CAAC;QAClBC,cAAc,EAAE,CAAC;QACjBlB,cAAc,EAAE,CAAC;QACjBmB,qBAAqB,EAAE;;KAE1B;IAAA;IAAAhD,cAAA,GAAAE,CAAA;IAED,OAAOiC,aAAa;EACtB;AACF;AAEA;;;AAGA,eAAeT,oBAAoBA,CACjCf,MAAc,EACdC,KAAa,EACbJ,SAAiB;EAAA;EAAAR,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAE,CAAA;EAMjBe,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC;EACpD,MAAMK,WAAW;EAAA;EAAA,CAAAvB,cAAA,GAAAE,CAAA,QAAG,MAAM+C,oBAAoB,CAACtC,MAAM,EAAEC,KAAK,EAAEJ,SAAS,CAAC;EAAA;EAAAR,cAAA,GAAAE,CAAA;EACxEe,OAAO,CAACC,GAAG,CAAC,oBAAoBK,WAAW,CAAC2B,UAAU,KAAK3B,WAAW,CAAC4B,eAAe,oBAAoB,CAAC;EAAA;EAAAnD,cAAA,GAAAE,CAAA;EAC3Ge,OAAO,CAACC,GAAG,CAAC;EAA8B;EAAA,CAAAlB,cAAA,GAAAc,CAAA,UAAAS,WAAW,CAAC6B,aAAa,EAAEC,MAAM;EAAA;EAAA,CAAArD,cAAA,GAAAc,CAAA,UAAI,CAAC,iBAAgB,CAAC;EAEjG;EACA,MAAMU,iBAAiB;EAAA;EAAA,CAAAxB,cAAA,GAAAE,CAAA,QAAGqB,WAAW,CAAC2B,UAAU,KAAK,cAAc;EAAA;EAAA,CAAAlD,cAAA,GAAAc,CAAA,UAAG,CAAC;EAAA;EAAA,CAAAd,cAAA,GAAAc,CAAA,UAC9CS,WAAW,CAAC2B,UAAU,KAAK,UAAU;EAAA;EAAA,CAAAlD,cAAA,GAAAc,CAAA,UAAG,CAAC;EAAA;EAAA,CAAAd,cAAA,GAAAc,CAAA,UAAG,CAAC;EAEtE,MAAMW,gBAAgB;EAAA;EAAA,CAAAzB,cAAA,GAAAE,CAAA,QAAGoD,0BAA0B,CAAC9C,SAAS,CAAC;EAAA;EAAAR,cAAA,GAAAE,CAAA;EAE9D,OAAO;IAAEqB,WAAW;IAAEC,iBAAiB;IAAEC;EAAgB,CAAE;AAC7D;AAEA;;;AAGA,eAAeK,qBAAqBA,CAClCnB,MAAc,EACdC,KAAa,EACbJ,SAAiB,EACjBe,WAAgB,EAChBC,iBAAyB,EACzBC,gBAA0B,EAC1BZ,iBAAyB,EACzBE,mBAA2B,EAC3BC,eAAuB;EAAA;EAAAhB,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAE,CAAA;EAMvBe,OAAO,CAACC,GAAG,CAAC,2CAA2C,CAAC;EAExD,MAAMS,MAAM;EAAA;EAAA,CAAA3B,cAAA,GAAAE,CAAA,QAAoB,EAAE;EAClC,IAAI0B,UAAU;EAAA;EAAA,CAAA5B,cAAA,GAAAE,CAAA,QAAqB,EAAE;EACrC,IAAI2B,cAAc;EAAA;EAAA,CAAA7B,cAAA,GAAAE,CAAA,QAAG,CAAC;EACtB,IAAIqD,6BAA6B;EAAA;EAAA,CAAAvD,cAAA,GAAAE,CAAA,QAAG,CAAC;EACrC,MAAMsD,eAAe;EAAA;EAAA,CAAAxD,cAAA,GAAAE,CAAA,QAAG,IAAIuD,GAAG,EAAU;EAAA;EAAAzD,cAAA,GAAAE,CAAA;EAEzC,KAAK,IAAIwD,KAAK;EAAA;EAAA,CAAA1D,cAAA,GAAAE,CAAA,QAAG,CAAC,GAAEwD,KAAK,IAAI7C,iBAAiB,EAAE6C,KAAK,EAAE,EAAE;IAAA;IAAA1D,cAAA,GAAAE,CAAA;IACvDe,OAAO,CAACC,GAAG,CAAC,cAAcwC,KAAK,mBAAmB,CAAC;IACnD,MAAMC,UAAU;IAAA;IAAA,CAAA3D,cAAA,GAAAE,CAAA,QAAGmB,IAAI,CAACC,GAAG,EAAE;IAE7B;IACA,IAAIsC,OAAO;IAAA;IAAA,CAAA5D,cAAA,GAAAE,CAAA,QAAa,EAAE;IAAA;IAAAF,cAAA,GAAAE,CAAA;IAE1B,IAAIwD,KAAK,KAAK,CAAC,EAAE;MAAA;MAAA1D,cAAA,GAAAc,CAAA;MAAAd,cAAA,GAAAE,CAAA;MACf;MACA0D,OAAO,GAAGrC,WAAW,CAACsC,aAAa,CAACC,KAAK,CAAC,CAAC,EAAE/C,mBAAmB,CAAC;MAAA;MAAAf,cAAA,GAAAE,CAAA;MACjEe,OAAO,CAACC,GAAG,CAAC,aAAa0C,OAAO,CAACP,MAAM,6BAA6B,CAAC;IACvE,CAAC,MAAM;MAAA;MAAArD,cAAA,GAAAc,CAAA;MACL;MACA,MAAMiD,SAAS;MAAA;MAAA,CAAA/D,cAAA,GAAAE,CAAA,QAAGyB,MAAM,CAACA,MAAM,CAAC0B,MAAM,GAAG,CAAC,CAAC;MAAA;MAAArD,cAAA,GAAAE,CAAA;MAC3C;MAAI;MAAA,CAAAF,cAAA,GAAAc,CAAA,UAAAiD,SAAS,EAAEC,qBAAqB,CAACC,eAAe;MAAA;MAAA,CAAAjE,cAAA,GAAAc,CAAA,UAChDiD,SAAS,CAACC,qBAAqB,CAACE,iBAAiB,GAAE;QAAA;QAAAlE,cAAA,GAAAc,CAAA;QAAAd,cAAA,GAAAE,CAAA;QACrD0D,OAAO,GAAGG,SAAS,CAACC,qBAAqB,CAACE,iBAAiB,CACxDC,MAAM,CAACC,CAAC,IAAI;UAAA;UAAApE,cAAA,GAAAU,CAAA;UAAAV,cAAA,GAAAE,CAAA;UAAA,OAAAkE,CAAC,CAACC,QAAQ,KAAK,MAAM;QAAN,CAAM,CAAC,CAClCP,KAAK,CAAC,CAAC,EAAE/C,mBAAmB,CAAC,CAC7BuD,GAAG,CAACF,CAAC,IAAI;UAAA;UAAApE,cAAA,GAAAU,CAAA;UAAAV,cAAA,GAAAE,CAAA;UAAA,OAAAkE,CAAC,CAACG,KAAK;QAAL,CAAK,CAAC;QAAA;QAAAvE,cAAA,GAAAE,CAAA;QACpBe,OAAO,CAACC,GAAG,CAAC,gBAAgB0C,OAAO,CAACP,MAAM,8BAA8B,CAAC;MAC3E,CAAC;MAAA;MAAA;QAAArD,cAAA,GAAAc,CAAA;MAAA;MAED;MAAAd,cAAA,GAAAE,CAAA;MACA,IAAI0D,OAAO,CAACP,MAAM,KAAK,CAAC,EAAE;QAAA;QAAArD,cAAA,GAAAc,CAAA;QAAAd,cAAA,GAAAE,CAAA;QACxB0D,OAAO,GAAG,MAAMY,yBAAyB,CAAC7D,MAAM,EAAEC,KAAK,EAAEJ,SAAS,EAAEoB,UAAU,EAAED,MAAM,CAAC;QAAA;QAAA3B,cAAA,GAAAE,CAAA;QACvFe,OAAO,CAACC,GAAG,CAAC,gBAAgB0C,OAAO,CAACP,MAAM,wBAAwB,CAAC;MACrE,CAAC;MAAA;MAAA;QAAArD,cAAA,GAAAc,CAAA;MAAA;IACH;IAEA,MAAM2D,gBAAgB;IAAA;IAAA,CAAAzE,cAAA,GAAAE,CAAA,QAAGuB,gBAAgB,CACtC0C,MAAM,CAACC,CAAC,IAAI;MAAA;MAAApE,cAAA,GAAAU,CAAA;MAAAV,cAAA,GAAAE,CAAA;MAAA,QAACsD,eAAe,CAACkB,GAAG,CAACC,iBAAiB,CAACP,CAAC,CAAC,CAAC;IAAD,CAAC,CAAC;IAC1D,MAAMQ,kBAAkB;IAAA;IAAA,CAAA5E,cAAA,GAAAE,CAAA,QAAG0B,UAAU,CAACuC,MAAM,CAACjE,CAAC,IAAI;MAAA;MAAAF,cAAA,GAAAU,CAAA;MAAAV,cAAA,GAAAE,CAAA;MAAA,OAAAA,CAAC,CAAC2E,IAAI,KAAK,UAAU;IAAV,CAAU,CAAC,CAACxB,MAAM,GAAG,CAAC;IAAA;IAAArD,cAAA,GAAAE,CAAA;IACnF,IAAIuE,gBAAgB,CAACpB,MAAM,GAAG,CAAC,EAAE;MAAA;MAAArD,cAAA,GAAAc,CAAA;MAC/B,MAAMgE,aAAa;MAAA;MAAA,CAAA9E,cAAA,GAAAE,CAAA;MAAI;MAAA,CAAAF,cAAA,GAAAc,CAAA,WAAA4C,KAAK,KAAK,CAAC;MAAA;MAAA,CAAA1D,cAAA,GAAAc,CAAA,WAAI8D,kBAAkB;MAAA;MAAA,CAAA5E,cAAA,GAAAc,CAAA,WACpD2D,gBAAgB;MAAA;MAAA,CAAAzE,cAAA,GAAAc,CAAA,WAChB2D,gBAAgB,CAACX,KAAK,CAAC,CAAC,EAAEiB,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEP,gBAAgB,CAACpB,MAAM,CAAC,CAAC;MAAA;MAAArD,cAAA,GAAAE,CAAA;MACnE,IAAI4E,aAAa,CAACzB,MAAM,GAAG,CAAC,EAAE;QAAA;QAAArD,cAAA,GAAAc,CAAA;QAAAd,cAAA,GAAAE,CAAA;QAC5Be,OAAO,CAACC,GAAG,CAAC,6CAA6C4D,aAAa,CAACzB,MAAM,YAAY,CAAC;QAAA;QAAArD,cAAA,GAAAE,CAAA;QAC1F0D,OAAO,GAAG,CAAC,GAAGkB,aAAa,EAAE,GAAGlB,OAAO,CAAC;MAC1C,CAAC;MAAA;MAAA;QAAA5D,cAAA,GAAAc,CAAA;MAAA;IACH,CAAC;IAAA;IAAA;MAAAd,cAAA,GAAAc,CAAA;IAAA;IAED,MAAMmE,SAAS;IAAA;IAAA,CAAAjF,cAAA,GAAAE,CAAA,QAAG,IAAIuD,GAAG,EAAU;IAAA;IAAAzD,cAAA,GAAAE,CAAA;IACnC0D,OAAO,GAAGA,OAAO,CACdU,GAAG,CAACF,CAAC,IAAI;MAAA;MAAApE,cAAA,GAAAU,CAAA;MAAAV,cAAA,GAAAE,CAAA;MAAA,OAAAkE,CAAC,CAACc,IAAI,EAAE;IAAF,CAAE,CAAC,CAClBf,MAAM,CAACC,CAAC,IAAI;MAAA;MAAApE,cAAA,GAAAU,CAAA;MAAAV,cAAA,GAAAE,CAAA;MAAA,OAAAkE,CAAC,CAACf,MAAM,GAAG,CAAC;IAAD,CAAC,CAAC,CACzBc,MAAM,CAACC,CAAC,IAAG;MAAA;MAAApE,cAAA,GAAAU,CAAA;MACV,MAAMyE,GAAG;MAAA;MAAA,CAAAnF,cAAA,GAAAE,CAAA,QAAGyE,iBAAiB,CAACP,CAAC,CAAC;MAAA;MAAApE,cAAA,GAAAE,CAAA;MAChC;MAAI;MAAA,CAAAF,cAAA,GAAAc,CAAA,WAAA0C,eAAe,CAACkB,GAAG,CAACS,GAAG,CAAC;MAAA;MAAA,CAAAnF,cAAA,GAAAc,CAAA,WAAImE,SAAS,CAACP,GAAG,CAACS,GAAG,CAAC,GAAE;QAAA;QAAAnF,cAAA,GAAAc,CAAA;QAAAd,cAAA,GAAAE,CAAA;QAClD,OAAO,KAAK;MACd,CAAC;MAAA;MAAA;QAAAF,cAAA,GAAAc,CAAA;MAAA;MAAAd,cAAA,GAAAE,CAAA;MACD+E,SAAS,CAACG,GAAG,CAACD,GAAG,CAAC;MAAA;MAAAnF,cAAA,GAAAE,CAAA;MAClB,OAAO,IAAI;IACb,CAAC,CAAC;IAEJ,MAAMmF,mBAAmB;IAAA;IAAA,CAAArF,cAAA,GAAAE,CAAA,QAAG6E,IAAI,CAACC,GAAG,CAACpB,OAAO,CAACP,MAAM,EAAEtC,mBAAmB,GAAG,CAAC,CAAC;IAAA;IAAAf,cAAA,GAAAE,CAAA;IAC7E,IAAI0D,OAAO,CAACP,MAAM,GAAGgC,mBAAmB,EAAE;MAAA;MAAArF,cAAA,GAAAc,CAAA;MAAAd,cAAA,GAAAE,CAAA;MACxC0D,OAAO,GAAGA,OAAO,CAACE,KAAK,CAAC,CAAC,EAAEuB,mBAAmB,CAAC;IACjD,CAAC;IAAA;IAAA;MAAArF,cAAA,GAAAc,CAAA;IAAA;IAAAd,cAAA,GAAAE,CAAA;IAED,IAAI0D,OAAO,CAACP,MAAM,KAAK,CAAC,EAAE;MAAA;MAAArD,cAAA,GAAAc,CAAA;MAAAd,cAAA,GAAAE,CAAA;MACxBe,OAAO,CAACC,GAAG,CAAC,2CAA2CwC,KAAK,EAAE,CAAC;MAAA;MAAA1D,cAAA,GAAAE,CAAA;MAC/D,IAAIwD,KAAK,IAAIlC,iBAAiB,EAAE;QAAA;QAAAxB,cAAA,GAAAc,CAAA;QAAAd,cAAA,GAAAE,CAAA;QAC9Be,OAAO,CAACC,GAAG,CAAC,2CAA2CM,iBAAiB,GAAG,CAAC;QAAA;QAAAxB,cAAA,GAAAE,CAAA;QAC5E;MACF,CAAC;MAAA;MAAA;QAAAF,cAAA,GAAAc,CAAA;MAAA;MAAAd,cAAA,GAAAE,CAAA;MACD;IACF,CAAC;IAAA;IAAA;MAAAF,cAAA,GAAAc,CAAA;IAAA;IAED;IAAAd,cAAA,GAAAE,CAAA;IACAe,OAAO,CAACC,GAAG,CAAC,iBAAiB0C,OAAO,CAACP,MAAM,8BAA8B,CAAC;IAAA;IAAArD,cAAA,GAAAE,CAAA;IAC1E0D,OAAO,CAAC0B,OAAO,CAAClB,CAAC,IAAI;MAAA;MAAApE,cAAA,GAAAU,CAAA;MAAAV,cAAA,GAAAE,CAAA;MAAA,OAAAsD,eAAe,CAAC4B,GAAG,CAACT,iBAAiB,CAACP,CAAC,CAAC,CAAC;IAAD,CAAC,CAAC;IAC/D,MAAMmB,YAAY;IAAA;IAAA,CAAAvF,cAAA,GAAAE,CAAA,QAAG,MAAMsF,kBAAkB,CAAC5B,OAAO,EAAE7C,mBAAmB,EAAEC,eAAe,CAAC;IAE5F;IAAA;IAAAhB,cAAA,GAAAE,CAAA;IACAe,OAAO,CAACC,GAAG,CAAC,6BAA6BqE,YAAY,CAAClC,MAAM,aAAa,CAAC;IAC1E,MAAMoC,eAAe;IAAA;IAAA,CAAAzF,cAAA,GAAAE,CAAA,QAAG,MAAMwF,aAAa,CAAC/E,MAAM,EAAEC,KAAK,EAAE2E,YAAY,CAAC;IAExE;IACA,MAAM1C,kBAAkB;IAAA;IAAA,CAAA7C,cAAA,GAAAE,CAAA,QAAGuF,eAAe,CAACtB,MAAM,CAACwB,MAAM,IAAI;MAAA;MAAA3F,cAAA,GAAAU,CAAA;MAAAV,cAAA,GAAAE,CAAA;MAAA,OAAAyF,MAAM,CAACC,OAAO,IAAI,CAAC;IAAD,CAAC,CAAC;IAAA;IAAA5F,cAAA,GAAAE,CAAA;IAChFe,OAAO,CAACC,GAAG,CAAC,KAAK2B,kBAAkB,CAACQ,MAAM,mCAAmC,CAAC;IAAA;IAAArD,cAAA,GAAAE,CAAA;IAE9E0B,UAAU,GAAG,CAAC,GAAGA,UAAU,EAAE,GAAGiB,kBAAkB,CAAC;IAEnD;IAAA;IAAA7C,cAAA,GAAAE,CAAA;IACA0B,UAAU,GAAGiE,sBAAsB,CAACjE,UAAU,CAAC;IAAA;IAAA5B,cAAA,GAAAE,CAAA;IAC/C0B,UAAU,GAAGA,UAAU,CAACkE,IAAI,CAAC,CAACC,CAAC,EAAEjF,CAAC,KAAK;MAAA;MAAAd,cAAA,GAAAU,CAAA;MAAAV,cAAA,GAAAE,CAAA;MAAA,OAAAY,CAAC,CAAC8E,OAAO,GAAGG,CAAC,CAACH,OAAO;IAAP,CAAO,CAAC,CAAC9B,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,EAAC;IAE3E;IAAA;IAAA9D,cAAA,GAAAE,CAAA;IACAe,OAAO,CAACC,GAAG,CAAC,4CAA4C,CAAC;IACzD,MAAM8E,eAAe;IAAA;IAAA,CAAAhG,cAAA,GAAAE,CAAA,QAAG,MAAM+F,8BAA8B,CAC1DtF,MAAM,EACNC,KAAK,EACLJ,SAAS,EACToB,UAAU,EACVD,MAAM,CACP;IAED,MAAMuE,aAAa;IAAA;IAAA,CAAAlG,cAAA,GAAAE,CAAA,QAAGmB,IAAI,CAACC,GAAG,EAAE,GAAGqC,UAAU;IAE7C,MAAMwC,aAAa;IAAA;IAAA,CAAAnG,cAAA,GAAAE,CAAA,QAAkB;MACnCkG,WAAW,EAAE1C,KAAK;MAClBE,OAAO;MACPyC,OAAO,EAAExD,kBAAkB;MAC3BmB,qBAAqB,EAAEgC,eAAe;MACtCM,UAAU,EAAEJ;KACb;IAAA;IAAAlG,cAAA,GAAAE,CAAA;IAEDyB,MAAM,CAAC4E,IAAI,CAACJ,aAAa,CAAC;IAAA;IAAAnG,cAAA,GAAAE,CAAA;IAE1Be,OAAO,CAACC,GAAG,CAAC,WAAWwC,KAAK,kBAAkBwC,aAAa,IAAI,CAAC;IAAA;IAAAlG,cAAA,GAAAE,CAAA;IAChEe,OAAO,CAACC,GAAG,CAAC,eAAe2B,kBAAkB,CAACQ,MAAM,wBAAwBR,kBAAkB,CAACQ,MAAM,GAAG,CAAC;IAAA;IAAA,CAAArD,cAAA,GAAAc,CAAA,WAAG,CAAC+B,kBAAkB,CAAC2D,MAAM,CAAC,CAACC,GAAG,EAAEvG,CAAC,KAAK;MAAA;MAAAF,cAAA,GAAAU,CAAA;MAAAV,cAAA,GAAAE,CAAA;MAAA,OAAAuG,GAAG,GAAGvG,CAAC,CAAC0F,OAAO;IAAP,CAAO,EAAE,CAAC,CAAC,GAAG/C,kBAAkB,CAACQ,MAAM,EAAEqD,OAAO,CAAC,CAAC,CAAC;IAAA;IAAA,CAAA1G,cAAA,GAAAc,CAAA,WAAG,CAAC,MAAK,CAAC;IAAA;IAAAd,cAAA,GAAAE,CAAA;IACxNe,OAAO,CAACC,GAAG,CAAC,mBAAmB8E,eAAe,CAACW,YAAY;IAAA;IAAA,CAAA3G,cAAA,GAAAc,CAAA,WAAG,IAAI;IAAA;IAAA,CAAAd,cAAA,GAAAc,CAAA,WAAG,IAAI,MAAKkF,eAAe,CAACY,UAAU,CAACF,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;IAAA;IAAA1G,cAAA,GAAAE,CAAA;IACvHe,OAAO,CAACC,GAAG,CAAC,qBAAqB8E,eAAe,CAACa,UAAU,MAAM,CAAC;IAAA;IAAA7G,cAAA,GAAAE,CAAA;IAElE,IAAI8F,eAAe,CAACc,WAAW,CAACzD,MAAM,GAAG,CAAC,EAAE;MAAA;MAAArD,cAAA,GAAAc,CAAA;MAAAd,cAAA,GAAAE,CAAA;MAC1Ce,OAAO,CAACC,GAAG,CAAC,6BAA6B8E,eAAe,CAACc,WAAW,CAACzD,MAAM,EAAE,CAAC;MAAA;MAAArD,cAAA,GAAAE,CAAA;MAC9E2B,cAAc,IAAImE,eAAe,CAACc,WAAW,CAACzD,MAAM;IACtD,CAAC;IAAA;IAAA;MAAArD,cAAA,GAAAc,CAAA;IAAA;IAED;IAAAd,cAAA,GAAAE,CAAA;IACA;IAAI;IAAA,CAAAF,cAAA,GAAAc,CAAA,WAAAkF,eAAe,CAACW,YAAY;IAAA;IAAA,CAAA3G,cAAA,GAAAc,CAAA,WAAIkF,eAAe,CAACY,UAAU,IAAI,IAAI;IAAA;IAAA,CAAA5G,cAAA,GAAAc,CAAA,WAAIkF,eAAe,CAACa,UAAU,IAAI,EAAE,GAAE;MAAA;MAAA7G,cAAA,GAAAc,CAAA;MAAAd,cAAA,GAAAE,CAAA;MAC1Ge,OAAO,CAACC,GAAG,CAAC,4CAA4C,CAAC;MAAA;MAAAlB,cAAA,GAAAE,CAAA;MACzD,IAAIwD,KAAK,IAAIlC,iBAAiB,EAAE;QAAA;QAAAxB,cAAA,GAAAc,CAAA;QAAAd,cAAA,GAAAE,CAAA;QAC9Be,OAAO,CAACC,GAAG,CAAC,2DAA2D,CAAC;QAAA;QAAAlB,cAAA,GAAAE,CAAA;QACxE;MACF,CAAC;MAAA;MAAA;QAAAF,cAAA,GAAAc,CAAA;MAAA;IACH,CAAC;IAAA;IAAA;MAAAd,cAAA,GAAAc,CAAA;IAAA;IAED;IAAAd,cAAA,GAAAE,CAAA;IACA,IAAI8F,eAAe,CAACa,UAAU,GAAG,EAAE,EAAE;MAAA;MAAA7G,cAAA,GAAAc,CAAA;MAAAd,cAAA,GAAAE,CAAA;MACnCqD,6BAA6B,EAAE;MAAA;MAAAvD,cAAA,GAAAE,CAAA;MAC/Be,OAAO,CAACC,GAAG,CAAC,6BAA6BqC,6BAA6B,kBAAkB,CAAC;MAAA;MAAAvD,cAAA,GAAAE,CAAA;MAEzF,IAAIqD,6BAA6B,IAAI,CAAC,EAAE;QAAA;QAAAvD,cAAA,GAAAc,CAAA;QAAAd,cAAA,GAAAE,CAAA;QACtCe,OAAO,CAACC,GAAG,CAAC,sDAAsD,CAAC;QAAA;QAAAlB,cAAA,GAAAE,CAAA;QACnE;MACF,CAAC;MAAA;MAAA;QAAAF,cAAA,GAAAc,CAAA;MAAA;IACH,CAAC,MAAM;MAAA;MAAAd,cAAA,GAAAc,CAAA;MAAAd,cAAA,GAAAE,CAAA;MACLqD,6BAA6B,GAAG,CAAC;IACnC;IAEA;IACA,MAAMwD,gBAAgB;IAAA;IAAA,CAAA/G,cAAA,GAAAE,CAAA,SAAG0B,UAAU,CAACuC,MAAM,CAACjE,CAAC,IAAI;MAAA;MAAAF,cAAA,GAAAU,CAAA;MAAAV,cAAA,GAAAE,CAAA;MAAA,OAAAA,CAAC,CAAC0F,OAAO,IAAI,CAAC;IAAD,CAAC,CAAC,CAACvC,MAAM;IAAA;IAAArD,cAAA,GAAAE,CAAA;IACtE;IAAI;IAAA,CAAAF,cAAA,GAAAc,CAAA,WAAAiG,gBAAgB,IAAI,CAAC;IAAA;IAAA,CAAA/G,cAAA,GAAAc,CAAA,WAAI4C,KAAK,IAAIlC,iBAAiB;IAAA;IAAA,CAAAxB,cAAA,GAAAc,CAAA,WAAIkF,eAAe,CAACa,UAAU,IAAI,EAAE,GAAE;MAAA;MAAA7G,cAAA,GAAAc,CAAA;MAAAd,cAAA,GAAAE,CAAA;MAC3Fe,OAAO,CAACC,GAAG,CAAC,0CAA0C6F,gBAAgB,gBAAgB,CAAC;MAAA;MAAA/G,cAAA,GAAAE,CAAA;MACvF;IACF,CAAC;IAAA;IAAA;MAAAF,cAAA,GAAAc,CAAA;IAAA;EACH;EAAC;EAAAd,cAAA,GAAAE,CAAA;EAED,OAAO;IAAEyB,MAAM;IAAEC,UAAU;IAAEC;EAAc,CAAE;AAC/C;AAEA;;;AAGA,eAAeG,qBAAqBA,CAClCrB,MAAc,EACdC,KAAa,EACbJ,SAAiB,EACjBoB,UAA4B,EAC5BD,MAAuB,EACvBP,SAAiB;EAAA;EAAApB,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAE,CAAA;EAEjBe,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;EACnD,MAAMgB,aAAa;EAAA;EAAA,CAAAlC,cAAA,GAAAE,CAAA,SAAGmB,IAAI,CAACC,GAAG,EAAE,GAAGF,SAAS;EAE5C;EACA,MAAM4F,YAAY;EAAA;EAAA,CAAAhH,cAAA,GAAAE,CAAA,SAAG,MAAM+G,sBAAsB,CAACtG,MAAM,EAAEC,KAAK,EAAEJ,SAAS,EAAEoB,UAAU,EAAED,MAAM,CAAC;EAE/F,MAAMI,MAAM;EAAA;EAAA,CAAA/B,cAAA,GAAAE,CAAA,SAAuB;IACjCkC,OAAO,EAAE,IAAI;IACbC,OAAO,EAAE2E,YAAY;IACrBxE,OAAO,EAAEZ,UAAU;IACnBD,MAAM;IACNc,QAAQ,EAAE;MACRC,eAAe,EAAER,aAAa;MAC9BS,WAAW,EAAEhB,MAAM,CAAC0B,MAAM;MAC1BT,YAAY,EAAEhB,UAAU,CAACyB,MAAM;MAC/BR,kBAAkB,EAAEjB,UAAU,CAACuC,MAAM,CAACjE,CAAC,IAAI;QAAA;QAAAF,cAAA,GAAAU,CAAA;QAAAV,cAAA,GAAAE,CAAA;QAAA,OAAAA,CAAC,CAAC0F,OAAO,IAAI,CAAC;MAAD,CAAC,CAAC,CAACvC,MAAM;MACjEP,eAAe,EAAElB,UAAU,CAACuC,MAAM,CAACjE,CAAC,IAAI;QAAA;QAAAF,cAAA,GAAAU,CAAA;QAAAV,cAAA,GAAAE,CAAA;QAAA,OAAAA,CAAC,CAAC2E,IAAI,KAAK,UAAU;MAAV,CAAU,CAAC,CAACxB,MAAM;MACrEN,cAAc,EAAEnB,UAAU,CAACyB,MAAM,GAAG,CAAC;MAAA;MAAA,CAAArD,cAAA,GAAAc,CAAA,WACnCc,UAAU,CAAC4E,MAAM,CAAC,CAACC,GAAG,EAAEvG,CAAC,KAAK;QAAA;QAAAF,cAAA,GAAAU,CAAA;QAAAV,cAAA,GAAAE,CAAA;QAAA,OAAAuG,GAAG,GAAGvG,CAAC,CAAC0F,OAAO;MAAP,CAAO,EAAE,CAAC,CAAC,GAAGhE,UAAU,CAACyB,MAAM;MAAA;MAAA,CAAArD,cAAA,GAAAc,CAAA,WAAG,CAAC;MAC3Ee,cAAc,EAAEF,MAAM,CAAC6E,MAAM,CAAC,CAACC,GAAG,EAAES,CAAC,KAAK;QAAA;QAAAlH,cAAA,GAAAU,CAAA;QAAAV,cAAA,GAAAE,CAAA;QAAA,OAAAuG,GAAG,GAAGS,CAAC,CAAClD,qBAAqB,CAAC8C,WAAW,CAACzD,MAAM;MAAN,CAAM,EAAE,CAAC,CAAC;MAC9FL,qBAAqB,EAAErB,MAAM,CAAC0B,MAAM,GAAG,CAAC;MAAA;MAAA,CAAArD,cAAA,GAAAc,CAAA,WAAGa,MAAM,CAACA,MAAM,CAAC0B,MAAM,GAAG,CAAC,CAAC,CAACW,qBAAqB,CAAC6C,UAAU;MAAA;MAAA,CAAA7G,cAAA,GAAAc,CAAA,WAAG,CAAC;;GAE5G;EAAA;EAAAd,cAAA,GAAAE,CAAA;EAEDe,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC;EAAA;EAAAlB,cAAA,GAAAE,CAAA;EACrDe,OAAO,CAACC,GAAG,CAAC,sBAAsBgB,aAAa,IAAI,CAAC;EAAA;EAAAlC,cAAA,GAAAE,CAAA;EACpDe,OAAO,CAACC,GAAG,CAAC,yBAAyBS,MAAM,CAAC0B,MAAM,EAAE,CAAC;EAAA;EAAArD,cAAA,GAAAE,CAAA;EACrDe,OAAO,CAACC,GAAG,CAAC,2BAA2BU,UAAU,CAACyB,MAAM,EAAE,CAAC;EAAA;EAAArD,cAAA,GAAAE,CAAA;EAC3De,OAAO,CAACC,GAAG,CAAC,8BAA8Ba,MAAM,CAACU,QAAQ,CAACI,kBAAkB,EAAE,CAAC;EAAA;EAAA7C,cAAA,GAAAE,CAAA;EAC/Ee,OAAO,CAACC,GAAG,CAAC,0BAA0Ba,MAAM,CAACU,QAAQ,CAACK,eAAe,EAAE,CAAC;EAAA;EAAA9C,cAAA,GAAAE,CAAA;EACxEe,OAAO,CAACC,GAAG,CAAC,wBAAwBa,MAAM,CAACU,QAAQ,CAACM,cAAc,CAAC2D,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC;EAAA;EAAA1G,cAAA,GAAAE,CAAA;EACnFe,OAAO,CAACC,GAAG,CAAC,oCAAoCa,MAAM,CAACU,QAAQ,CAACO,qBAAqB,MAAM,CAAC;EAAA;EAAAhD,cAAA,GAAAE,CAAA;EAC5Fe,OAAO,CAACC,GAAG,CAAC,GAAG,GAAG,CAACC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC;EAAA;EAAAnB,cAAA,GAAAE,CAAA;EAEhC,OAAO6B,MAAM;AACf;AAEA;AAEA,eAAeyD,kBAAkBA,CAC/B5B,OAAiB,EACjB7C,mBAA2B,EAC3BC,eAAuB;EAAA;EAAAhB,cAAA,GAAAU,CAAA;EAEvB,MAAMyG,UAAU;EAAA;EAAA,CAAAnH,cAAA,GAAAE,CAAA,SAAqB,EAAE;EAAA;EAAAF,cAAA,GAAAE,CAAA;EAEvC,KAAK,MAAMqE,KAAK,IAAIX,OAAO,CAACE,KAAK,CAAC,CAAC,EAAE/C,mBAAmB,CAAC,EAAE;IAAA;IAAAf,cAAA,GAAAE,CAAA;IACzD,IAAI;MAAA;MAAAF,cAAA,GAAAE,CAAA;MACFe,OAAO,CAACC,GAAG,CAAC,iBAAiBqD,KAAK,GAAG,CAAC;MACtC,MAAM6C,YAAY;MAAA;MAAA,CAAApH,cAAA,GAAAE,CAAA,SAAG,MAAM,IAAAG,0BAAA,CAAAgH,sBAAsB,EAAC9C,KAAK,EAAEvD,eAAe,CAAC;MAAA;MAAAhB,cAAA,GAAAE,CAAA;MAEzE;MAAI;MAAA,CAAAF,cAAA,GAAAc,CAAA,WAAAsG,YAAY,CAAChF,OAAO;MAAA;MAAA,CAAApC,cAAA,GAAAc,CAAA,WAAIsG,YAAY,CAACf,OAAO,CAAChD,MAAM,GAAG,CAAC,GAAE;QAAA;QAAArD,cAAA,GAAAc,CAAA;QAC3D,MAAMwG,eAAe;QAAA;QAAA,CAAAtH,cAAA,GAAAE,CAAA,SAAG,MAAM,IAAAG,0BAAA,CAAAkH,kBAAkB,EAACH,YAAY,CAACf,OAAO,EAAErF,eAAe,CAAC;QAAA;QAAAhB,cAAA,GAAAE,CAAA;QACvFiH,UAAU,CAACZ,IAAI,CAAC,GAAGe,eAAe,CAAC;QAAA;QAAAtH,cAAA,GAAAE,CAAA;QACnCe,OAAO,CAACC,GAAG,CAAC,iBAAiBoG,eAAe,CAACjE,MAAM,UAAU,CAAC;MAChE,CAAC,MAAM;QAAA;QAAArD,cAAA,GAAAc,CAAA;QAAAd,cAAA,GAAAE,CAAA;QACLe,OAAO,CAACC,GAAG,CAAC,4BAA4BqD,KAAK,GAAG,CAAC;MACnD;IACF,CAAC,CAAC,OAAOtC,KAAK,EAAE;MAAA;MAAAjC,cAAA,GAAAE,CAAA;MACde,OAAO,CAACgB,KAAK,CAAC,wBAAwBsC,KAAK,IAAI,EAAEtC,KAAK,CAAC;IACzD;EACF;EAAC;EAAAjC,cAAA,GAAAE,CAAA;EAED,OAAOiH,UAAU;AACnB;AAEA,eAAezB,aAAaA,CAC1B/E,MAAc,EACdC,KAAa,EACb4B,OAAyB;EAAA;EAAAxC,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAE,CAAA;EAEzB,IAAIsC,OAAO,CAACa,MAAM,KAAK,CAAC,EAAE;IAAA;IAAArD,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAE,CAAA;IAAA,OAAOsC,OAAO;EAAA;EAAA;EAAA;IAAAxC,cAAA,GAAAc,CAAA;EAAA;EAExC,MAAM0G,kBAAkB;EAAA;EAAA,CAAAxH,cAAA,GAAAE,CAAA,SAAGK,uBAAA,CAAAkH,0BAA0B,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACpF,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;EAAA;EAAAxC,cAAA,GAAAE,CAAA;EAE5G,IAAI;IACF,MAAM2H,QAAQ;IAAA;IAAA,CAAA7H,cAAA,GAAAE,CAAA,SAAG,MAAMS,MAAM,CAACmH,IAAI,CAACC,WAAW,CAACC,MAAM,CAAC;MACpDpH,KAAK;MACLqH,QAAQ,EAAE,CAAC;QAAEC,IAAI,EAAE,MAAM;QAAEC,OAAO,EAAEX;MAAkB,CAAE,CAAC;MACzDY,WAAW,EAAE,GAAG;MAChBC,UAAU,EAAE;KACb,CAAC;IAEF,MAAMF,OAAO;IAAA;IAAA,CAAAnI,cAAA,GAAAE,CAAA;IAAG;IAAA,CAAAF,cAAA,GAAAc,CAAA,WAAA+G,QAAQ,CAACS,OAAO,CAAC,CAAC,CAAC,EAAE/F,OAAO,EAAE4F,OAAO;IAAA;IAAA,CAAAnI,cAAA,GAAAc,CAAA,WAAI,EAAE;IAC3D,MAAMyH,gBAAgB;IAAA;IAAA,CAAAvI,cAAA,GAAAE,CAAA,SAAGsI,uBAAuB,CAACL,OAAO,CAAC;IAAA;IAAAnI,cAAA,GAAAE,CAAA;IAEzD,OAAOsC,OAAO,CAAC8B,GAAG,CAAC,CAACqB,MAAM,EAAE8C,KAAK,KAAM;MAAA;MAAAzI,cAAA,GAAAU,CAAA;MAAAV,cAAA,GAAAE,CAAA;MAAA;QACrC,GAAGyF,MAAM;QACT+C,iBAAiB;QAAE;QAAA,CAAA1I,cAAA,GAAAc,CAAA,WAAAyH,gBAAgB,CAAC/F,OAAO,CAACiG,KAAK,CAAC,EAAEC,iBAAiB;QAAA;QAAA,CAAA1I,cAAA,GAAAc,CAAA,WAAI,EAAE;QAC3E6H,SAAS;QAAE;QAAA,CAAA3I,cAAA,GAAAc,CAAA,WAAAyH,gBAAgB,CAAC/F,OAAO,CAACiG,KAAK,CAAC,EAAEE,SAAS;QAAA;QAAA,CAAA3I,cAAA,GAAAc,CAAA,WAAI6E,MAAM,CAACgD,SAAS;QACzEC,QAAQ;QAAE;QAAA,CAAA5I,cAAA,GAAAc,CAAA,WAAAyH,gBAAgB,CAAC/F,OAAO,CAACiG,KAAK,CAAC,EAAEG,QAAQ;QAAA;QAAA,CAAA5I,cAAA,GAAAc,CAAA,WAAI6E,MAAM,CAACiD,QAAQ;QACtEC,cAAc;QAAE;QAAA,CAAA7I,cAAA,GAAAc,CAAA,WAAAyH,gBAAgB,CAAC/F,OAAO,CAACiG,KAAK,CAAC,EAAEI,cAAc;QAAA;QAAA,CAAA7I,cAAA,GAAAc,CAAA,WAAI6E,MAAM,CAACkD,cAAc;OACzF;KAAC,CAAC;EACL,CAAC,CAAC,OAAO5G,KAAK,EAAE;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IACde,OAAO,CAACgB,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IAClD,OAAOsC,OAAO;EAChB;AACF;AAEA,eAAeyD,8BAA8BA,CAC3CtF,MAAc,EACdC,KAAa,EACbkI,aAAqB,EACrBtG,OAAyB,EACzBuG,cAA+B;EAAA;EAAA/I,cAAA,GAAAU,CAAA;EAqB/B,MAAMsI,eAAe;EAAA;EAAA,CAAAhJ,cAAA,GAAAE,CAAA,SAAG+I,sBAAsB,CAACzG,OAAO,CAAC;EACvD,MAAM0G,gBAAgB;EAAA;EAAA,CAAAlJ,cAAA,GAAAE,CAAA,SAAGK,uBAAA,CAAA4I,8BAA8B,CACpDzB,OAAO,CAAC,SAAS,EAAEoB,aAAa,CAAC,CACjCpB,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACpF,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CACtDkF,OAAO,CAAC,mBAAmB,EAAEC,IAAI,CAACC,SAAS,CAACoB,eAAe,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CACtEtB,OAAO,CAAC,kBAAkB,EAAEC,IAAI,CAACC,SAAS,CAACmB,cAAc,CAAC1F,MAAM,CAAC,CAAC;EAAA;EAAArD,cAAA,GAAAE,CAAA;EAErE,IAAI;IACF,MAAM2H,QAAQ;IAAA;IAAA,CAAA7H,cAAA,GAAAE,CAAA,SAAG,MAAMS,MAAM,CAACmH,IAAI,CAACC,WAAW,CAACC,MAAM,CAAC;MACpDpH,KAAK;MACLqH,QAAQ,EAAE,CAAC;QAAEC,IAAI,EAAE,MAAM;QAAEC,OAAO,EAAEe;MAAgB,CAAE,CAAC;MACvDd,WAAW,EAAE,GAAG;MAChBC,UAAU,EAAE;KACb,CAAC;IAEF,MAAMF,OAAO;IAAA;IAAA,CAAAnI,cAAA,GAAAE,CAAA;IAAG;IAAA,CAAAF,cAAA,GAAAc,CAAA,WAAA+G,QAAQ,CAACS,OAAO,CAAC,CAAC,CAAC,EAAE/F,OAAO,EAAE4F,OAAO;IAAA;IAAA,CAAAnI,cAAA,GAAAc,CAAA,WAAI,EAAE;IAC3D,MAAMsI,UAAU;IAAA;IAAA,CAAApJ,cAAA,GAAAE,CAAA,SAAGmJ,0BAA0B,CAAClB,OAAO,CAAC;IAEtD,MAAMmB,kBAAkB;IAAA;IAAA,CAAAtJ,cAAA,GAAAE,CAAA,SAAGqJ,yBAAyB,CAACH,UAAU,EAAEJ,eAAe,EAAEF,aAAa,CAAC;IAAA;IAAA9I,cAAA,GAAAE,CAAA;IAEhG,OAAOoJ,kBAAkB;EAC3B,CAAC,CAAC,OAAOrH,KAAK,EAAE;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IACde,OAAO,CAACgB,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IAEpD,OAAO;MACLyG,YAAY,EAAE,KAAK;MACnBC,UAAU,EAAE,GAAG;MACf4C,cAAc,EAAE;QACdC,SAAS,EAAE,EAAE;QACbC,cAAc,EAAE,EAAE;QAClBC,QAAQ,EAAE,EAAE;QACZC,UAAU,EAAE,EAAE;QACdC,YAAY,EAAE;OACf;MACDhD,UAAU,EAAE,EAAE;MACdC,WAAW,EAAE,CAAC,oCAAoC,CAAC;MACnDgD,aAAa,EAAE,CAAC,+BAA+B,CAAC;MAChD7F,eAAe,EAAE,IAAI;MACrBC,iBAAiB,EAAE,CAAC;QAClBK,KAAK,EAAEuE,aAAa;QACpBzE,QAAQ,EAAE,MAAM;QAChB0F,MAAM,EAAE;OACT;KACF;EACH;AACF;AAEA,eAAevF,yBAAyBA,CACtC7D,MAAc,EACdC,KAAa,EACbkI,aAAqB,EACrBkB,cAAgC,EAChCjB,cAA+B;EAAA;EAAA/I,cAAA,GAAAU,CAAA;EAE/B,MAAMuJ,WAAW;EAAA;EAAA,CAAAjK,cAAA,GAAAE,CAAA,SAAGK,uBAAA,CAAA2J,uBAAuB,CACxCxC,OAAO,CAAC,SAAS,EAAEoB,aAAa,CAAC,CACjCpB,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACoC,cAAc,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAC7DtC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACmB,cAAc,CAAC1F,MAAM,CAAC,CAAC;EAAA;EAAArD,cAAA,GAAAE,CAAA;EAE7D,IAAI;IACF,MAAM2H,QAAQ;IAAA;IAAA,CAAA7H,cAAA,GAAAE,CAAA,SAAG,MAAMS,MAAM,CAACmH,IAAI,CAACC,WAAW,CAACC,MAAM,CAAC;MACpDpH,KAAK;MACLqH,QAAQ,EAAE,CAAC;QAAEC,IAAI,EAAE,MAAM;QAAEC,OAAO,EAAE8B;MAAW,CAAE,CAAC;MAClD7B,WAAW,EAAE,GAAG;MAChBC,UAAU,EAAE;KACb,CAAC;IAEF,MAAMF,OAAO;IAAA;IAAA,CAAAnI,cAAA,GAAAE,CAAA;IAAG;IAAA,CAAAF,cAAA,GAAAc,CAAA,WAAA+G,QAAQ,CAACS,OAAO,CAAC,CAAC,CAAC,EAAE/F,OAAO,EAAE4F,OAAO;IAAA;IAAA,CAAAnI,cAAA,GAAAc,CAAA,WAAI,EAAE;IAC3D,MAAMqJ,SAAS;IAAA;IAAA,CAAAnK,cAAA,GAAAE,CAAA,SAAGkK,oBAAoB,CAACjC,OAAO,CAAC;IAAA;IAAAnI,cAAA,GAAAE,CAAA;IAE/C,OAAO,2BAAAF,cAAA,GAAAc,CAAA,WAAAqJ,SAAS,CAACjG,iBAAiB;IAAA;IAAA,CAAAlE,cAAA,GAAAc,CAAA,WAAI,EAAE;EAC1C,CAAC,CAAC,OAAOmB,KAAK,EAAE;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IACde,OAAO,CAACgB,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IAC9D,OAAO,EAAE;EACX;AACF;AAEA,eAAe+G,sBAAsBA,CACnCtG,MAAc,EACdC,KAAa,EACbkI,aAAqB,EACrBtG,OAAyB,EACzBb,MAAuB;EAAA;EAAA3B,cAAA,GAAAU,CAAA;EAEvB,MAAM2J,eAAe;EAAA;EAAA,CAAArK,cAAA,GAAAE,CAAA,SAAGK,uBAAA,CAAA+J,sBAAsB,CAC3C5C,OAAO,CAAC,SAAS,EAAEoB,aAAa,CAAC,CACjCpB,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACpF,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CACtDkF,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACjG,MAAM,CAAC0B,MAAM,CAAC,CAAC;EAAA;EAAArD,cAAA,GAAAE,CAAA;EAErD,IAAI;IACF,MAAM2H,QAAQ;IAAA;IAAA,CAAA7H,cAAA,GAAAE,CAAA,SAAG,MAAMS,MAAM,CAACmH,IAAI,CAACC,WAAW,CAACC,MAAM,CAAC;MACpDpH,KAAK;MACLqH,QAAQ,EAAE,CAAC;QAAEC,IAAI,EAAE,MAAM;QAAEC,OAAO,EAAEkC;MAAe,CAAE,CAAC;MACtDjC,WAAW,EAAE,GAAG;MAChBC,UAAU,EAAE;KACb,CAAC;IAAA;IAAArI,cAAA,GAAAE,CAAA;IAEF,OAAO,2BAAAF,cAAA,GAAAc,CAAA,WAAA+G,QAAQ,CAACS,OAAO,CAAC,CAAC,CAAC,EAAE/F,OAAO,EAAE4F,OAAO;IAAA;IAAA,CAAAnI,cAAA,GAAAc,CAAA,WAAI,sCAAsC;EACxF,CAAC,CAAC,OAAOmB,KAAK,EAAE;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IACde,OAAO,CAACgB,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IACvD,OAAO,6BAA6B+B,KAAK,YAAYK,KAAK;IAAA;IAAA,CAAAtC,cAAA,GAAAc,CAAA,WAAGmB,KAAK,CAACM,OAAO;IAAA;IAAA,CAAAvC,cAAA,GAAAc,CAAA,WAAG,mBAAmB,GAAE;EACpG;AACF;AAEA,eAAemC,oBAAoBA,CACjCtC,MAAc,EACdC,KAAa,EACbJ,SAAiB;EAAA;EAAAR,cAAA,GAAAU,CAAA;EAOjB,MAAM6J,cAAc;EAAA;EAAA,CAAAvK,cAAA,GAAAE,CAAA,SAAGK,uBAAA,CAAAiK,wBAAwB,CAAC9C,OAAO,CAAC,SAAS,EAAElH,SAAS,CAAC;EAAA;EAAAR,cAAA,GAAAE,CAAA;EAE7E,IAAI;IACF,MAAM2H,QAAQ;IAAA;IAAA,CAAA7H,cAAA,GAAAE,CAAA,SAAG,MAAMS,MAAM,CAACmH,IAAI,CAACC,WAAW,CAACC,MAAM,CAAC;MACpDpH,KAAK;MACLqH,QAAQ,EAAE,CAAC;QAAEC,IAAI,EAAE,MAAM;QAAEC,OAAO,EAAEoC;MAAc,CAAE,CAAC;MACrDnC,WAAW,EAAE,GAAG;MAChBC,UAAU,EAAE;KACb,CAAC;IAEF,MAAMF,OAAO;IAAA;IAAA,CAAAnI,cAAA,GAAAE,CAAA;IAAG;IAAA,CAAAF,cAAA,GAAAc,CAAA,WAAA+G,QAAQ,CAACS,OAAO,CAAC,CAAC,CAAC,EAAE/F,OAAO,EAAE4F,OAAO;IAAA;IAAA,CAAAnI,cAAA,GAAAc,CAAA,WAAI,EAAE;IAAA;IAAAd,cAAA,GAAAE,CAAA;IAC3D,OAAOuK,iBAAiB,CAACtC,OAAO,CAAC;EACnC,CAAC,CAAC,OAAOlG,KAAK,EAAE;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IACde,OAAO,CAACgB,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IAEzD,OAAO;MACLgD,UAAU,EAAE,UAAU;MACtBC,eAAe,EAAE,CAAC;MAClBC,aAAa,EAAE,CAAC,iBAAiB,CAAC;MAClCS,aAAa,EAAE,CAACrD,SAAS;KAC1B;EACH;AACF;AAEA,SAASqF,sBAAsBA,CAACrD,OAAyB;EAAA;EAAAxC,cAAA,GAAAU,CAAA;EACvD,MAAMgK,IAAI;EAAA;EAAA,CAAA1K,cAAA,GAAAE,CAAA,SAAG,IAAIuD,GAAG,EAAU;EAAA;EAAAzD,cAAA,GAAAE,CAAA;EAC9B,OAAOsC,OAAO,CAAC2B,MAAM,CAACwB,MAAM,IAAG;IAAA;IAAA3F,cAAA,GAAAU,CAAA;IAC7B,MAAMyE,GAAG;IAAA;IAAA,CAAAnF,cAAA,GAAAE,CAAA,SAAGyF,MAAM,CAACgF,GAAG,CAACC,WAAW,EAAE;IAAA;IAAA5K,cAAA,GAAAE,CAAA;IACpC,IAAIwK,IAAI,CAAChG,GAAG,CAACS,GAAG,CAAC,EAAE;MAAA;MAAAnF,cAAA,GAAAc,CAAA;MAAAd,cAAA,GAAAE,CAAA;MACjB,OAAO,KAAK;IACd,CAAC;IAAA;IAAA;MAAAF,cAAA,GAAAc,CAAA;IAAA;IAAAd,cAAA,GAAAE,CAAA;IACDwK,IAAI,CAACtF,GAAG,CAACD,GAAG,CAAC;IAAA;IAAAnF,cAAA,GAAAE,CAAA;IACb,OAAO,IAAI;EACb,CAAC,CAAC;AACJ;AAEA,SAASyE,iBAAiBA,CAACJ,KAAa;EAAA;EAAAvE,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAE,CAAA;EACtC,OAAOqE,KAAK,CAACqG,WAAW,EAAE,CAAC1F,IAAI,EAAE,CAACwC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;AACxD;AAEA,SAASuB,sBAAsBA,CAACzG,OAAyB;EAAA;EAAAxC,cAAA,GAAAU,CAAA;EACvD,MAAMoC,eAAe;EAAA;EAAA,CAAA9C,cAAA,GAAAE,CAAA,SAAGsC,OAAO,CAAC2B,MAAM,CAACjE,CAAC,IAAI;IAAA;IAAAF,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAE,CAAA;IAAA,OAAAA,CAAC,CAAC2E,IAAI,KAAK,UAAU;EAAV,CAAU,CAAC,CAACxB,MAAM;EACzE,MAAMwH,eAAe;EAAA;EAAA,CAAA7K,cAAA,GAAAE,CAAA,SAAGsC,OAAO,CAAC2B,MAAM,CAACjE,CAAC,IAAI;IAAA;IAAAF,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAE,CAAA;IAAA,OAAAA,CAAC,CAAC2E,IAAI,KAAK,UAAU;EAAV,CAAU,CAAC,CAACxB,MAAM;EACzE,MAAMyH,WAAW;EAAA;EAAA,CAAA9K,cAAA,GAAAE,CAAA,SAAGsC,OAAO,CAAC2B,MAAM,CAACjE,CAAC,IAAI;IAAA;IAAAF,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAE,CAAA;IAAA,OAAAA,CAAC,CAAC2E,IAAI,KAAK,MAAM;EAAN,CAAM,CAAC,CAACxB,MAAM;EACjE,MAAM0H,cAAc;EAAA;EAAA,CAAA/K,cAAA,GAAAE,CAAA,SAAGsC,OAAO,CAAC2B,MAAM,CAACjE,CAAC,IAAI;IAAA;IAAAF,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAE,CAAA;IAAA,OAAAA,CAAC,CAAC2E,IAAI,KAAK,SAAS;EAAT,CAAS,CAAC,CAACxB,MAAM;EACvE,MAAMN,cAAc;EAAA;EAAA,CAAA/C,cAAA,GAAAE,CAAA,SAAGsC,OAAO,CAACa,MAAM,GAAG,CAAC;EAAA;EAAA,CAAArD,cAAA,GAAAc,CAAA,WAAG0B,OAAO,CAACgE,MAAM,CAAC,CAACC,GAAG,EAAEvG,CAAC,KAAK;IAAA;IAAAF,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAE,CAAA;IAAA,OAAAuG,GAAG,GAAGvG,CAAC,CAAC0F,OAAO;EAAP,CAAO,EAAE,CAAC,CAAC,GAAGpD,OAAO,CAACa,MAAM;EAAA;EAAA,CAAArD,cAAA,GAAAc,CAAA,WAAG,CAAC;EAC/G,MAAM+B,kBAAkB;EAAA;EAAA,CAAA7C,cAAA,GAAAE,CAAA,SAAGsC,OAAO,CAAC2B,MAAM,CAACjE,CAAC,IAAI;IAAA;IAAAF,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAE,CAAA;IAAA,OAAAA,CAAC,CAAC0F,OAAO,IAAI,CAAC;EAAD,CAAC,CAAC,CAACvC,MAAM;EAErE,MAAM2H,aAAa;EAAA;EAAA,CAAAhL,cAAA,GAAAE,CAAA,SAAGsC,OAAO,CAAC8B,GAAG,CAACpE,CAAC,IAAI;IAAA;IAAAF,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAE,CAAA;IAAA,OAAAA,CAAC,CAAC+K,KAAK,CAACL,WAAW,EAAE;EAAF,CAAE,CAAC,CAAC9G,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;EAAA;EAAA9D,cAAA,GAAAE,CAAA;EAE1E,OAAO;IACL0C,YAAY,EAAEJ,OAAO,CAACa,MAAM;IAC5BP,eAAe;IACf+H,eAAe;IACfC,WAAW;IACXC,cAAc;IACdhI,cAAc;IACdF,kBAAkB;IAClBmI;GACD;AACH;AAEA,SAASzB,yBAAyBA,CAChCH,UAAyD,EACzDJ,eAAgC,EAChCF,aAAqB;EAAA;EAAA9I,cAAA,GAAAU,CAAA;EAErB,MAAMwK,MAAM;EAAA;EAAA,CAAAlL,cAAA,GAAAE,CAAA,SAAa,EAAE;EAC3B,MAAM4G,WAAW;EAAA;EAAA,CAAA9G,cAAA,GAAAE,CAAA,SAAa,EAAE;EAChC,MAAMgE,iBAAiB;EAAA;EAAA,CAAAlE,cAAA,GAAAE,CAAA,SAAgF,EAAE;EAAA;EAAAF,cAAA,GAAAE,CAAA;EAEzG,IAAI8I,eAAe,CAAClG,eAAe,GAAG,CAAC,EAAE;IAAA;IAAA9C,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAE,CAAA;IACvCgL,MAAM,CAAC3E,IAAI,CAAC,QAAQyC,eAAe,CAAClG,eAAe,sDAAsD,CAAC;IAAA;IAAA9C,cAAA,GAAAE,CAAA;IAC1G4G,WAAW,CAACP,IAAI,CAAC,+CAA+C,CAAC;IAAA;IAAAvG,cAAA,GAAAE,CAAA;IACjEgE,iBAAiB,CAACqC,IAAI,CAAC;MACrBhC,KAAK,EAAE,GAAGuE,aAAa,eAAe;MACtCzE,QAAQ,EAAE,MAAM;MAChB0F,MAAM,EAAE;KACT,CAAC;EACJ,CAAC;EAAA;EAAA;IAAA/J,cAAA,GAAAc,CAAA;EAAA;EAED,MAAMqK,gBAAgB;EAAA;EAAA,CAAAnL,cAAA,GAAAE,CAAA,SAAG8I,eAAe,CAACgC,aAAa,CAAC7G,MAAM,CAACiH,IAAI,IAChE;IAAA;IAAApL,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAE,CAAA;IAAA,kCAAAF,cAAA,GAAAc,CAAA,WAAAsK,IAAI,CAACC,QAAQ,CAAC,UAAU,CAAC;IAAA;IAAA,CAAArL,cAAA,GAAAc,CAAA,WAAIsK,IAAI,CAACC,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAA,CAAArL,cAAA,GAAAc,CAAA,WAAIsK,IAAI,CAACC,QAAQ,CAAC,SAAS,CAAC;EAAD,CAAC,CAC9E,CAAChI,MAAM;EAAA;EAAArD,cAAA,GAAAE,CAAA;EAER,IAAIiL,gBAAgB,GAAG,CAAC,EAAE;IAAA;IAAAnL,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAE,CAAA;IACxBgL,MAAM,CAAC3E,IAAI,CAAC,gDAAgD,CAAC;IAAA;IAAAvG,cAAA,GAAAE,CAAA;IAC7D4G,WAAW,CAACP,IAAI,CAAC,4CAA4C,CAAC;IAAA;IAAAvG,cAAA,GAAAE,CAAA;IAC9DgE,iBAAiB,CAACqC,IAAI,CAAC;MACrBhC,KAAK,EAAE,GAAGuE,aAAa,uBAAuB;MAC9CzE,QAAQ,EAAE,MAAM;MAChB0F,MAAM,EAAE;KACT,CAAC;EACJ,CAAC;EAAA;EAAA;IAAA/J,cAAA,GAAAc,CAAA;EAAA;EAED,MAAMwK,oBAAoB;EAAA;EAAA,CAAAtL,cAAA,GAAAE,CAAA,SAAG8I,eAAe,CAACgC,aAAa,CAAC7G,MAAM,CAACiH,IAAI,IACpE;IAAA;IAAApL,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAE,CAAA;IAAA,kCAAAF,cAAA,GAAAc,CAAA,WAAAsK,IAAI,CAACC,QAAQ,CAAC,WAAW,CAAC;IAAA;IAAA,CAAArL,cAAA,GAAAc,CAAA,WAAIsK,IAAI,CAACC,QAAQ,CAAC,gBAAgB,CAAC;IAAA;IAAA,CAAArL,cAAA,GAAAc,CAAA,WAAIsK,IAAI,CAACC,QAAQ,CAAC,OAAO,CAAC;EAAD,CAAC,CACxF,CAAChI,MAAM;EAAA;EAAArD,cAAA,GAAAE,CAAA;EAER,IAAIoL,oBAAoB,GAAG,CAAC,EAAE;IAAA;IAAAtL,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAE,CAAA;IAC5BgL,MAAM,CAAC3E,IAAI,CAAC,yCAAyC,CAAC;IAAA;IAAAvG,cAAA,GAAAE,CAAA;IACtD4G,WAAW,CAACP,IAAI,CAAC,yCAAyC,CAAC;IAAA;IAAAvG,cAAA,GAAAE,CAAA;IAC3DgE,iBAAiB,CAACqC,IAAI,CAAC;MACrBhC,KAAK,EAAE,GAAGuE,aAAa,iCAAiC;MACxDzE,QAAQ,EAAE,OAAO;MACjB0F,MAAM,EAAE;KACT,CAAC;EACJ,CAAC;EAAA;EAAA;IAAA/J,cAAA,GAAAc,CAAA;EAAA;EAED,MAAMyK,eAAe;EAAA;EAAA,CAAAvL,cAAA,GAAAE,CAAA,SAAG8I,eAAe,CAACgC,aAAa,CAAC7G,MAAM,CAACiH,IAAI,IAC/D;IAAA;IAAApL,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAE,CAAA;IAAA,kCAAAF,cAAA,GAAAc,CAAA,WAAAsK,IAAI,CAACC,QAAQ,CAAC,UAAU,CAAC;IAAA;IAAA,CAAArL,cAAA,GAAAc,CAAA,WAAIsK,IAAI,CAACC,QAAQ,CAAC,WAAW,CAAC;IAAA;IAAA,CAAArL,cAAA,GAAAc,CAAA,WAAIsK,IAAI,CAACC,QAAQ,CAAC,aAAa,CAAC;EAAD,CAAC,CACxF,CAAChI,MAAM;EAAA;EAAArD,cAAA,GAAAE,CAAA;EAER,IAAIqL,eAAe,GAAG,CAAC,EAAE;IAAA;IAAAvL,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAE,CAAA;IACvBgL,MAAM,CAAC3E,IAAI,CAAC,mCAAmC,CAAC;IAAA;IAAAvG,cAAA,GAAAE,CAAA;IAChD4G,WAAW,CAACP,IAAI,CAAC,gCAAgC,CAAC;IAAA;IAAAvG,cAAA,GAAAE,CAAA;IAClDgE,iBAAiB,CAACqC,IAAI,CAAC;MACrBhC,KAAK,EAAE,GAAGuE,aAAa,iCAAiC;MACxDzE,QAAQ,EAAE,OAAO;MACjB0F,MAAM,EAAE;KACT,CAAC;EACJ,CAAC;EAAA;EAAA;IAAA/J,cAAA,GAAAc,CAAA;EAAA;EAED,IAAI0K,aAAa;EAAA;EAAA,CAAAxL,cAAA,GAAAE,CAAA,SAAGkJ,UAAU,CAACvC,UAAU;EAAA;EAAA7G,cAAA,GAAAE,CAAA;EACzC,IAAIgL,MAAM,CAAC7H,MAAM,GAAG,CAAC,EAAE;IAAA;IAAArD,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAE,CAAA;IACrBsL,aAAa,GAAGzG,IAAI,CAAC0G,GAAG,CAAC,CAAC,EAAED,aAAa,GAAIN,MAAM,CAAC7H,MAAM,GAAG,EAAG,CAAC;EACnE,CAAC;EAAA;EAAA;IAAArD,cAAA,GAAAc,CAAA;EAAA;EAAAd,cAAA,GAAAE,CAAA;EAED,OAAO;IACL,GAAGkJ,UAAU;IACbvC,UAAU,EAAE2E,aAAa;IACzB7E,YAAY;IAAE;IAAA,CAAA3G,cAAA,GAAAc,CAAA,WAAA0K,aAAa,IAAI,EAAE;IAAA;IAAA,CAAAxL,cAAA,GAAAc,CAAA,WAAIoK,MAAM,CAAC7H,MAAM,KAAK,CAAC;IACxDyD,WAAW,EAAE,CAAC,GAAGsC,UAAU,CAACtC,WAAW,EAAE,GAAGA,WAAW,CAAC;IACxDgD,aAAa,EAAE,CAAC,GAAGV,UAAU,CAACU,aAAa,EAAE,GAAGoB,MAAM,CAAC;IACvDjH,eAAe;IAAE;IAAA,CAAAjE,cAAA,GAAAc,CAAA,WAAAoK,MAAM,CAAC7H,MAAM,GAAG,CAAC;IAAA;IAAA,CAAArD,cAAA,GAAAc,CAAA,WAAIsI,UAAU,CAACnF,eAAe;IAChEC,iBAAiB,EAAE,CAAC;IAAI;IAAA,CAAAlE,cAAA,GAAAc,CAAA,WAAAsI,UAAU,CAAClF,iBAAiB;IAAA;IAAA,CAAAlE,cAAA,GAAAc,CAAA,WAAI,EAAE,EAAC,EAAE,GAAGoD,iBAAiB;GAClF;AACH;AAEA,SAASZ,0BAA0BA,CAACiB,KAAa;EAAA;EAAAvE,cAAA,GAAAU,CAAA;EAC/C,MAAMgL,SAAS;EAAA;EAAA,CAAA1L,cAAA,GAAAE,CAAA,SAAGqE,KAAK,CAACqG,WAAW,EAAE;EACrC,MAAMnJ,gBAAgB;EAAA;EAAA,CAAAzB,cAAA,GAAAE,CAAA,SAAa,EAAE;EAAA;EAAAF,cAAA,GAAAE,CAAA;EAErCuB,gBAAgB,CAAC8E,IAAI,CAAC,GAAGhC,KAAK,mCAAmC,CAAC;EAAA;EAAAvE,cAAA,GAAAE,CAAA;EAClEuB,gBAAgB,CAAC8E,IAAI,CAAC,GAAGhC,KAAK,+BAA+B,CAAC;EAAA;EAAAvE,cAAA,GAAAE,CAAA;EAC9DuB,gBAAgB,CAAC8E,IAAI,CAAC,GAAGhC,KAAK,6BAA6B,CAAC;EAAA;EAAAvE,cAAA,GAAAE,CAAA;EAE5D;EAAI;EAAA,CAAAF,cAAA,GAAAc,CAAA,WAAA4K,SAAS,CAACL,QAAQ,CAAC,gBAAgB,CAAC;EAAA;EAAA,CAAArL,cAAA,GAAAc,CAAA,WAAI4K,SAAS,CAACL,QAAQ,CAAC,UAAU,CAAC,GAAE;IAAA;IAAArL,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAE,CAAA;IAC1EuB,gBAAgB,CAAC8E,IAAI,CAAC,GAAGhC,KAAK,0DAA0D,CAAC;EAC3F,CAAC;EAAA;EAAA;IAAAvE,cAAA,GAAAc,CAAA;EAAA;EAAAd,cAAA,GAAAE,CAAA;EAED;EAAI;EAAA,CAAAF,cAAA,GAAAc,CAAA,WAAA4K,SAAS,CAACL,QAAQ,CAAC,gBAAgB,CAAC;EAAA;EAAA,CAAArL,cAAA,GAAAc,CAAA,WAAI4K,SAAS,CAACL,QAAQ,CAAC,QAAQ,CAAC,GAAE;IAAA;IAAArL,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAE,CAAA;IACxEuB,gBAAgB,CAAC8E,IAAI,CAAC,GAAGhC,KAAK,sDAAsD,CAAC;EACvF,CAAC;EAAA;EAAA;IAAAvE,cAAA,GAAAc,CAAA;EAAA;EAAAd,cAAA,GAAAE,CAAA;EAED;EAAI;EAAA,CAAAF,cAAA,GAAAc,CAAA,WAAA4K,SAAS,CAACL,QAAQ,CAAC,OAAO,CAAC;EAAA;EAAA,CAAArL,cAAA,GAAAc,CAAA,WAAI4K,SAAS,CAACL,QAAQ,CAAC,WAAW,CAAC,GAAE;IAAA;IAAArL,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAE,CAAA;IAClEuB,gBAAgB,CAAC8E,IAAI,CAAC,GAAGhC,KAAK,0CAA0C,CAAC;EAC3E,CAAC;EAAA;EAAA;IAAAvE,cAAA,GAAAc,CAAA;EAAA;EAAAd,cAAA,GAAAE,CAAA;EAED;EAAI;EAAA,CAAAF,cAAA,GAAAc,CAAA,WAAA4K,SAAS,CAACL,QAAQ,CAAC,OAAO,CAAC;EAAA;EAAA,CAAArL,cAAA,GAAAc,CAAA,WAAI4K,SAAS,CAACL,QAAQ,CAAC,UAAU,CAAC,GAAE;IAAA;IAAArL,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAE,CAAA;IACjEuB,gBAAgB,CAAC8E,IAAI,CAAC,GAAGhC,KAAK,sCAAsC,CAAC;EACvE,CAAC;EAAA;EAAA;IAAAvE,cAAA,GAAAc,CAAA;EAAA;EAAAd,cAAA,GAAAE,CAAA;EAED,OAAOuB,gBAAgB;AACzB;AAEA,SAASgJ,iBAAiBA,CAACtC,OAAe;EAAA;EAAAnI,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAE,CAAA;EAMxC,IAAI;IACF,MAAMyL,WAAW;IAAA;IAAA,CAAA3L,cAAA,GAAAE,CAAA,SAAG0L,WAAW,CAACzD,OAAO,CAAC;IACxC,MAAM0D,MAAM;IAAA;IAAA,CAAA7L,cAAA,GAAAE,CAAA,SAAGyH,IAAI,CAACmE,KAAK,CAACH,WAAW,CAAC;IAAA;IAAA3L,cAAA,GAAAE,CAAA;IAEtC,OAAO;MACLgD,UAAU;MAAE;MAAA,CAAAlD,cAAA,GAAAc,CAAA,WAAA+K,MAAM,CAAC3I,UAAU;MAAA;MAAA,CAAAlD,cAAA,GAAAc,CAAA,WAAI,UAAU;MAC3CqC,eAAe;MAAE;MAAA,CAAAnD,cAAA,GAAAc,CAAA,WAAA+K,MAAM,CAAC1I,eAAe;MAAA;MAAA,CAAAnD,cAAA,GAAAc,CAAA,WAAI,CAAC;MAC5CsC,aAAa;MAAE;MAAA,CAAApD,cAAA,GAAAc,CAAA,WAAA+K,MAAM,CAACzI,aAAa;MAAA;MAAA,CAAApD,cAAA,GAAAc,CAAA,WAAI,CAAC,iBAAiB,CAAC;MAC1D+C,aAAa;MAAE;MAAA,CAAA7D,cAAA,GAAAc,CAAA,WAAA+K,MAAM,CAAChI,aAAa;MAAA;MAAA,CAAA7D,cAAA,GAAAc,CAAA,WAAI,EAAE;KAC1C;EACH,CAAC,CAAC,OAAOmB,KAAK,EAAE;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IACde,OAAO,CAACgB,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IAE9D,OAAO;MACLgD,UAAU,EAAE,UAAU;MACtBC,eAAe,EAAE,CAAC;MAClBC,aAAa,EAAE,CAAC,iBAAiB,CAAC;MAClCS,aAAa,EAAE;KAChB;EACH;AACF;AAEA,SAASuG,oBAAoBA,CAACjC,OAAe;EAAA;EAAAnI,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAE,CAAA;EAG3C,IAAI;IACF,MAAMyL,WAAW;IAAA;IAAA,CAAA3L,cAAA,GAAAE,CAAA,SAAG0L,WAAW,CAACzD,OAAO,CAAC;IACxC,MAAM0D,MAAM;IAAA;IAAA,CAAA7L,cAAA,GAAAE,CAAA,SAAGyH,IAAI,CAACmE,KAAK,CAACH,WAAW,CAAC;IAAA;IAAA3L,cAAA,GAAAE,CAAA;IAEtC,OAAO;MACLgE,iBAAiB;MAAE;MAAA,CAAAlE,cAAA,GAAAc,CAAA,WAAA+K,MAAM,CAAC3H,iBAAiB;MAAA;MAAA,CAAAlE,cAAA,GAAAc,CAAA,WAAI,EAAE;KAClD;EACH,CAAC,CAAC,OAAOmB,KAAK,EAAE;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IACde,OAAO,CAACgB,KAAK,CAAC,0CAA0C,EAAEA,KAAK,CAAC;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IAEhE,OAAO;MACLgE,iBAAiB,EAAE;KACpB;EACH;AACF;AAEA,SAASsE,uBAAuBA,CAACL,OAAe;EAAA;EAAAnI,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAE,CAAA;EAQ9C,IAAI;IACF,MAAMyL,WAAW;IAAA;IAAA,CAAA3L,cAAA,GAAAE,CAAA,SAAG0L,WAAW,CAACzD,OAAO,CAAC;IACxC,MAAM0D,MAAM;IAAA;IAAA,CAAA7L,cAAA,GAAAE,CAAA,SAAGyH,IAAI,CAACmE,KAAK,CAACH,WAAW,CAAC;IAAA;IAAA3L,cAAA,GAAAE,CAAA;IAEtC,OAAO;MACLsC,OAAO;MAAE;MAAA,CAAAxC,cAAA,GAAAc,CAAA,WAAA+K,MAAM,CAACrJ,OAAO;MAAA;MAAA,CAAAxC,cAAA,GAAAc,CAAA,WAAI,EAAE;KAC9B;EACH,CAAC,CAAC,OAAOmB,KAAK,EAAE;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IACde,OAAO,CAACgB,KAAK,CAAC,0CAA0C,EAAEA,KAAK,CAAC;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IAEhE,OAAO;MACLsC,OAAO,EAAE;KACV;EACH;AACF;AAEA,SAAS6G,0BAA0BA,CAAClB,OAAe;EAAA;EAAAnI,cAAA,GAAAU,CAAA;EAAAV,cAAA,GAAAE,CAAA;EAoBjD,IAAI;IACF,MAAMyL,WAAW;IAAA;IAAA,CAAA3L,cAAA,GAAAE,CAAA,SAAG0L,WAAW,CAACzD,OAAO,CAAC;IACxC,MAAM0D,MAAM;IAAA;IAAA,CAAA7L,cAAA,GAAAE,CAAA,SAAGyH,IAAI,CAACmE,KAAK,CAACH,WAAW,CAAC;IAAA;IAAA3L,cAAA,GAAAE,CAAA;IAEtC,OAAO;MACLyG,YAAY;MAAE;MAAA,CAAA3G,cAAA,GAAAc,CAAA,WAAA+K,MAAM,CAAClF,YAAY;MAAA;MAAA,CAAA3G,cAAA,GAAAc,CAAA,WAAI,KAAK;MAC1C8F,UAAU;MAAE;MAAA,CAAA5G,cAAA,GAAAc,CAAA,WAAA+K,MAAM,CAACjF,UAAU;MAAA;MAAA,CAAA5G,cAAA,GAAAc,CAAA,WAAI,GAAG;MACpC0I,cAAc;MAAE;MAAA,CAAAxJ,cAAA,GAAAc,CAAA,WAAA+K,MAAM,CAACrC,cAAc;MAAA;MAAA,CAAAxJ,cAAA,GAAAc,CAAA,WAAI;QACvC2I,SAAS,EAAE,EAAE;QACbC,cAAc,EAAE,EAAE;QAClBC,QAAQ,EAAE,EAAE;QACZC,UAAU,EAAE,EAAE;QACdC,YAAY,EAAE;OACf;MACDhD,UAAU;MAAE;MAAA,CAAA7G,cAAA,GAAAc,CAAA,WAAA+K,MAAM,CAAChF,UAAU;MAAA;MAAA,CAAA7G,cAAA,GAAAc,CAAA,WAAI,EAAE;MACnCgG,WAAW;MAAE;MAAA,CAAA9G,cAAA,GAAAc,CAAA,WAAA+K,MAAM,CAAC/E,WAAW;MAAA;MAAA,CAAA9G,cAAA,GAAAc,CAAA,WAAI,EAAE;MACrCgJ,aAAa;MAAE;MAAA,CAAA9J,cAAA,GAAAc,CAAA,WAAA+K,MAAM,CAAC/B,aAAa;MAAA;MAAA,CAAA9J,cAAA,GAAAc,CAAA,WAAI,EAAE;MACzCmD,eAAe;MAAE;MAAA,CAAAjE,cAAA,GAAAc,CAAA,WAAA+K,MAAM,CAAC5H,eAAe;MAAA;MAAA,CAAAjE,cAAA,GAAAc,CAAA,WAAI,IAAI;MAC/CoD,iBAAiB;MAAE;MAAA,CAAAlE,cAAA,GAAAc,CAAA,WAAA+K,MAAM,CAAC3H,iBAAiB;MAAA;MAAA,CAAAlE,cAAA,GAAAc,CAAA,WAAI,EAAE;KAClD;EACH,CAAC,CAAC,OAAOmB,KAAK,EAAE;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IACde,OAAO,CAACgB,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;IAAA;IAAAjC,cAAA,GAAAE,CAAA;IAElE,OAAO;MACLyG,YAAY,EAAE,KAAK;MACnBC,UAAU,EAAE,GAAG;MACf4C,cAAc,EAAE;QACdC,SAAS,EAAE,EAAE;QACbC,cAAc,EAAE,EAAE;QAClBC,QAAQ,EAAE,EAAE;QACZC,UAAU,EAAE,EAAE;QACdC,YAAY,EAAE;OACf;MACDhD,UAAU,EAAE,EAAE;MACdC,WAAW,EAAE,CAAC,qBAAqB,CAAC;MACpCgD,aAAa,EAAE,CAAC,qBAAqB,CAAC;MACtC7F,eAAe,EAAE,IAAI;MACrBC,iBAAiB,EAAE;KACpB;EACH;AACF;AAEA,SAAS0H,WAAWA,CAACzD,OAAe;EAAA;EAAAnI,cAAA,GAAAU,CAAA;EAClC,MAAMqL,KAAK;EAAA;EAAA,CAAA/L,cAAA,GAAAE,CAAA,SAAGiI,OAAO,CAAC6D,OAAO,CAAC,GAAG,CAAC;EAClC,MAAMC,GAAG;EAAA;EAAA,CAAAjM,cAAA,GAAAE,CAAA,SAAGiI,OAAO,CAAC+D,WAAW,CAAC,GAAG,CAAC;EAAA;EAAAlM,cAAA,GAAAE,CAAA;EACpC;EAAI;EAAA,CAAAF,cAAA,GAAAc,CAAA,WAAAiL,KAAK,KAAK,CAAC,CAAC;EAAA;EAAA,CAAA/L,cAAA,GAAAc,CAAA,WAAImL,GAAG,KAAK,CAAC,CAAC;EAAA;EAAA,CAAAjM,cAAA,GAAAc,CAAA,WAAImL,GAAG,IAAIF,KAAK,GAAE;IAAA;IAAA/L,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAE,CAAA;IAC9C,MAAM,IAAIoC,KAAK,CAAC,oCAAoC,CAAC;EACvD,CAAC;EAAA;EAAA;IAAAtC,cAAA,GAAAc,CAAA;EAAA;EAAAd,cAAA,GAAAE,CAAA;EACD,OAAOiI,OAAO,CAACrE,KAAK,CAACiI,KAAK,EAAEE,GAAG,GAAG,CAAC,CAAC;AACtC","ignoreList":[]}