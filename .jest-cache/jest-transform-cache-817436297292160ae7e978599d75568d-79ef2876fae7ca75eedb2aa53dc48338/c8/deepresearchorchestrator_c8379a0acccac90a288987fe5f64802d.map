{"version":3,"names":["cov_28txukevon","actualCoverage","s","exports","runDeepResearchWorkflow","legal_search_specialized_1","require","legal_synthesis_1","deep_research_prompts_1","userQuery","options","f","client","model","maxResearchRounds","b","maxSearchesPerRound","searchTimeoutMs","console","log","repeat","startTime","Date","now","initialPlan","minRequiredRounds","mandatoryQueries","executePlanningPhase","rounds","allSources","gapsIdentified","executeIterativePhase","result","executeSynthesisPhase","error","totalDuration","partialResult","success","context","Error","message","sources","metadata","totalDurationMs","totalRounds","totalSources","highQualitySources","officialSources","averageQuality","finalSufficiencyScore","planResearchStrategy","complexity","estimatedRounds","researchAreas","length","buildMandatoryLegalQueries","consecutiveInsufficientRounds","executedQueries","Set","round","roundStart","queries","searchQueries","slice","lastRound","sufficiencyEvaluation","needsMoreSearch","additionalQueries","filter","q","priority","map","query","generateAdditionalQueries","pendingMandatory","has","normalizeQueryKey","needsOfficialBoost","type","forcedQueries","Math","min","roundSeen","trim","key","add","maxQueriesThisRound","forEach","roundResults","executeSearchRound","verifiedSources","verifySources","source","quality","removeDuplicateSources","sort","a","sufficiencyEval","evaluateInformationSufficiency","roundDuration","researchRound","roundNumber","results","durationMs","push","reduce","sum","toFixed","isSufficient","confidence","totalScore","missingInfo","highQualityCount","modelContext","generateFinalSynthesis","r","allResults","searchResult","searchLegalSpecialized","enrichedResults","enrichLegalResults","researchSources","title","url","snippet","relevance","authority","currency","recommendedUse","verificationPrompt","SOURCE_VERIFICATION_PROMPT","replace","JSON","stringify","response","chat","completions","create","messages","role","content","temperature","max_tokens","choices","verificationData","parseSourceVerification","index","verificationNotes","originalQuery","previousRounds","evidenceSummary","analyzeEvidenceSummary","evaluationPrompt","INFORMATION_SUFFICIENCY_PROMPT","evaluation","parseSufficiencyEvaluation","enforcedEvaluation","enforceEvidenceThresholds","detailedScores","normativa","jurisprudencia","doctrina","actualidad","verificacion","qualityIssues","reason","currentSources","queryPrompt","QUERY_GENERATION_PROMPT","queryData","parseQueryGeneration","legalSources","researchRounds","synthesizeLegalResponse","synthesisType","includeMetadata","includeWarnings","maxTokens","planningPrompt","RESEARCH_PLANNING_PROMPT","parseResearchPlan","seen","toLowerCase","academicSources","newsSources","generalSources","coverageAreas","issues","explicitArticles","area","includes","jurisprudenceSources","doctrineSources","adjustedScore","max","baseQuery","jsonContent","extractJson","parsed","parse","start","indexOf","end","lastIndexOf"],"sources":["C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\tongyi\\deep-research-orchestrator.ts"],"sourcesContent":["Ôªøimport OpenAI from \"openai\"\r\nimport { searchLegalSpecialized, enrichLegalResults } from \"@/lib/tools/legal/legal-search-specialized\"\r\nimport { synthesizeLegalResponse, LegalSource, ResearchRound as LegalResearchRound } from \"@/lib/utils/legal-synthesis\"\r\nimport { \r\n  RESEARCH_PLANNING_PROMPT, \r\n  INFORMATION_SUFFICIENCY_PROMPT,\r\n  QUERY_GENERATION_PROMPT,\r\n  SOURCE_VERIFICATION_PROMPT,\r\n  FINAL_SYNTHESIS_PROMPT\r\n} from \"./deep-research-prompts\"\r\n\r\nexport interface DeepResearchOptions {\r\n  client: OpenAI\r\n  model: string\r\n  maxResearchRounds?: number\r\n  maxSearchesPerRound?: number\r\n  searchTimeoutMs?: number\r\n}\r\n\r\nexport interface ResearchSource {\r\n  title: string\r\n  url: string\r\n  snippet: string\r\n  type: 'official' | 'academic' | 'news' | 'general'\r\n  relevance: number\r\n  quality: number\r\n  verificationNotes?: string\r\n  authority: 'maxima' | 'alta' | 'media' | 'baja' | 'minima'\r\n  currency: 'actualizada' | 'desactualizada' | 'desconocida'\r\n  recommendedUse: 'cita_principal' | 'secundaria' | 'contextual' | 'no_usar'\r\n}\r\n\r\nexport interface ResearchRound {\r\n  roundNumber: number\r\n  queries: string[]\r\n  results: ResearchSource[]\r\n  sufficiencyEvaluation: {\r\n    isSufficient: boolean\r\n    confidence: number\r\n    detailedScores: {\r\n      normativa: number\r\n      jurisprudencia: number\r\n      doctrina: number\r\n      actualidad: number\r\n      verificacion: number\r\n    }\r\n    totalScore: number\r\n    missingInfo: string[]\r\n    qualityIssues: string[]\r\n    needsMoreSearch: boolean\r\n    additionalQueries?: Array<{\r\n      query: string\r\n      priority: 'alta' | 'media' | 'baja'\r\n      reason: string\r\n    }>\r\n  }\r\n  durationMs: number\r\n}\r\n\r\nexport interface DeepResearchResult {\r\n  success: boolean\r\n  context: string\r\n  sources: ResearchSource[]\r\n  rounds: ResearchRound[]\r\n  metadata: {\r\n    totalDurationMs: number\r\n    totalRounds: number\r\n    totalSources: number\r\n    highQualitySources: number\r\n    officialSources: number\r\n    averageQuality: number\r\n    gapsIdentified: number\r\n    finalSufficiencyScore: number\r\n  }\r\n}\r\n\r\nexport interface EvidenceSummary {\r\n  totalSources: number\r\n  officialSources: number\r\n  academicSources: number\r\n  newsSources: number\r\n  generalSources: number\r\n  averageQuality: number\r\n  highQualitySources: number\r\n  coverageAreas: string[]\r\n}\r\n\r\n/**\r\n * Funci√≥n principal que orquesta la investigaci√≥n profunda dirigida por el modelo\r\n * Versi√≥n refactorizada con funciones separadas para cada fase\r\n */\r\nexport async function runDeepResearchWorkflow(\r\n  userQuery: string,\r\n  options: DeepResearchOptions\r\n): Promise<DeepResearchResult> {\r\n  const {\r\n    client,\r\n    model,\r\n    maxResearchRounds = 5,\r\n    maxSearchesPerRound = 6,\r\n    searchTimeoutMs = 35000\r\n  } = options\r\n\r\n  console.log(`\\nüîç INICIANDO INVESTIGACI√ìN PROFUNDA MEJORADA`)\r\n  console.log(`üìù Consulta: \"${userQuery}\"`)\r\n  console.log(`üìä M√°ximo de rondas: ${maxResearchRounds}`)\r\n  console.log(`üîç B√∫squedas por ronda: ${maxSearchesPerRound}`)\r\n  console.log(`‚è±Ô∏è Timeout por b√∫squeda: ${searchTimeoutMs}ms`)\r\n  console.log(`${'='.repeat(80)}`)\r\n\r\n  const startTime = Date.now()\r\n\r\n  try {\r\n    // FASE 1: Planificaci√≥n inicial exhaustiva\r\n    const { initialPlan, minRequiredRounds, mandatoryQueries } = await executePlanningPhase(\r\n      client, model, userQuery\r\n    )\r\n\r\n    // FASE 2: Ejecuci√≥n iterativa exigente\r\n    const { rounds, allSources, gapsIdentified } = await executeIterativePhase(\r\n      client, model, userQuery, initialPlan, minRequiredRounds, mandatoryQueries,\r\n      maxResearchRounds, maxSearchesPerRound, searchTimeoutMs\r\n    )\r\n\r\n    // FASE 3: S√≠ntesis final mejorada\r\n    const result = await executeSynthesisPhase(\r\n      client, model, userQuery, allSources, rounds, startTime\r\n    )\r\n\r\n    return result\r\n\r\n  } catch (error) {\r\n    console.error(`‚ùå Error en investigaci√≥n profunda:`, error)\r\n    \r\n    const totalDuration = Date.now() - startTime\r\n    const partialResult: DeepResearchResult = {\r\n      success: false,\r\n      context: `Error durante la investigaci√≥n: ${error instanceof Error ? error.message : 'Error desconocido'}`,\r\n      sources: [],\r\n      rounds: [],\r\n      metadata: {\r\n        totalDurationMs: totalDuration,\r\n        totalRounds: 0,\r\n        totalSources: 0,\r\n        highQualitySources: 0,\r\n        officialSources: 0,\r\n        averageQuality: 0,\r\n        gapsIdentified: 0,\r\n        finalSufficiencyScore: 0\r\n      }\r\n    }\r\n\r\n    return partialResult\r\n  }\r\n}\r\n\r\n/**\r\n * FASE 1: Planificaci√≥n inicial exhaustiva\r\n */\r\nasync function executePlanningPhase(\r\n  client: OpenAI,\r\n  model: string,\r\n  userQuery: string\r\n): Promise<{\r\n  initialPlan: any;\r\n  minRequiredRounds: number;\r\n  mandatoryQueries: string[];\r\n}> {\r\n  console.log(`\\nüîç FASE 1: PLANIFICACI√ìN EXHAUSTIVA`)\r\n  const initialPlan = await planResearchStrategy(client, model, userQuery)\r\n  console.log(`üìã Plan inicial: ${initialPlan.complexity} (${initialPlan.estimatedRounds} rondas estimadas)`)\r\n  console.log(`üéØ √Åreas de investigaci√≥n: ${initialPlan.researchAreas?.length || 0} identificadas`)\r\n  \r\n  // Exigir m√≠nimo de rondas seg√∫n complejidad\r\n  const minRequiredRounds = initialPlan.complexity === 'muy_compleja' ? 4 : \r\n                           initialPlan.complexity === 'compleja' ? 3 : 2\r\n\r\n  const mandatoryQueries = buildMandatoryLegalQueries(userQuery)\r\n  \r\n  return { initialPlan, minRequiredRounds, mandatoryQueries }\r\n}\r\n\r\n/**\r\n * FASE 2: Ejecuci√≥n iterativa exigente\r\n */\r\nasync function executeIterativePhase(\r\n  client: OpenAI,\r\n  model: string,\r\n  userQuery: string,\r\n  initialPlan: any,\r\n  minRequiredRounds: number,\r\n  mandatoryQueries: string[],\r\n  maxResearchRounds: number,\r\n  maxSearchesPerRound: number,\r\n  searchTimeoutMs: number\r\n): Promise<{\r\n  rounds: ResearchRound[];\r\n  allSources: ResearchSource[];\r\n  gapsIdentified: number;\r\n}> {\r\n  console.log(`\\nüîÑ FASE 2: EJECUCI√ìN ITERATIVA EXIGENTE`)\r\n  \r\n  const rounds: ResearchRound[] = []\r\n  let allSources: ResearchSource[] = []\r\n  let gapsIdentified = 0\r\n  let consecutiveInsufficientRounds = 0\r\n  const executedQueries = new Set<string>()\r\n\r\n  for (let round = 1; round <= maxResearchRounds; round++) {\r\n    console.log(`\\nüîç RONDA ${round} DE INVESTIGACI√ìN`)\r\n    const roundStart = Date.now()\r\n    \r\n    // Generar consultas espec√≠ficas para esta ronda\r\n    let queries: string[] = []\r\n    \r\n    if (round === 1) {\r\n      // Primera ronda: usar consultas del plan inicial\r\n      queries = initialPlan.searchQueries.slice(0, maxSearchesPerRound)\r\n      console.log(`üìã Usando ${queries.length} consultas del plan inicial`)\r\n    } else {\r\n      // Rondas subsiguientes: generar consultas basadas en brechas\r\n      const lastRound = rounds[rounds.length - 1]\r\n      if (lastRound?.sufficiencyEvaluation.needsMoreSearch && \r\n          lastRound.sufficiencyEvaluation.additionalQueries) {\r\n        queries = lastRound.sufficiencyEvaluation.additionalQueries\r\n          .filter(q => q.priority === 'alta')\r\n          .slice(0, maxSearchesPerRound)\r\n          .map(q => q.query)\r\n        console.log(`üéØ Generadas ${queries.length} consultas de alta prioridad`)\r\n      }\r\n      \r\n      // Si no hay consultas de alta prioridad, generar autom√°ticas\r\n      if (queries.length === 0) {\r\n        queries = await generateAdditionalQueries(client, model, userQuery, allSources, rounds)\r\n        console.log(`ü§ñ Generadas ${queries.length} consultas autom√°ticas`)\r\n      }\r\n    }\r\n\r\n    const pendingMandatory = mandatoryQueries\r\n      .filter(q => !executedQueries.has(normalizeQueryKey(q)))\r\n    const needsOfficialBoost = allSources.filter(s => s.type === 'official').length < 3\r\n    if (pendingMandatory.length > 0) {\r\n      const forcedQueries = (round === 1 || needsOfficialBoost)\r\n        ? pendingMandatory\r\n        : pendingMandatory.slice(0, Math.min(2, pendingMandatory.length))\r\n      if (forcedQueries.length > 0) {\r\n        console.log(`[INFO] Refuerzo de dominios oficiales con ${forcedQueries.length} consultas`)\r\n        queries = [...forcedQueries, ...queries]\r\n      }\r\n    }\r\n\r\n    const roundSeen = new Set<string>()\r\n    queries = queries\r\n      .map(q => q.trim())\r\n      .filter(q => q.length > 0)\r\n      .filter(q => {\r\n        const key = normalizeQueryKey(q)\r\n        if (executedQueries.has(key) || roundSeen.has(key)) {\r\n          return false\r\n        }\r\n        roundSeen.add(key)\r\n        return true\r\n      })\r\n\r\n    const maxQueriesThisRound = Math.min(queries.length, maxSearchesPerRound + 2)\r\n    if (queries.length > maxQueriesThisRound) {\r\n      queries = queries.slice(0, maxQueriesThisRound)\r\n    }\r\n\r\n    if (queries.length === 0) {\r\n      console.log(`‚ö†Ô∏è No se generaron consultas para ronda ${round}`)\r\n      if (round >= minRequiredRounds) {\r\n        console.log(`‚úÖ M√≠nimo de rondas requeridas cumplido (${minRequiredRounds})`)\r\n        break\r\n      }\r\n      continue\r\n    }\r\n\r\n    // Ejecutar b√∫squedas con mayor exigencia\r\n    console.log(`üîç Ejecutando ${queries.length} b√∫squedas especializadas...`)\r\n    queries.forEach(q => executedQueries.add(normalizeQueryKey(q)))\r\n    const roundResults = await executeSearchRound(queries, maxSearchesPerRound, searchTimeoutMs)\r\n    \r\n    // Verificaci√≥n rigurosa de fuentes\r\n    console.log(`üîç Verificando calidad de ${roundResults.length} fuentes...`)\r\n    const verifiedSources = await verifySources(client, model, roundResults)\r\n    \r\n    // Filtrar fuentes de alta calidad solo\r\n    const highQualitySources = verifiedSources.filter(source => source.quality >= 6)\r\n    console.log(`‚úÖ ${highQualitySources.length} fuentes de alta calidad (>=6/10)`)\r\n    \r\n    allSources = [...allSources, ...highQualitySources]\r\n\r\n    // Eliminar duplicados y mantener solo las mejores\r\n    allSources = removeDuplicateSources(allSources)\r\n    allSources = allSources.sort((a, b) => b.quality - a.quality).slice(0, 20) // M√°ximo 20 fuentes\r\n    \r\n    // Evaluaci√≥n exhaustiva de suficiencia\r\n    console.log(`üìä Evaluando suficiencia de informaci√≥n...`)\r\n    const sufficiencyEval = await evaluateInformationSufficiency(\r\n      client, \r\n      model, \r\n      userQuery, \r\n      allSources, \r\n      rounds\r\n    )\r\n\r\n    const roundDuration = Date.now() - roundStart\r\n\r\n    const researchRound: ResearchRound = {\r\n      roundNumber: round,\r\n      queries,\r\n      results: highQualitySources,\r\n      sufficiencyEvaluation: sufficiencyEval,\r\n      durationMs: roundDuration\r\n    }\r\n\r\n    rounds.push(researchRound)\r\n    \r\n    console.log(`‚úÖ Ronda ${round} completada en ${roundDuration}ms`)\r\n    console.log(`üìä Fuentes: ${highQualitySources.length} | Calidad promedio: ${highQualitySources.length > 0 ? (highQualitySources.reduce((sum, s) => sum + s.quality, 0) / highQualitySources.length).toFixed(1) : 0}/10`)\r\n    console.log(`üìä Suficiencia: ${sufficiencyEval.isSufficient ? 'S√≠' : 'NO'} (${sufficiencyEval.confidence.toFixed(2)})`)\r\n    console.log(`üìä Puntaje total: ${sufficiencyEval.totalScore}/100`)\r\n    \r\n    if (sufficiencyEval.missingInfo.length > 0) {\r\n      console.log(`üîç Brechas identificadas: ${sufficiencyEval.missingInfo.length}`)\r\n      gapsIdentified += sufficiencyEval.missingInfo.length\r\n    }\r\n\r\n    // L√≥gica de continuaci√≥n m√°s exigente\r\n    if (sufficiencyEval.isSufficient && sufficiencyEval.confidence >= 0.85 && sufficiencyEval.totalScore >= 80) {\r\n      console.log(`‚úÖ INFORMACI√ìN SUFICIENTE Y DE ALTA CALIDAD`)\r\n      if (round >= minRequiredRounds) {\r\n        console.log(`‚úÖ Requisitos m√≠nimos cumplidos, finalizando investigaci√≥n`)\r\n        break\r\n      }\r\n    }\r\n\r\n    // Contar rondas insuficientes consecutivas\r\n    if (sufficiencyEval.totalScore < 50) {\r\n      consecutiveInsufficientRounds++\r\n      console.log(`‚ö†Ô∏è Ronda de baja calidad (${consecutiveInsufficientRounds}/3 consecutivas)`)\r\n      \r\n      if (consecutiveInsufficientRounds >= 3) {\r\n        console.log(`‚ùå 3 rondas consecutivas de baja calidad, finalizando`)\r\n        break\r\n      }\r\n    } else {\r\n      consecutiveInsufficientRounds = 0\r\n    }\r\n\r\n    // Exigir m√≠nimo de fuentes de alta calidad\r\n    const highQualityCount = allSources.filter(s => s.quality >= 7).length\r\n    if (highQualityCount >= 8 && round >= minRequiredRounds && sufficiencyEval.totalScore >= 70) {\r\n      console.log(`‚úÖ Suficientes fuentes de alta calidad (${highQualityCount}), finalizando`)\r\n      break\r\n    }\r\n  }\r\n\r\n  return { rounds, allSources, gapsIdentified }\r\n}\r\n\r\n/**\r\n * FASE 3: S√≠ntesis final mejorada\r\n */\r\nasync function executeSynthesisPhase(\r\n  client: OpenAI,\r\n  model: string,\r\n  userQuery: string,\r\n  allSources: ResearchSource[],\r\n  rounds: ResearchRound[],\r\n  startTime: number\r\n): Promise<DeepResearchResult> {\r\n  console.log(`\\nüìù FASE 3: S√çNTESIS FINAL MEJORADA`)\r\n  const totalDuration = Date.now() - startTime\r\n  \r\n  // Generar contexto final con s√≠ntesis experta\r\n  const modelContext = await generateFinalSynthesis(client, model, userQuery, allSources, rounds)\r\n  \r\n  const result: DeepResearchResult = {\r\n    success: true,\r\n    context: modelContext,\r\n    sources: allSources,\r\n    rounds,\r\n    metadata: {\r\n      totalDurationMs: totalDuration,\r\n      totalRounds: rounds.length,\r\n      totalSources: allSources.length,\r\n      highQualitySources: allSources.filter(s => s.quality >= 7).length,\r\n      officialSources: allSources.filter(s => s.type === 'official').length,\r\n      averageQuality: allSources.length > 0 ? \r\n        allSources.reduce((sum, s) => sum + s.quality, 0) / allSources.length : 0,\r\n      gapsIdentified: rounds.reduce((sum, r) => sum + r.sufficiencyEvaluation.missingInfo.length, 0),\r\n      finalSufficiencyScore: rounds.length > 0 ? rounds[rounds.length - 1].sufficiencyEvaluation.totalScore : 0\r\n    }\r\n  }\r\n\r\n  console.log(`\\nüéâ INVESTIGACI√ìN PROFUNDA COMPLETADA`)\r\n  console.log(`‚è±Ô∏è Duraci√≥n total: ${totalDuration}ms`)\r\n  console.log(`üìä Rondas ejecutadas: ${rounds.length}`)\r\n  console.log(`üìö Fuentes encontradas: ${allSources.length}`)\r\n  console.log(`‚≠ê Fuentes de alta calidad: ${result.metadata.highQualitySources}`)\r\n  console.log(`üèõÔ∏è Fuentes oficiales: ${result.metadata.officialSources}`)\r\n  console.log(`üìä Calidad promedio: ${result.metadata.averageQuality.toFixed(1)}/10`)\r\n  console.log(`üìä Puntaje final de suficiencia: ${result.metadata.finalSufficiencyScore}/100`)\r\n  console.log(`${'='.repeat(80)}`)\r\n\r\n  return result\r\n}\r\n\r\n// Funciones auxiliares (mantenidas del c√≥digo original)\r\n\r\nasync function executeSearchRound(\r\n  queries: string[],\r\n  maxSearchesPerRound: number,\r\n  searchTimeoutMs: number\r\n): Promise<ResearchSource[]> {\r\n  const allResults: ResearchSource[] = []\r\n  \r\n  for (const query of queries.slice(0, maxSearchesPerRound)) {\r\n    try {\r\n      console.log(`üîç Buscando: \"${query}\"`)\r\n      const searchResult = await searchLegalSpecialized(query, searchTimeoutMs)\r\n      \r\n      if (searchResult.success && searchResult.results.length > 0) {\r\n        const enrichedResults = await enrichLegalResults(searchResult.results, searchTimeoutMs)\r\n        \r\n        // Convertir LegalSearchResult a ResearchSource\r\n        const researchSources: ResearchSource[] = enrichedResults.map(result => ({\r\n          title: result.title,\r\n          url: result.url,\r\n          snippet: result.snippet,\r\n          type: result.type,\r\n          relevance: result.relevance,\r\n          quality: result.type === 'official' ? 7 : result.type === 'academic' ? 6 : result.type === 'news' ? 5 : 4,\r\n          authority: result.type === 'official' ? 'maxima' : result.type === 'academic' ? 'alta' : result.type === 'news' ? 'media' : 'baja',\r\n          currency: 'desconocida' as const,\r\n          recommendedUse: result.type === 'official' ? 'cita_principal' : result.type === 'academic' ? 'secundaria' : 'contextual'\r\n        }))\r\n        \r\n        allResults.push(...researchSources)\r\n        console.log(`‚úÖ Encontradas ${researchSources.length} fuentes`)\r\n      } else {\r\n        console.log(`‚ö†Ô∏è Sin resultados para: \"${query}\"`)\r\n      }\r\n    } catch (error) {\r\n      console.error(`‚ùå Error en b√∫squeda \"${query}\":`, error)\r\n    }\r\n  }\r\n  \r\n  return allResults\r\n}\r\n\r\nasync function verifySources(\r\n  client: OpenAI,\r\n  model: string,\r\n  sources: ResearchSource[]\r\n): Promise<ResearchSource[]> {\r\n  if (sources.length === 0) return sources\r\n\r\n  const verificationPrompt = SOURCE_VERIFICATION_PROMPT.replace('{sources}', JSON.stringify(sources, null, 2))\r\n  \r\n  try {\r\n    const response = await client.chat.completions.create({\r\n      model,\r\n      messages: [{ role: 'user', content: verificationPrompt }],\r\n      temperature: 0.1,\r\n      max_tokens: 4000\r\n    })\r\n\r\n    const content = response.choices[0]?.message?.content || ''\r\n    const verificationData = parseSourceVerification(content)\r\n    \r\n    return sources.map((source, index) => ({\r\n      ...source,\r\n      verificationNotes: verificationData.sources[index]?.verificationNotes || '',\r\n      authority: verificationData.sources[index]?.authority || source.authority,\r\n      currency: verificationData.sources[index]?.currency || source.currency,\r\n      recommendedUse: verificationData.sources[index]?.recommendedUse || source.recommendedUse\r\n    }))\r\n  } catch (error) {\r\n    console.error('Error verificando fuentes:', error)\r\n    return sources\r\n  }\r\n}\r\n\r\nasync function evaluateInformationSufficiency(\r\n  client: OpenAI,\r\n  model: string,\r\n  originalQuery: string,\r\n  sources: ResearchSource[],\r\n  previousRounds: ResearchRound[]\r\n): Promise<{\r\n  isSufficient: boolean\r\n  confidence: number\r\n  detailedScores: {\r\n    normativa: number\r\n    jurisprudencia: number\r\n    doctrina: number\r\n    actualidad: number\r\n    verificacion: number\r\n  }\r\n  totalScore: number\r\n  missingInfo: string[]\r\n  qualityIssues: string[]\r\n  needsMoreSearch: boolean\r\n  additionalQueries?: Array<{\r\n    query: string\r\n    priority: 'alta' | 'media' | 'baja'\r\n    reason: string\r\n  }>\r\n}> {\r\n  const evidenceSummary = analyzeEvidenceSummary(sources)\r\n  const evaluationPrompt = INFORMATION_SUFFICIENCY_PROMPT\r\n    .replace('{query}', originalQuery)\r\n    .replace('{sources}', JSON.stringify(sources, null, 2))\r\n    .replace('{evidenceSummary}', JSON.stringify(evidenceSummary, null, 2))\r\n    .replace('{previousRounds}', JSON.stringify(previousRounds.length))\r\n  \r\n  try {\r\n    const response = await client.chat.completions.create({\r\n      model,\r\n      messages: [{ role: 'user', content: evaluationPrompt }],\r\n      temperature: 0.1,\r\n      max_tokens: 3000\r\n    })\r\n\r\n    const content = response.choices[0]?.message?.content || ''\r\n    const evaluation = parseSufficiencyEvaluation(content)\r\n    \r\n    const enforcedEvaluation = enforceEvidenceThresholds(evaluation, evidenceSummary, originalQuery)\r\n    \r\n    return enforcedEvaluation\r\n  } catch (error) {\r\n    console.error('Error evaluando suficiencia:', error)\r\n    \r\n    return {\r\n      isSufficient: false,\r\n      confidence: 0.3,\r\n      detailedScores: {\r\n        normativa: 10,\r\n        jurisprudencia: 10,\r\n        doctrina: 10,\r\n        actualidad: 10,\r\n        verificacion: 10\r\n      },\r\n      totalScore: 50,\r\n      missingInfo: ['Error en evaluaci√≥n de suficiencia'],\r\n      qualityIssues: ['No se pudo evaluar la calidad'],\r\n      needsMoreSearch: true,\r\n      additionalQueries: [{\r\n        query: originalQuery,\r\n        priority: 'alta',\r\n        reason: 'Error en evaluaci√≥n, reintentar b√∫squeda'\r\n      }]\r\n    }\r\n  }\r\n}\r\n\r\nasync function generateAdditionalQueries(\r\n  client: OpenAI,\r\n  model: string,\r\n  originalQuery: string,\r\n  currentSources: ResearchSource[],\r\n  previousRounds: ResearchRound[]\r\n): Promise<string[]> {\r\n  const queryPrompt = QUERY_GENERATION_PROMPT\r\n    .replace('{query}', originalQuery)\r\n    .replace('{sources}', JSON.stringify(currentSources, null, 2))\r\n    .replace('{rounds}', JSON.stringify(previousRounds.length))\r\n  \r\n  try {\r\n    const response = await client.chat.completions.create({\r\n      model,\r\n      messages: [{ role: 'user', content: queryPrompt }],\r\n      temperature: 0.3,\r\n      max_tokens: 2000\r\n    })\r\n\r\n    const content = response.choices[0]?.message?.content || ''\r\n    const queryData = parseQueryGeneration(content)\r\n    \r\n    return queryData.additionalQueries || []\r\n  } catch (error) {\r\n    console.error('Error generando consultas adicionales:', error)\r\n    return []\r\n  }\r\n}\r\n\r\nasync function generateFinalSynthesis(\r\n  client: OpenAI,\r\n  model: string,\r\n  originalQuery: string,\r\n  sources: ResearchSource[],\r\n  rounds: ResearchRound[]\r\n): Promise<string> {\r\n  try {\r\n    // Convertir fuentes al formato est√°ndar\r\n    const legalSources: LegalSource[] = sources.map(source => ({\r\n      title: source.title,\r\n      url: source.url,\r\n      content: source.snippet,\r\n      snippet: source.snippet,\r\n      type: source.type,\r\n      quality: source.quality,\r\n      authority: source.authority,\r\n      currency: source.currency,\r\n      recommendedUse: source.recommendedUse,\r\n      verificationNotes: source.verificationNotes\r\n    }))\r\n\r\n    // Convertir rondas al formato est√°ndar\r\n    const researchRounds: LegalResearchRound[] = rounds.map(round => ({\r\n      roundNumber: round.roundNumber,\r\n      queries: round.queries,\r\n      results: round.results.map(result => ({\r\n        title: result.title,\r\n        url: result.url,\r\n        content: result.snippet,\r\n        snippet: result.snippet,\r\n        type: result.type,\r\n        quality: result.quality,\r\n        authority: result.authority,\r\n        currency: result.currency,\r\n        recommendedUse: result.recommendedUse,\r\n        verificationNotes: result.verificationNotes\r\n      })),\r\n      durationMs: round.durationMs,\r\n      sufficiencyEvaluation: round.sufficiencyEvaluation\r\n    }))\r\n\r\n    // Usar funci√≥n de s√≠ntesis unificada\r\n    const result = await synthesizeLegalResponse({\r\n      client,\r\n      model,\r\n      userQuery: originalQuery,\r\n      sources: legalSources,\r\n      researchRounds,\r\n      synthesisType: 'comprehensive',\r\n      includeMetadata: true,\r\n      includeWarnings: true,\r\n      temperature: 0.2,\r\n      maxTokens: 4000\r\n    })\r\n\r\n    if (result.success) {\r\n      return result.content\r\n    } else {\r\n      console.error('Error in final synthesis:', result.error)\r\n      return `Error generando s√≠ntesis: ${result.error || 'Error desconocido'}`\r\n    }\r\n  } catch (error) {\r\n    console.error('Error generando s√≠ntesis final:', error)\r\n    return `Error generando s√≠ntesis: ${error instanceof Error ? error.message : 'Error desconocido'}`\r\n  }\r\n}\r\n\r\nasync function planResearchStrategy(\r\n  client: OpenAI,\r\n  model: string,\r\n  userQuery: string\r\n): Promise<{\r\n  complexity: 'simple' | 'compleja' | 'muy_compleja'\r\n  estimatedRounds: number\r\n  researchAreas: string[]\r\n  searchQueries: string[]\r\n}> {\r\n  const planningPrompt = RESEARCH_PLANNING_PROMPT.replace('{query}', userQuery)\r\n  \r\n  try {\r\n    const response = await client.chat.completions.create({\r\n      model,\r\n      messages: [{ role: 'user', content: planningPrompt }],\r\n      temperature: 0.2,\r\n      max_tokens: 3000\r\n    })\r\n\r\n    const content = response.choices[0]?.message?.content || ''\r\n    return parseResearchPlan(content)\r\n  } catch (error) {\r\n    console.error('Error planificando investigaci√≥n:', error)\r\n    \r\n    return {\r\n      complexity: 'compleja',\r\n      estimatedRounds: 3,\r\n      researchAreas: ['Derecho general'],\r\n      searchQueries: [userQuery]\r\n    }\r\n  }\r\n}\r\n\r\nfunction removeDuplicateSources(sources: ResearchSource[]): ResearchSource[] {\r\n  const seen = new Set<string>()\r\n  return sources.filter(source => {\r\n    const key = source.url.toLowerCase()\r\n    if (seen.has(key)) {\r\n      return false\r\n    }\r\n    seen.add(key)\r\n    return true\r\n  })\r\n}\r\n\r\nfunction normalizeQueryKey(query: string): string {\r\n  return query.toLowerCase().trim().replace(/\\s+/g, ' ')\r\n}\r\n\r\nfunction analyzeEvidenceSummary(sources: ResearchSource[]): EvidenceSummary {\r\n  const officialSources = sources.filter(s => s.type === 'official').length\r\n  const academicSources = sources.filter(s => s.type === 'academic').length\r\n  const newsSources = sources.filter(s => s.type === 'news').length\r\n  const generalSources = sources.filter(s => s.type === 'general').length\r\n  const averageQuality = sources.length > 0 ? sources.reduce((sum, s) => sum + s.quality, 0) / sources.length : 0\r\n  const highQualitySources = sources.filter(s => s.quality >= 7).length\r\n  \r\n  const coverageAreas = sources.map(s => s.title.toLowerCase()).slice(0, 10)\r\n  \r\n  return {\r\n    totalSources: sources.length,\r\n    officialSources,\r\n    academicSources,\r\n    newsSources,\r\n    generalSources,\r\n    averageQuality,\r\n    highQualitySources,\r\n    coverageAreas\r\n  }\r\n}\r\n\r\nfunction enforceEvidenceThresholds(\r\n  evaluation: ReturnType<typeof parseSufficiencyEvaluation>,\r\n  evidenceSummary: EvidenceSummary,\r\n  originalQuery: string\r\n): ReturnType<typeof parseSufficiencyEvaluation> {\r\n  const issues: string[] = []\r\n  const missingInfo: string[] = []\r\n  const additionalQueries: Array<{query: string, priority: 'alta' | 'media' | 'baja', reason: string}> = []\r\n  \r\n  if (evidenceSummary.officialSources < 2) {\r\n    issues.push(`Solo ${evidenceSummary.officialSources} fuentes oficiales encontradas (m√≠nimo requerido: 2)`)\r\n    missingInfo.push('M√°s fuentes oficiales del gobierno colombiano')\r\n    additionalQueries.push({\r\n      query: `${originalQuery} sitio:gov.co`,\r\n      priority: 'alta',\r\n      reason: 'Refuerzo de fuentes oficiales'\r\n    })\r\n  }\r\n  \r\n  const explicitArticles = evidenceSummary.coverageAreas.filter(area => \r\n    area.includes('art√≠culo') || area.includes('ley') || area.includes('decreto')\r\n  ).length\r\n  \r\n  if (explicitArticles < 1) {\r\n    issues.push('No se encontraron art√≠culos o leyes expl√≠citas')\r\n    missingInfo.push('Referencias espec√≠ficas a art√≠culos de ley')\r\n    additionalQueries.push({\r\n      query: `${originalQuery} art√≠culo ley decreto`,\r\n      priority: 'alta',\r\n      reason: 'B√∫squeda de art√≠culos espec√≠ficos'\r\n    })\r\n  }\r\n  \r\n  const jurisprudenceSources = evidenceSummary.coverageAreas.filter(area => \r\n    area.includes('sentencia') || area.includes('jurisprudencia') || area.includes('corte')\r\n  ).length\r\n  \r\n  if (jurisprudenceSources < 1) {\r\n    issues.push('No se encontr√≥ jurisprudencia relevante')\r\n    missingInfo.push('Sentencias o jurisprudencia relacionada')\r\n    additionalQueries.push({\r\n      query: `${originalQuery} sentencia jurisprudencia corte`,\r\n      priority: 'media',\r\n      reason: 'B√∫squeda de jurisprudencia'\r\n    })\r\n  }\r\n  \r\n  const doctrineSources = evidenceSummary.coverageAreas.filter(area => \r\n    area.includes('doctrina') || area.includes('acad√©mico') || area.includes('universidad')\r\n  ).length\r\n  \r\n  if (doctrineSources < 1) {\r\n    issues.push('No se encontr√≥ doctrina acad√©mica')\r\n    missingInfo.push('An√°lisis doctrinal o acad√©mico')\r\n    additionalQueries.push({\r\n      query: `${originalQuery} doctrina acad√©mico universidad`,\r\n      priority: 'media',\r\n      reason: 'B√∫squeda de doctrina'\r\n    })\r\n  }\r\n  \r\n  let adjustedScore = evaluation.totalScore\r\n  if (issues.length > 0) {\r\n    adjustedScore = Math.max(0, adjustedScore - (issues.length * 15))\r\n  }\r\n  \r\n  return {\r\n    ...evaluation,\r\n    totalScore: adjustedScore,\r\n    isSufficient: adjustedScore >= 70 && issues.length === 0,\r\n    missingInfo: [...evaluation.missingInfo, ...missingInfo],\r\n    qualityIssues: [...evaluation.qualityIssues, ...issues],\r\n    needsMoreSearch: issues.length > 0 || evaluation.needsMoreSearch,\r\n    additionalQueries: [...(evaluation.additionalQueries || []), ...additionalQueries]\r\n  }\r\n}\r\n\r\nfunction buildMandatoryLegalQueries(query: string): string[] {\r\n  const baseQuery = query.toLowerCase()\r\n  const mandatoryQueries: string[] = []\r\n  \r\n  mandatoryQueries.push(`${query} sitio:corteconstitucional.gov.co`)\r\n  mandatoryQueries.push(`${query} sitio:consejodeestado.gov.co`)\r\n  mandatoryQueries.push(`${query} sitio:suin-juriscol.gov.co`)\r\n  \r\n  if (baseQuery.includes('constitucional') || baseQuery.includes('derechos')) {\r\n    mandatoryQueries.push(`${query} sitio:corteconstitucional.gov.co derechos fundamentales`)\r\n  }\r\n  \r\n  if (baseQuery.includes('administrativo') || baseQuery.includes('estado')) {\r\n    mandatoryQueries.push(`${query} sitio:consejodeestado.gov.co derecho administrativo`)\r\n  }\r\n  \r\n  if (baseQuery.includes('civil') || baseQuery.includes('comercial')) {\r\n    mandatoryQueries.push(`${query} sitio:ramajudicial.gov.co derecho civil`)\r\n  }\r\n  \r\n  if (baseQuery.includes('penal') || baseQuery.includes('criminal')) {\r\n    mandatoryQueries.push(`${query} sitio:fiscalia.gov.co derecho penal`)\r\n  }\r\n  \r\n  return mandatoryQueries\r\n}\r\n\r\nfunction parseResearchPlan(content: string): {\r\n  complexity: 'simple' | 'compleja' | 'muy_compleja'\r\n  estimatedRounds: number\r\n  researchAreas: string[]\r\n  searchQueries: string[]\r\n} {\r\n  try {\r\n    const jsonContent = extractJson(content)\r\n    const parsed = JSON.parse(jsonContent)\r\n    \r\n    return {\r\n      complexity: parsed.complexity || 'compleja',\r\n      estimatedRounds: parsed.estimatedRounds || 3,\r\n      researchAreas: parsed.researchAreas || ['Derecho general'],\r\n      searchQueries: parsed.searchQueries || []\r\n    }\r\n  } catch (error) {\r\n    console.error('Error parseando plan de investigaci√≥n:', error)\r\n    \r\n    return {\r\n      complexity: 'compleja',\r\n      estimatedRounds: 3,\r\n      researchAreas: ['Derecho general'],\r\n      searchQueries: []\r\n    }\r\n  }\r\n}\r\n\r\nfunction parseQueryGeneration(content: string): {\r\n  additionalQueries: string[]\r\n} {\r\n  try {\r\n    const jsonContent = extractJson(content)\r\n    const parsed = JSON.parse(jsonContent)\r\n    \r\n    return {\r\n      additionalQueries: parsed.additionalQueries || []\r\n    }\r\n  } catch (error) {\r\n    console.error('Error parseando generaci√≥n de consultas:', error)\r\n    \r\n    return {\r\n      additionalQueries: []\r\n    }\r\n  }\r\n}\r\n\r\nfunction parseSourceVerification(content: string): {\r\n  sources: Array<{\r\n    verificationNotes: string\r\n    authority: 'maxima' | 'alta' | 'media' | 'baja' | 'minima'\r\n    currency: 'actualizada' | 'desactualizada' | 'desconocida'\r\n    recommendedUse: 'cita_principal' | 'secundaria' | 'contextual' | 'no_usar'\r\n  }>\r\n} {\r\n  try {\r\n    const jsonContent = extractJson(content)\r\n    const parsed = JSON.parse(jsonContent)\r\n    \r\n    return {\r\n      sources: parsed.sources || []\r\n    }\r\n  } catch (error) {\r\n    console.error('Error parseando verificaci√≥n de fuentes:', error)\r\n    \r\n    return {\r\n      sources: []\r\n    }\r\n  }\r\n}\r\n\r\nfunction parseSufficiencyEvaluation(content: string): {\r\n  isSufficient: boolean\r\n  confidence: number\r\n  detailedScores: {\r\n    normativa: number\r\n    jurisprudencia: number\r\n    doctrina: number\r\n    actualidad: number\r\n    verificacion: number\r\n  }\r\n  totalScore: number\r\n  missingInfo: string[]\r\n  qualityIssues: string[]\r\n  needsMoreSearch: boolean\r\n  additionalQueries?: Array<{\r\n    query: string\r\n    priority: 'alta' | 'media' | 'baja'\r\n    reason: string\r\n  }>\r\n} {\r\n  try {\r\n    const jsonContent = extractJson(content)\r\n    const parsed = JSON.parse(jsonContent)\r\n    \r\n    return {\r\n      isSufficient: parsed.isSufficient || false,\r\n      confidence: parsed.confidence || 0.3,\r\n      detailedScores: parsed.detailedScores || {\r\n        normativa: 10,\r\n        jurisprudencia: 10,\r\n        doctrina: 10,\r\n        actualidad: 10,\r\n        verificacion: 10\r\n      },\r\n      totalScore: parsed.totalScore || 50,\r\n      missingInfo: parsed.missingInfo || [],\r\n      qualityIssues: parsed.qualityIssues || [],\r\n      needsMoreSearch: parsed.needsMoreSearch || true,\r\n      additionalQueries: parsed.additionalQueries || []\r\n    }\r\n  } catch (error) {\r\n    console.error('Error parseando evaluaci√≥n de suficiencia:', error)\r\n    \r\n    return {\r\n      isSufficient: false,\r\n      confidence: 0.3,\r\n      detailedScores: {\r\n        normativa: 10,\r\n        jurisprudencia: 10,\r\n        doctrina: 10,\r\n        actualidad: 10,\r\n        verificacion: 10\r\n      },\r\n      totalScore: 50,\r\n      missingInfo: ['Error en evaluaci√≥n'],\r\n      qualityIssues: ['Error en evaluaci√≥n'],\r\n      needsMoreSearch: true,\r\n      additionalQueries: []\r\n    }\r\n  }\r\n}\r\n\r\nfunction extractJson(content: string): string {\r\n  const start = content.indexOf(\"{\")\r\n  const end = content.lastIndexOf(\"}\")\r\n  if (start === -1 || end === -1 || end <= start) {\r\n    throw new Error(\"JSON no encontrado en el contenido\")\r\n  }\r\n  return content.slice(start, end + 1)\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}