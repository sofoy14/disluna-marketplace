{"version":3,"names":["cov_rcm8buuvd","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","branchMap","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage","exports","DYNAMIC_SEARCH_STRATEGY_PROMPT","DYNAMIC_SEARCH_DECISION_PROMPT","DYNAMIC_SEARCH_EVALUATION_PROMPT","DYNAMIC_SEARCH_SYNTHESIS_PROMPT"],"sources":["C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\tools\\dynamic-search-prompts.ts"],"sourcesContent":["/**\n * Sistema de prompts especializado para búsqueda dinámica inteligente\n * El modelo decide autónomamente cuántas veces buscar basándose en la calidad de la información\n */\n\nexport const DYNAMIC_SEARCH_STRATEGY_PROMPT = `\nEres un planificador estratégico de búsqueda jurídica experto. Analiza la consulta del usuario y genera un plan de búsqueda inicial inteligente.\n\nCONSULTA DEL USUARIO: {userQuery}\n\nINSTRUCCIONES ESPECÍFICAS:\n1. Analiza la complejidad jurídica de la consulta\n2. Identifica TODAS las áreas del derecho colombiano involucradas\n3. Determina qué información específica necesitas encontrar\n4. Planifica búsquedas exhaustivas para cada aspecto\n5. Considera diferentes perspectivas y ángulos del tema\n\nCONSIDERACIONES CRÍTICAS:\n- ¿Qué normas específicas aplican (Constitución, leyes, decretos)?\n- ¿Qué jurisprudencia es relevante (Corte Constitucional, Consejo de Estado, etc.)?\n- ¿Qué conceptos o doctrina especializada se necesita?\n- ¿Hay información actualizada o reformas recientes?\n- ¿Qué fuentes oficiales colombianas son indispensables?\n\nResponde en formato JSON:\n{\n  \"strategy\": \"descripción de la estrategia de búsqueda\",\n  \"queries\": [\n    \"consulta específica y precisa\",\n    \"consulta adicional con términos legales\",\n    \"consulta para jurisprudencia\",\n    \"consulta para doctrina\"\n  ],\n  \"rationale\": \"explicación detallada del por qué de este plan\"\n}\n`\n\nexport const DYNAMIC_SEARCH_DECISION_PROMPT = `\nEres un evaluador experto de suficiencia de información legal. Analiza los resultados de búsqueda obtenidos y decide AUTÓNOMAMENTE si necesitas más información para responder completamente la consulta.\n\nCONSULTA ORIGINAL: {originalQuery}\nINFORMACIÓN RECOPILADA: {collectedInfo}\n\nCRITERIOS DE EVALUACIÓN INTELIGENTE:\n\n1. **COMPLETUD NORMATIVA** (25%):\n   - ¿Tenemos todas las normas aplicables (Constitución, leyes, decretos)?\n   - ¿Hemos verificado la vigencia actual de cada norma?\n   - ¿Conocemos las últimas modificaciones o derogaciones?\n\n2. **JURISPRUDENCIA RELEVANTE** (25%):\n   - ¿Tenemos sentencias de altas cortes sobre el tema?\n   - ¿La jurisprudencia es reciente y vigente?\n   - ¿Hemos identificado precedentes aplicables?\n\n3. **DOCTRINA Y CONCEPTOS** (20%):\n   - ¿Tenemos análisis doctrinales especializados?\n   - ¿Hemos consultado conceptos de autoridades (DIAN, Superintendencias)?\n   - ¿Tenemos diferentes perspectivas académicas?\n\n4. **ACTUALIDAD Y RELEVANCIA** (15%):\n   - ¿Incluimos información actualizada si es relevante?\n   - ¿Hay reformas recientes que afecten la respuesta?\n   - ¿La información refleja el estado actual del derecho?\n\n5. **VERIFICACIÓN Y CALIDAD** (15%):\n   - ¿Las fuentes son oficiales y confiables?\n   - ¿Hemos corroborado información entre múltiples fuentes?\n   - ¿Hay contradicciones que necesiten resolverse?\n\nDECISIÓN AUTÓNOMA REQUERIDA:\n- ¿Podemos responder la consulta con certeza jurídica ABSOLUTA?\n- ¿Hay algún aspecto importante sin investigar completamente?\n- ¿Necesitamos información adicional para ser exhaustivos y precisos?\n\nIMPORTANTE: Eres completamente autónomo para decidir si continuar buscando. NO hay límites artificiales. \n- Si hay CUALQUIER duda sobre completitud, continúa buscando\n- Si faltan aspectos específicos de la consulta, continúa buscando  \n- Si la información no es completamente actualizada, continúa buscando\n- Si hay contradicciones entre fuentes, continúa buscando para resolverlas\n- Si la calidad de las fuentes no es máxima, continúa buscando fuentes mejores\n- SOLO para cuando tengas certeza absoluta de que puedes responder completamente y precisamente\n\nResponde en formato JSON:\n{\n  \"shouldContinue\": true/false,\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"explicación detallada de tu decisión con justificación\",\n  \"nextQueries\": [\n    {\n      \"query\": \"consulta específica adicional si decides continuar\",\n      \"type\": \"normativa|jurisprudencia|doctrina|actualidad|general\",\n      \"priority\": \"alta|media|baja\",\n      \"reason\": \"por qué necesitas esta búsqueda específica\"\n    }\n  ],\n  \"qualityAssessment\": {\n    \"completeness\": 0-10,\n    \"accuracy\": 0-10,\n    \"relevance\": 0-10,\n    \"authority\": 0-10,\n    \"overall\": 0-10\n  }\n}\n`\n\nexport const DYNAMIC_SEARCH_EVALUATION_PROMPT = `\nEres un generador experto de consultas de búsqueda legal colombiana. Basado en la información recopilada y las decisiones del modelo, genera consultas específicas y enfocadas para mejorar la calidad de la respuesta.\n\nINFORMACIÓN RECOPILADA: {collectedInfo}\nDECISIONES DEL MODELO: {modelDecisions}\nCONSULTA ORIGINAL: {originalQuery}\n\nDIRECTRICES AVANZADAS:\n\n1. **ESPECIFICIDAD MÁXIMA**:\n   - Usa términos legales colombianos exactos\n   - Incluye números de leyes, artículos si se conocen\n   - Sé preciso en el tipo de fuente que buscas\n\n2. **OPERADORES DE BÚSQUEDA**:\n   - Usa \"site:\" para fuentes oficiales\n   - Usa comillas para frases exactas\n   - Combina términos con operadores booleanos\n\n3. **ENFOQUE MULTIDIMENSIONAL**:\n   - Diferentes ángulos del mismo tema\n   - Perspectivas normativas vs jurisprudenciales\n   - Enfoques doctrinales vs prácticos\n\n4. **PRIORIZACIÓN INTELIGENTE**:\n   - Alta: Fuentes oficiales primarias\n   - Media: Análisis especializado\n   - Baja: Complementaria o contextual\n\nResponde en formato JSON:\n{\n  \"queries\": [\n    \"consulta específica con términos exactos\",\n    \"consulta adicional enfocada\",\n    \"consulta para llenar brechas identificadas\"\n  ],\n  \"searchStrategy\": \"explicación de la estrategia de búsqueda general\",\n  \"expectedResults\": \"qué tipo de información esperamos encontrar con estas consultas\"\n}\n`\n\nexport const DYNAMIC_SEARCH_SYNTHESIS_PROMPT = `\nEres un sintetizador jurídico experto. Con base en toda la información verificada y recopilada a través de múltiples rondas de búsqueda dinámica, genera una respuesta completa, precisa y bien estructurada.\n\nCONSULTA ORIGINAL: {originalQuery}\nINFORMACIÓN VERIFICADA: {verifiedInfo}\nFUENTES PRINCIPALES: {mainSources}\n\nINSTRUCCIONES DE SÍNTESIS:\n\n1. **ESTRUCTURA COMPLETA**:\n   - Planteamiento jurídico claro\n   - Marco normativo completo y jerarquizado\n   - Jurisprudencia relevante con análisis\n   - Doctrina especializada\n   - Conclusiones precisas\n   - Fuentes verificadas completas\n\n2. **PRECISIÓN JURÍDICA**:\n   - Cita exacta de normas y artículos\n   - Verificación de vigencia\n   - Jerarquía normativa clara\n   - Precedentes jurisprudenciales\n\n3. **COMPLETUD**:\n   - Todos los aspectos de la consulta cubiertos\n   - Diferentes perspectivas consideradas\n   - Contradicciones resueltas\n   - Información actualizada\n\n4. **VERIFICACIÓN**:\n   - Cada afirmación con fuente verificada\n   - Enlaces directos a fuentes oficiales\n   - Fecha de consulta\n   - Estado de vigencia\n\nGenera una respuesta profesional, completa y verificada que resuelva exhaustivamente la consulta del usuario.\n`\n"],"mappings":";;AAAA;;;;AAAA;AAAA,SAAAA,cAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;IAAA;IAAAE,KAAA;IAAAC,SAAA;IAAAC,CAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAAC,CAAA;IAAAC,CAAA;IAAAC,cAAA;MAAAC,IAAA;MAAAC,QAAA;MAAAC,KAAA;MAAAC,OAAA;MAAAC,cAAA;MAAAC,OAAA;IAAA;IAAAC,eAAA;IAAAtB,IAAA;EAAA;EAAA,IAAAuB,QAAA,GAAAtB,MAAA,CAAAE,GAAA,MAAAF,MAAA,CAAAE,GAAA;EAAA,KAAAoB,QAAA,CAAAxB,IAAA,KAAAwB,QAAA,CAAAxB,IAAA,EAAAC,IAAA,KAAAA,IAAA;IAAAuB,QAAA,CAAAxB,IAAA,IAAAK,YAAA;EAAA;EAAA,IAAAoB,cAAA,GAAAD,QAAA,CAAAxB,IAAA;EAAA;;;;;;;;;;;;;;;;;;AAKa0B,OAAA,CAAAC,8BAA8B,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA8B7C;AAAA;AAAA5B,aAAA,GAAAc,CAAA;AAEYa,OAAA,CAAAE,8BAA8B,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAmE7C;AAAA;AAAA7B,aAAA,GAAAc,CAAA;AAEYa,OAAA,CAAAG,gCAAgC,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAuC/C;AAAA;AAAA9B,aAAA,GAAAc,CAAA;AAEYa,OAAA,CAAAI,+BAA+B,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAoC9C","ignoreList":[]}