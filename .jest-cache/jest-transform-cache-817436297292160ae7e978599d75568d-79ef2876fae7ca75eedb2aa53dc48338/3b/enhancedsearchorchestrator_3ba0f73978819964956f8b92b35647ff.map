{"version":3,"names":["cov_10aoy7aw1o","actualCoverage","s","exports","executeEnhancedSearch","legal_search_specialized_1","require","web_search_1","EnhancedSearchOrchestrator","executeOrchestratedSearch","options","f","query","maxResults","b","includeOfficialSources","includeAcademicSources","includeGeneralSources","prioritizeFreshness","prioritizeAuthority","console","log","repeat","allResults","startTime","Date","now","serperResults","searchWithSerper","includeOfficial","includeAcademic","Math","floor","push","length","additionalSerperResults","searchWithAdditionalSerper","enrichedResults","enrichWithJinaAI","existingUrls","Set","map","r","url","newEnrichedResults","filter","has","optimizedResults","optimizeAndRankResults","totalDuration","toFixed","reduce","sum","quality","error","fallbackResults","min","searchResult","searchLegalSpecialized","prioritizeOfficial","prioritizeAcademic","results","result","content","extractUrlContent","title","description","source","calculateQuality","relevance","calculateRelevance","authority","calculateAuthority","freshness","calculateFreshness","publishedTime","metadata","author","domain","URL","hostname","searchEngine","extractionMethod","warn","urlsToEnrich","slice","uniqueResults","acc","existing","find","index","findIndex","scoredResults","score","includes","finalScore","rankedResults","sort","a","forEach","queryWords","toLowerCase","split","titleLower","descriptionLower","word","published","daysDiff","getTime","enhancedSearchOrchestrator"],"sources":["C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\tools\\enhanced-search-orchestrator.ts"],"sourcesContent":["// CONFIRMAR USO ANTES DE ELIMINACI√ìN - Orquestador redundante con unified-deep-research-orchestrator.ts\nimport { searchLegalSpecialized } from \"@/lib/tools/legal-search-specialized\"\nimport { extractUrlContent } from \"@/lib/tools/web-search\"\n\nexport interface EnhancedSearchResult {\n  title: string\n  url: string\n  description: string\n  content: string\n  source: 'serper' | 'firecrawl' | 'jina'\n  quality: number\n  relevance: number\n  authority: number\n  freshness: number\n  metadata: {\n    publishedTime?: string\n    author?: string\n    domain: string\n    searchEngine: string\n    extractionMethod: string\n  }\n}\n\nexport interface SearchOrchestrationOptions {\n  query: string\n  maxResults?: number\n  includeOfficialSources?: boolean\n  includeAcademicSources?: boolean\n  includeGeneralSources?: boolean\n  prioritizeFreshness?: boolean\n  prioritizeAuthority?: boolean\n}\n\n/**\n * Orquestador mejorado que combina Serper, FireCrawl Search v2 y Jina AI\n * para maximizar la calidad y precisi√≥n de las b√∫squedas\n */\nexport class EnhancedSearchOrchestrator {\n  \n  /**\n   * Ejecuta b√∫squeda orquestada con m√∫ltiples fuentes\n   */\n  async executeOrchestratedSearch(options: SearchOrchestrationOptions): Promise<EnhancedSearchResult[]> {\n    const {\n      query,\n      maxResults = 20,\n      includeOfficialSources = true,\n      includeAcademicSources = true,\n      includeGeneralSources = true,\n      prioritizeFreshness = true,\n      prioritizeAuthority = true\n    } = options\n\n    console.log(`\\nüîç ORQUESTACI√ìN MEJORADA DE B√öSQUEDA`)\n    console.log(`üìù Query: \"${query}\"`)\n    console.log(`üéØ M√°ximo resultados: ${maxResults}`)\n    console.log(`üèõÔ∏è Fuentes oficiales: ${includeOfficialSources ? 'S√ç' : 'NO'}`)\n    console.log(`üéì Fuentes acad√©micas: ${includeAcademicSources ? 'S√ç' : 'NO'}`)\n    console.log(`üåê Fuentes generales: ${includeGeneralSources ? 'S√ç' : 'NO'}`)\n    console.log(`${'='.repeat(80)}`)\n\n    const allResults: EnhancedSearchResult[] = []\n    const startTime = Date.now()\n\n    try {\n      // FASE 1: B√∫squeda con Serper (fuentes especializadas)\n      if (includeOfficialSources || includeAcademicSources) {\n        console.log(`\\nüîç FASE 1: B√öSQUEDA CON SERPER`)\n        const serperResults = await this.searchWithSerper(query, {\n          includeOfficial: includeOfficialSources,\n          includeAcademic: includeAcademicSources,\n          maxResults: Math.floor(maxResults * 0.4) // 40% de los resultados\n        })\n        allResults.push(...serperResults)\n        console.log(`‚úÖ Serper: ${serperResults.length} resultados`)\n      }\n\n      // FASE 2: B√∫squeda adicional con Serper (ya que FireCrawl no funciona)\n      if (includeGeneralSources) {\n        console.log(`\\nüîç FASE 2: B√öSQUEDA ADICIONAL CON SERPER`)\n        const additionalSerperResults = await this.searchWithAdditionalSerper(query, {\n          maxResults: Math.floor(maxResults * 0.4) // 40% de los resultados adicionales\n        })\n        allResults.push(...additionalSerperResults)\n        console.log(`‚úÖ Serper adicional: ${additionalSerperResults.length} resultados`)\n      }\n\n      // FASE 3: Enriquecimiento con Jina AI para URLs faltantes\n      console.log(`\\nü§ñ FASE 3: ENRIQUECIMIENTO CON JINA AI`)\n      const enrichedResults = await this.enrichWithJinaAI(allResults, {\n        maxResults: Math.floor(maxResults * 0.2) // 20% adicional\n      })\n      \n      // Agregar resultados enriquecidos que no est√©n duplicados\n      const existingUrls = new Set(allResults.map(r => r.url))\n      const newEnrichedResults = enrichedResults.filter(r => !existingUrls.has(r.url))\n      allResults.push(...newEnrichedResults)\n      console.log(`‚úÖ Jina AI: ${newEnrichedResults.length} resultados nuevos`)\n\n      // FASE 4: Optimizaci√≥n y ranking\n      console.log(`\\nüìä FASE 4: OPTIMIZACI√ìN Y RANKING`)\n      const optimizedResults = this.optimizeAndRankResults(allResults, {\n        prioritizeFreshness,\n        prioritizeAuthority,\n        maxResults\n      })\n\n      const totalDuration = Date.now() - startTime\n      console.log(`\\nüéØ ORQUESTACI√ìN COMPLETADA`)\n      console.log(`üìä Total resultados: ${optimizedResults.length}`)\n      console.log(`‚è±Ô∏è Duraci√≥n: ${(totalDuration / 1000).toFixed(1)}s`)\n      console.log(`üéØ Calidad promedio: ${(optimizedResults.reduce((sum, r) => sum + r.quality, 0) / optimizedResults.length).toFixed(1)}/10`)\n      console.log(`${'='.repeat(80)}`)\n\n      return optimizedResults\n\n    } catch (error) {\n      console.error('‚ùå Error en orquestaci√≥n de b√∫squeda:', error)\n      \n      // Fallback a b√∫squeda simple con Serper\n      console.log(`üîÑ Fallback a b√∫squeda simple con Serper`)\n      const fallbackResults = await this.searchWithSerper(query, {\n        includeOfficial: true,\n        includeAcademic: true,\n        maxResults: Math.min(maxResults, 10)\n      })\n      \n      return fallbackResults\n    }\n  }\n\n  /**\n   * B√∫squeda con Serper API\n   */\n  private async searchWithSerper(\n    query: string,\n    options: {\n      includeOfficial: boolean\n      includeAcademic: boolean\n      maxResults: number\n    }\n  ): Promise<EnhancedSearchResult[]> {\n    try {\n      const searchResult = await searchLegalSpecialized(query, {\n        maxResults: options.maxResults,\n        prioritizeOfficial: options.includeOfficial,\n        prioritizeAcademic: options.includeAcademic\n      })\n\n      const results: EnhancedSearchResult[] = []\n\n      for (const result of searchResult.results) {\n        try {\n          // Extraer contenido usando solo Jina AI\n          const content = await extractUrlContent(result.url)\n          \n          results.push({\n            title: result.title,\n            url: result.url,\n            description: result.description || '',\n            content: content || result.description || '',\n            source: 'serper',\n            quality: this.calculateQuality(result, content),\n            relevance: this.calculateRelevance(query, result.title, result.description),\n            authority: this.calculateAuthority(result.url),\n            freshness: this.calculateFreshness(result.publishedTime),\n            metadata: {\n              publishedTime: result.publishedTime,\n              author: result.author,\n              domain: new URL(result.url).hostname,\n              searchEngine: 'serper',\n              extractionMethod: content ? 'jina-ai' : 'description'\n            }\n          })\n        } catch (error) {\n          console.warn(`‚ö†Ô∏è Error procesando resultado Serper: ${result.url}`)\n        }\n      }\n\n      return results\n    } catch (error) {\n      console.error('‚ùå Error en b√∫squeda Serper:', error)\n      return []\n    }\n  }\n\n  /**\n   * B√∫squeda adicional con Serper (reemplaza FireCrawl que no funciona)\n   */\n  private async searchWithAdditionalSerper(\n    query: string,\n    options: { maxResults: number }\n  ): Promise<EnhancedSearchResult[]> {\n    try {\n      // Usar Serper para b√∫squedas generales adicionales\n      const searchResult = await searchLegalSpecialized(query, {\n        maxResults: options.maxResults,\n        prioritizeOfficial: false,\n        prioritizeAcademic: false\n      })\n\n      const results: EnhancedSearchResult[] = []\n\n      for (const result of searchResult.results) {\n        try {\n          // Extraer contenido usando solo Jina AI\n          const content = await extractUrlContent(result.url)\n          \n          results.push({\n            title: result.title,\n            url: result.url,\n            description: result.description || '',\n            content: content || result.description || '',\n            source: 'serper',\n            quality: this.calculateQuality(result, content),\n            relevance: this.calculateRelevance(query, result.title, result.description),\n            authority: this.calculateAuthority(result.url),\n            freshness: this.calculateFreshness(result.publishedTime),\n            metadata: {\n              publishedTime: result.publishedTime,\n              author: result.author,\n              domain: new URL(result.url).hostname,\n              searchEngine: 'serper-additional',\n              extractionMethod: content ? 'jina-ai' : 'description'\n            }\n          })\n        } catch (error) {\n          console.warn(`‚ö†Ô∏è Error procesando resultado Serper adicional: ${result.url}`)\n        }\n      }\n\n      return results\n    } catch (error) {\n      console.error('‚ùå Error en b√∫squeda Serper adicional:', error)\n      return []\n    }\n  }\n\n  /**\n   * Enriquecimiento con Jina AI para URLs sin contenido\n   */\n  private async enrichWithJinaAI(\n    results: EnhancedSearchResult[],\n    options: { maxResults: number }\n  ): Promise<EnhancedSearchResult[]> {\n    const enrichedResults: EnhancedSearchResult[] = []\n    const urlsToEnrich = results\n      .filter(r => !r.content || r.content.length < 100)\n      .slice(0, options.maxResults)\n\n    console.log(`ü§ñ Enriqueciendo ${urlsToEnrich.length} URLs con Jina AI`)\n\n    for (const result of urlsToEnrich) {\n      try {\n        const content = await extractUrlContent(result.url)\n        if (content && content.length > 100) {\n          enrichedResults.push({\n            ...result,\n            content,\n            source: 'jina' as const,\n            quality: Math.min(10, result.quality + 1), // Mejorar calidad por contenido\n            metadata: {\n              ...result.metadata,\n              extractionMethod: 'jina-ai-enhanced'\n            }\n          })\n        }\n      } catch (error) {\n        console.warn(`‚ö†Ô∏è Error enriqueciendo con Jina AI: ${result.url}`)\n      }\n    }\n\n    return enrichedResults\n  }\n\n  /**\n   * Optimiza y rankea los resultados\n   */\n  private optimizeAndRankResults(\n    results: EnhancedSearchResult[],\n    options: {\n      prioritizeFreshness: boolean\n      prioritizeAuthority: boolean\n      maxResults: number\n    }\n  ): EnhancedSearchResult[] {\n    // Eliminar duplicados por URL\n    const uniqueResults = results.reduce((acc, result) => {\n      const existing = acc.find(r => r.url === result.url)\n      if (!existing) {\n        acc.push(result)\n      } else if (result.quality > existing.quality) {\n        // Reemplazar con versi√≥n de mayor calidad\n        const index = acc.findIndex(r => r.url === result.url)\n        acc[index] = result\n      }\n      return acc\n    }, [] as EnhancedSearchResult[])\n\n    // Calcular score final\n    const scoredResults = uniqueResults.map(result => {\n      let score = result.quality * 0.3 + result.relevance * 0.3 + result.authority * 0.2 + result.freshness * 0.2\n      \n      // Bonificaciones\n      if (result.source === 'firecrawl') score += 0.5 // Bonus por FireCrawl\n      if (result.metadata.domain.includes('.gov.co')) score += 1.0 // Bonus por dominio oficial\n      if (result.metadata.domain.includes('.edu.co')) score += 0.8 // Bonus por dominio acad√©mico\n      if (result.content && result.content.length > 500) score += 0.3 // Bonus por contenido extenso\n      \n      return { ...result, finalScore: score }\n    })\n\n    // Ordenar por score final\n    const rankedResults = scoredResults\n      .sort((a, b) => b.finalScore - a.finalScore)\n      .slice(0, options.maxResults)\n\n    console.log(`üìä Resultados optimizados: ${rankedResults.length}`)\n    console.log(`üèÜ Top 3 resultados:`)\n    rankedResults.slice(0, 3).forEach((result, index) => {\n      console.log(`   ${index + 1}. ${result.title} (Score: ${result.finalScore.toFixed(2)})`)\n    })\n\n    return rankedResults\n  }\n\n  /**\n   * Calcula la calidad de un resultado Serper\n   */\n  private calculateQuality(result: any, content: string): number {\n    let quality = 5 // Base\n\n    if (content && content.length > 200) quality += 2\n    if (result.description && result.description.length > 100) quality += 1\n    if (result.publishedTime) quality += 1\n    if (result.author) quality += 1\n\n    return Math.min(10, quality)\n  }\n\n\n  /**\n   * Calcula la relevancia basada en la query\n   */\n  private calculateRelevance(query: string, title: string, description: string): number {\n    const queryWords = query.toLowerCase().split(' ')\n    const titleLower = title.toLowerCase()\n    const descriptionLower = description.toLowerCase()\n\n    let relevance = 0\n    queryWords.forEach(word => {\n      if (titleLower.includes(word)) relevance += 2\n      if (descriptionLower.includes(word)) relevance += 1\n    })\n\n    return Math.min(10, relevance)\n  }\n\n  /**\n   * Calcula la autoridad basada en el dominio\n   */\n  private calculateAuthority(url: string): number {\n    try {\n      const domain = new URL(url).hostname.toLowerCase()\n      \n      if (domain.includes('.gov.co')) return 9\n      if (domain.includes('.edu.co')) return 8\n      if (domain.includes('corteconstitucional')) return 9\n      if (domain.includes('minjusticia')) return 9\n      if (domain.includes('superintendencias')) return 8\n      if (domain.includes('congreso')) return 8\n      if (domain.includes('universidad')) return 7\n      if (domain.includes('academia')) return 6\n      \n      return 5 // Base para otros dominios\n    } catch {\n      return 3\n    }\n  }\n\n  /**\n   * Calcula la frescura basada en la fecha de publicaci√≥n\n   */\n  private calculateFreshness(publishedTime?: string): number {\n    if (!publishedTime) return 5\n\n    try {\n      const published = new Date(publishedTime)\n      const now = new Date()\n      const daysDiff = (now.getTime() - published.getTime()) / (1000 * 60 * 60 * 24)\n\n      if (daysDiff < 30) return 10\n      if (daysDiff < 90) return 8\n      if (daysDiff < 365) return 6\n      if (daysDiff < 730) return 4\n      \n      return 2\n    } catch {\n      return 5\n    }\n  }\n}\n\n/**\n * Instancia singleton del orquestador\n */\nexport const enhancedSearchOrchestrator = new EnhancedSearchOrchestrator()\n\n/**\n * Funci√≥n de conveniencia para b√∫squedas orquestadas\n */\nexport async function executeEnhancedSearch(\n  query: string,\n  options?: Partial<SearchOrchestrationOptions>\n): Promise<EnhancedSearchResult[]> {\n  return await enhancedSearchOrchestrator.executeOrchestratedSearch({\n    query,\n    maxResults: 20,\n    includeOfficialSources: true,\n    includeAcademicSources: true,\n    includeGeneralSources: true,\n    prioritizeFreshness: true,\n    prioritizeAuthority: true,\n    ...options\n  })\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}