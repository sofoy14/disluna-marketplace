{"version":3,"names":["cov_6obvfrqgm","actualCoverage","exports","createTongyiAgent","openai_1","s","__importDefault","require","enhanced_search_orchestrator_1","chat_memory_manager_1","anti_hallucination_system_1","TongyiAgent","client","memoryManager","antiHallucinationSystem","modelName","constructor","apiKey","f","default","baseURL","ChatMemoryManager","getInstance","createAntiHallucinationSystem","processQuery","userQuery","chatId","userId","options","startTime","Date","now","console","log","repeat","context","buildAgentContext","initialDecision","makeAgentDecision","action","confidence","toFixed","reasoning","searchResults","searchRounds","modelDecisions","b","searchStrategy","maxRounds","maxSearchRounds","maxResultsPerRound","prioritizeOfficial","prioritizeAcademic","prioritizeFreshness","executeAgenticSearch","response","generateAgenticResponse","processingTime","length","metadata","error","content","sources","totalSources","conversationHistory","getRelevantHistory","searchHistory","getSearchContext","previousSearches","userPreferences","preferredDetailLevel","preferredSources","enableAnalysis","enableRecommendations","currentSearchResults","previousDecisions","decisionPrompt","chat","completions","create","model","messages","role","temperature","max_tokens","choices","message","decision","JSON","parse","allResults","currentRound","roundResults","executeEnhancedSearch","maxResults","includeOfficialSources","includeAcademicSources","includeGeneralSources","push","shouldContinue","evaluateSearchSufficiency","Promise","resolve","setTimeout","uniqueResults","deduplicateResults","optimizedResults","optimizeSearchResults","results","evaluationPrompt","reduce","sum","r","quality","toLowerCase","includes","responsePrompt","map","result","index","title","url","source","authority","substring","join","type","searchEngine","relevance","factCheckResult","factCheckResponse","enableFactChecking","requireSources","maxConfidenceThreshold","enableSourceVerification","enableCrossValidation","isAccurate","applyCorrections","analysis","calculateResponseAnalysis","recommendations","generateRecommendations","warnings","generateEnhancedWarnings","seen","Set","filter","key","has","add","query","sort","a","scoreA","scoreB","slice","completeness","Math","min","accuracy","overall","some","domain","issues","freshness"],"sources":["C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\agents\\tongyi-agent-enhanced.ts"],"sourcesContent":["import OpenAI from \"openai\"\nimport { executeEnhancedSearch, EnhancedSearchResult } from \"@/lib/tools/enhanced-search-orchestrator\"\nimport { ChatMemoryManager } from \"@/lib/memory/chat-memory-manager\"\nimport { createAntiHallucinationSystem } from \"@/lib/anti-hallucination/anti-hallucination-system\"\n\nexport interface TongyiAgentDecision {\n  action: 'search' | 'respond' | 'clarify' | 'follow_up'\n  confidence: number\n  reasoning: string\n  searchStrategy?: {\n    maxRounds: number\n    maxResultsPerRound: number\n    prioritizeOfficial: boolean\n    prioritizeAcademic: boolean\n    prioritizeFreshness: boolean\n  }\n  responseStrategy?: {\n    includeSources: boolean\n    includeAnalysis: boolean\n    includeRecommendations: boolean\n    includeWarnings: boolean\n  }\n  nextSteps?: string[]\n}\n\nexport interface TongyiAgentContext {\n  userQuery: string\n  conversationHistory: any[]\n  searchHistory: any[]\n  userPreferences: {\n    preferredDetailLevel: 'brief' | 'detailed' | 'comprehensive'\n    preferredSources: 'official' | 'academic' | 'mixed'\n    enableAnalysis: boolean\n    enableRecommendations: boolean\n  }\n  currentSearchResults: EnhancedSearchResult[]\n  previousDecisions: TongyiAgentDecision[]\n}\n\nexport interface TongyiAgentResponse {\n  content: string\n  sources: Array<{\n    title: string\n    url: string\n    type: string\n    quality: number\n    relevance: number\n  }>\n  analysis?: {\n    completeness: number\n    accuracy: number\n    relevance: number\n    authority: number\n    overall: number\n  }\n  recommendations?: string[]\n  warnings?: string[]\n  metadata: {\n    searchRounds: number\n    totalSources: number\n    processingTime: number\n    modelDecisions: number\n    confidence: number\n  }\n}\n\n/**\n * Agente Tongyi 30B con capacidades ag√©nticas maximizadas\n * Implementa toma de decisiones aut√≥noma, b√∫squedas inteligentes y respuestas de alta calidad\n */\nexport class TongyiAgent {\n  private client: OpenAI\n  private memoryManager: ChatMemoryManager\n  private antiHallucinationSystem: any\n  private modelName: string = 'alibaba/tongyi-deepresearch-30b-a3b'\n\n  constructor(apiKey: string) {\n    this.client = new OpenAI({\n      apiKey,\n      baseURL: \"https://openrouter.ai/api/v1\"\n    })\n    this.memoryManager = ChatMemoryManager.getInstance()\n    this.antiHallucinationSystem = createAntiHallucinationSystem(apiKey)\n  }\n\n  /**\n   * Procesa una consulta del usuario con capacidades ag√©nticas completas\n   */\n  async processQuery(\n    userQuery: string,\n    chatId: string,\n    userId: string,\n    options?: {\n      maxSearchRounds?: number\n      enableAnalysis?: boolean\n      enableRecommendations?: boolean\n      preferredDetailLevel?: 'brief' | 'detailed' | 'comprehensive'\n    }\n  ): Promise<TongyiAgentResponse> {\n    const startTime = Date.now()\n    \n    console.log(`\\nü§ñ TONGYI AGENT 30B - PROCESAMIENTO AG√âNTICO`)\n    console.log(`üìù Query: \"${userQuery}\"`)\n    console.log(`üí¨ Chat ID: ${chatId}`)\n    console.log(`üë§ User ID: ${userId}`)\n    console.log(`${'='.repeat(80)}`)\n\n    try {\n      // FASE 1: An√°lisis inicial y toma de decisi√≥n\n      console.log(`\\nüß† FASE 1: AN√ÅLISIS INICIAL Y TOMA DE DECISI√ìN`)\n      const context = await this.buildAgentContext(userQuery, chatId, userId)\n      const initialDecision = await this.makeAgentDecision(context)\n      \n      console.log(`üéØ Decisi√≥n inicial: ${initialDecision.action}`)\n      console.log(`üìä Confianza: ${initialDecision.confidence.toFixed(2)}`)\n      console.log(`üí≠ Razonamiento: ${initialDecision.reasoning}`)\n\n      let searchResults: EnhancedSearchResult[] = []\n      let searchRounds = 0\n      let modelDecisions = 1\n\n      // FASE 2: Ejecuci√≥n de b√∫squedas si es necesario\n      if (initialDecision.action === 'search') {\n        console.log(`\\nüîç FASE 2: EJECUCI√ìN DE B√öSQUEDAS AG√âNTICAS`)\n        \n        const searchStrategy = initialDecision.searchStrategy || {\n          maxRounds: options?.maxSearchRounds || 8,\n          maxResultsPerRound: 12,\n          prioritizeOfficial: true,\n          prioritizeAcademic: true,\n          prioritizeFreshness: true\n        }\n\n        searchResults = await this.executeAgenticSearch(\n          userQuery,\n          context,\n          searchStrategy,\n          initialDecision\n        )\n        \n        searchRounds = searchStrategy.maxRounds\n        modelDecisions++\n      }\n\n      // FASE 3: Generaci√≥n de respuesta con an√°lisis\n      console.log(`\\nüìù FASE 3: GENERACI√ìN DE RESPUESTA AG√âNTICA`)\n      const response = await this.generateAgenticResponse(\n        userQuery,\n        context,\n        searchResults,\n        initialDecision,\n        options\n      )\n\n      const processingTime = Date.now() - startTime\n\n      console.log(`\\nüéØ PROCESAMIENTO AG√âNTICO COMPLETADO`)\n      console.log(`üìä Resumen:`)\n      console.log(`   üîç Rondas de b√∫squeda: ${searchRounds}`)\n      console.log(`   üìÑ Fuentes encontradas: ${searchResults.length}`)\n      console.log(`   üß† Decisiones del modelo: ${modelDecisions}`)\n      console.log(`   ‚è±Ô∏è Tiempo de procesamiento: ${(processingTime / 1000).toFixed(1)}s`)\n      console.log(`   üéØ Confianza final: ${response.metadata.confidence.toFixed(2)}`)\n      console.log(`${'='.repeat(80)}`)\n\n      return response\n\n    } catch (error) {\n      console.error('‚ùå Error en procesamiento ag√©ntico:', error)\n      \n      // Respuesta de fallback\n      return {\n        content: `Disculpe, hubo un error procesando su consulta. Por favor, intente reformular su pregunta de manera m√°s espec√≠fica.`,\n        sources: [],\n        metadata: {\n          searchRounds: 0,\n          totalSources: 0,\n          processingTime: Date.now() - startTime,\n          modelDecisions: 0,\n          confidence: 0.3\n        }\n      }\n    }\n  }\n\n  /**\n   * Construye el contexto del agente\n   */\n  private async buildAgentContext(\n    userQuery: string,\n    chatId: string,\n    userId: string\n  ): Promise<TongyiAgentContext> {\n    const conversationHistory = await this.memoryManager.getRelevantHistory(\n      chatId,\n      userId,\n      userQuery,\n      10\n    )\n\n    const searchHistory = await this.memoryManager.getSearchContext(chatId, userId)\n\n    return {\n      userQuery,\n      conversationHistory,\n      searchHistory: searchHistory.previousSearches,\n      userPreferences: {\n        preferredDetailLevel: 'comprehensive',\n        preferredSources: 'mixed',\n        enableAnalysis: true,\n        enableRecommendations: true\n      },\n      currentSearchResults: [],\n      previousDecisions: []\n    }\n  }\n\n  /**\n   * Toma una decisi√≥n ag√©ntica sobre c√≥mo proceder\n   */\n  private async makeAgentDecision(context: TongyiAgentContext): Promise<TongyiAgentDecision> {\n    const decisionPrompt = `\nEres un agente legal inteligente especializado en derecho colombiano con capacidades de investigaci√≥n aut√≥noma.\n\nCONTEXTO:\n- Consulta del usuario: \"${context.userQuery}\"\n- Historial de conversaci√≥n: ${context.conversationHistory.length} mensajes\n- Historial de b√∫squedas: ${context.searchHistory.length} b√∫squedas previas\n\nCAPACIDADES AG√âNTICAS:\n1. SEARCH: Realizar b√∫squedas web exhaustivas con m√∫ltiples fuentes\n2. RESPOND: Responder directamente bas√°ndose en conocimiento existente\n3. CLARIFY: Solicitar aclaraciones al usuario\n4. FOLLOW_UP: Hacer preguntas de seguimiento para profundizar\n\nCRITERIOS DE DECISI√ìN:\n- Si la consulta requiere informaci√≥n actualizada o espec√≠fica ‚Üí SEARCH\n- Si la consulta es general y tienes conocimiento suficiente ‚Üí RESPOND\n- Si la consulta es ambigua o incompleta ‚Üí CLARIFY\n- Si la consulta es compleja y necesita profundizaci√≥n ‚Üí FOLLOW_UP\n\nResponde en formato JSON:\n{\n  \"action\": \"search|respond|clarify|follow_up\",\n  \"confidence\": 0.0-1.0,\n  \"reasoning\": \"Explicaci√≥n detallada de la decisi√≥n\",\n  \"searchStrategy\": {\n    \"maxRounds\": 6-12,\n    \"maxResultsPerRound\": 8-15,\n    \"prioritizeOfficial\": true/false,\n    \"prioritizeAcademic\": true/false,\n    \"prioritizeFreshness\": true/false\n  },\n  \"responseStrategy\": {\n    \"includeSources\": true/false,\n    \"includeAnalysis\": true/false,\n    \"includeRecommendations\": true/false,\n    \"includeWarnings\": true/false\n  },\n  \"nextSteps\": [\"paso1\", \"paso2\", \"paso3\"]\n}\n`\n\n    try {\n      const response = await this.client.chat.completions.create({\n        model: this.modelName,\n        messages: [\n          {\n            role: \"system\",\n            content: decisionPrompt\n          },\n          {\n            role: \"user\",\n            content: `Analiza la consulta y toma una decisi√≥n ag√©ntica: \"${context.userQuery}\"`\n          }\n        ],\n        temperature: 0.3,\n        max_tokens: 1000\n      })\n\n      const content = response.choices[0]?.message?.content || '{}'\n      const decision = JSON.parse(content) as TongyiAgentDecision\n\n      return decision\n    } catch (error) {\n      console.error('‚ùå Error en toma de decisi√≥n:', error)\n      \n      // Decisi√≥n de fallback\n      return {\n        action: 'search',\n        confidence: 0.7,\n        reasoning: 'Fallback a b√∫squeda por error en decisi√≥n',\n        searchStrategy: {\n          maxRounds: 6,\n          maxResultsPerRound: 10,\n          prioritizeOfficial: true,\n          prioritizeAcademic: true,\n          prioritizeFreshness: true\n        }\n      }\n    }\n  }\n\n  /**\n   * Ejecuta b√∫squedas ag√©nticas con decisiones din√°micas\n   */\n  private async executeAgenticSearch(\n    userQuery: string,\n    context: TongyiAgentContext,\n    searchStrategy: TongyiAgentDecision['searchStrategy'],\n    initialDecision: TongyiAgentDecision\n  ): Promise<EnhancedSearchResult[]> {\n    const allResults: EnhancedSearchResult[] = []\n    let currentRound = 0\n\n    while (currentRound < searchStrategy!.maxRounds) {\n      currentRound++\n      console.log(`\\nüîç RONDA ${currentRound} DE B√öSQUEDA AG√âNTICA`)\n\n        // Ejecutar b√∫squeda con orquestador simplificado (solo Serper + Jina AI)\n        const roundResults = await executeEnhancedSearch(userQuery, {\n          maxResults: searchStrategy!.maxResultsPerRound,\n          includeOfficialSources: searchStrategy!.prioritizeOfficial,\n          includeAcademicSources: searchStrategy!.prioritizeAcademic,\n          includeGeneralSources: true, // Usar Serper adicional\n          prioritizeFreshness: searchStrategy!.prioritizeFreshness\n        })\n\n      allResults.push(...roundResults)\n      console.log(`‚úÖ Ronda ${currentRound}: ${roundResults.length} resultados`)\n\n      // Evaluar si necesitamos m√°s b√∫squedas\n      if (currentRound >= 3) {\n        const shouldContinue = await this.evaluateSearchSufficiency(\n          userQuery,\n          allResults,\n          context\n        )\n\n        if (!shouldContinue) {\n          console.log(`üéØ Informaci√≥n suficiente encontrada en ronda ${currentRound}`)\n          break\n        }\n      }\n\n      // Pausa entre rondas para evitar rate limiting\n      if (currentRound < searchStrategy!.maxRounds) {\n        await new Promise(resolve => setTimeout(resolve, 1000))\n      }\n    }\n\n    // Eliminar duplicados y optimizar resultados\n    const uniqueResults = this.deduplicateResults(allResults)\n    const optimizedResults = this.optimizeSearchResults(uniqueResults, userQuery)\n\n    console.log(`üìä Total resultados √∫nicos: ${optimizedResults.length}`)\n    return optimizedResults\n  }\n\n  /**\n   * Eval√∫a si la informaci√≥n encontrada es suficiente\n   */\n  private async evaluateSearchSufficiency(\n    userQuery: string,\n    results: EnhancedSearchResult[],\n    context: TongyiAgentContext\n  ): Promise<boolean> {\n    const evaluationPrompt = `\nEres un agente legal evaluando la suficiencia de informaci√≥n encontrada.\n\nCONSULTA: \"${userQuery}\"\nRESULTADOS ENCONTRADOS: ${results.length} fuentes\nCALIDAD PROMEDIO: ${results.length > 0 ? (results.reduce((sum, r) => sum + r.quality, 0) / results.length).toFixed(1) : 0}/10\n\nCRITERIOS DE SUFICIENCIA:\n- ¬øTenemos informaci√≥n oficial sobre el tema?\n- ¬øTenemos informaci√≥n acad√©mica/jurisprudencial relevante?\n- ¬øLa informaci√≥n es actualizada y precisa?\n- ¬øPodemos responder completamente la consulta?\n\nResponde solo \"true\" si la informaci√≥n es suficiente, \"false\" si necesitamos m√°s b√∫squedas.\n`\n\n    try {\n      const response = await this.client.chat.completions.create({\n        model: this.modelName,\n        messages: [\n          {\n            role: \"system\",\n            content: evaluationPrompt\n          }\n        ],\n        temperature: 0.1,\n        max_tokens: 10\n      })\n\n      const content = response.choices[0]?.message?.content || 'false'\n      return content.toLowerCase().includes('true')\n    } catch (error) {\n      console.error('‚ùå Error en evaluaci√≥n de suficiencia:', error)\n      return results.length >= 15 // Fallback: suficiente si tenemos 15+ resultados\n    }\n  }\n\n  /**\n   * Genera respuesta ag√©ntica con an√°lisis completo\n   */\n  private async generateAgenticResponse(\n    userQuery: string,\n    context: TongyiAgentContext,\n    searchResults: EnhancedSearchResult[],\n    decision: TongyiAgentDecision,\n    options?: any\n  ): Promise<TongyiAgentResponse> {\n    const responsePrompt = `\nEres un asistente legal experto en derecho colombiano. Genera una respuesta completa y precisa bas√°ndote en la informaci√≥n proporcionada.\n\nCONSULTA: \"${userQuery}\"\n\nINFORMACI√ìN ENCONTRADA:\n${searchResults.map((result, index) => `\n${index + 1}. ${result.title}\n   URL: ${result.url}\n   Fuente: ${result.source}\n   Calidad: ${result.quality}/10\n   Autoridad: ${result.authority}/10\n   Contenido: ${result.content.substring(0, 500)}...\n`).join('\\n')}\n\nINSTRUCCIONES:\n1. Responde de manera completa y precisa\n2. Usa terminolog√≠a jur√≠dica apropiada\n3. Incluye referencias espec√≠ficas a art√≠culos, leyes y jurisprudencia\n4. Proporciona informaci√≥n pr√°ctica y aplicable\n5. Si hay informaci√≥n insuficiente, ind√≠calo claramente\n6. Responde en espa√±ol colombiano\n7. Incluye an√°lisis de la informaci√≥n cuando sea relevante\n8. Proporciona recomendaciones pr√°cticas cuando sea apropiado\n\nFORMATO DE RESPUESTA:\n- Introducci√≥n clara del tema\n- Desarrollo detallado con referencias legales\n- An√°lisis de la situaci√≥n actual\n- Recomendaciones pr√°cticas\n- Advertencias importantes si las hay\n- Conclusi√≥n resumida\n`\n\n    try {\n      const response = await this.client.chat.completions.create({\n        model: this.modelName,\n        messages: [\n          {\n            role: \"system\",\n            content: responsePrompt\n          },\n          {\n            role: \"user\",\n            content: `Genera una respuesta completa para: \"${userQuery}\"`\n          }\n        ],\n        temperature: 0.3,\n        max_tokens: 4000\n      })\n\n      let content = response.choices[0]?.message?.content || 'No se pudo generar respuesta'\n\n      // Procesar fuentes\n      const sources = searchResults.map(result => ({\n        title: result.title,\n        url: result.url,\n        type: result.metadata.searchEngine,\n        quality: result.quality,\n        relevance: result.relevance\n      }))\n\n      // VERIFICACI√ìN ANTI-ALUCINACI√ìN\n      console.log(`\\nüõ°Ô∏è VERIFICACI√ìN ANTI-ALUCINACI√ìN`)\n      const factCheckResult = await this.antiHallucinationSystem.factCheckResponse(\n        userQuery,\n        content,\n        searchResults.map(result => ({\n          title: result.title,\n          url: result.url,\n          content: result.content\n        })),\n        {\n          enableFactChecking: true,\n          requireSources: true,\n          maxConfidenceThreshold: 0.8,\n          enableSourceVerification: true,\n          enableCrossValidation: true\n        }\n      )\n\n      // Aplicar correcciones si es necesario\n      if (!factCheckResult.isAccurate || factCheckResult.confidence < 0.8) {\n        console.log(`üîß Aplicando correcciones anti-alucinaci√≥n`)\n        content = await this.antiHallucinationSystem.applyCorrections(\n          content,\n          factCheckResult,\n          searchResults.map(result => ({\n            title: result.title,\n            url: result.url,\n            content: result.content\n          }))\n        )\n      }\n\n      // Calcular an√°lisis\n      const analysis = this.calculateResponseAnalysis(searchResults, content)\n\n      // Generar recomendaciones\n      const recommendations = await this.generateRecommendations(userQuery, searchResults)\n\n      // Generar advertencias mejoradas\n      const warnings = await this.generateEnhancedWarnings(userQuery, searchResults, factCheckResult)\n\n      return {\n        content,\n        sources,\n        analysis,\n        recommendations,\n        warnings,\n        metadata: {\n          searchRounds: searchResults.length > 0 ? 1 : 0,\n          totalSources: sources.length,\n          processingTime: 0, // Se calcular√° externamente\n          modelDecisions: 1,\n          confidence: decision.confidence\n        }\n      }\n\n    } catch (error) {\n      console.error('‚ùå Error generando respuesta:', error)\n      \n      return {\n        content: `Disculpe, hubo un error generando la respuesta. Por favor, intente reformular su consulta.`,\n        sources: [],\n        metadata: {\n          searchRounds: 0,\n          totalSources: 0,\n          processingTime: 0,\n          modelDecisions: 0,\n          confidence: 0.3\n        }\n      }\n    }\n  }\n\n  /**\n   * Elimina resultados duplicados\n   */\n  private deduplicateResults(results: EnhancedSearchResult[]): EnhancedSearchResult[] {\n    const seen = new Set<string>()\n    return results.filter(result => {\n      const key = result.url.toLowerCase()\n      if (seen.has(key)) return false\n      seen.add(key)\n      return true\n    })\n  }\n\n  /**\n   * Optimiza los resultados de b√∫squeda\n   */\n  private optimizeSearchResults(results: EnhancedSearchResult[], query: string): EnhancedSearchResult[] {\n    return results\n      .sort((a, b) => {\n        // Priorizar por calidad, relevancia y autoridad\n        const scoreA = a.quality * 0.4 + a.relevance * 0.3 + a.authority * 0.3\n        const scoreB = b.quality * 0.4 + b.relevance * 0.3 + b.authority * 0.3\n        return scoreB - scoreA\n      })\n      .slice(0, 25) // Limitar a 25 resultados\n  }\n\n  /**\n   * Calcula an√°lisis de la respuesta\n   */\n  private calculateResponseAnalysis(results: EnhancedSearchResult[], content: string): TongyiAgentResponse['analysis'] {\n    const completeness = Math.min(10, results.length * 0.4 + (content.length > 1000 ? 3 : 0))\n    const accuracy = results.length > 0 ? results.reduce((sum, r) => sum + r.quality, 0) / results.length : 5\n    const relevance = results.length > 0 ? results.reduce((sum, r) => sum + r.relevance, 0) / results.length : 5\n    const authority = results.length > 0 ? results.reduce((sum, r) => sum + r.authority, 0) / results.length : 5\n    const overall = (completeness + accuracy + relevance + authority) / 4\n\n    return {\n      completeness,\n      accuracy,\n      relevance,\n      authority,\n      overall\n    }\n  }\n\n  /**\n   * Genera recomendaciones basadas en la consulta y resultados\n   */\n  private async generateRecommendations(\n    userQuery: string,\n    results: EnhancedSearchResult[]\n  ): Promise<string[]> {\n    // Implementaci√≥n b√°sica - se puede mejorar con IA\n    const recommendations: string[] = []\n    \n    if (results.some(r => r.metadata.domain.includes('.gov.co'))) {\n      recommendations.push('Consulte las fuentes oficiales para informaci√≥n actualizada')\n    }\n    \n    if (results.some(r => r.metadata.domain.includes('.edu.co'))) {\n      recommendations.push('Revise la jurisprudencia y doctrina acad√©mica para an√°lisis profundos')\n    }\n    \n    if (results.length > 10) {\n      recommendations.push('Considere consultar con un abogado especializado para casos espec√≠ficos')\n    }\n\n    return recommendations\n  }\n\n  /**\n   * Genera advertencias mejoradas basadas en la consulta, resultados y verificaci√≥n\n   */\n  private async generateEnhancedWarnings(\n    userQuery: string,\n    results: EnhancedSearchResult[],\n    factCheckResult: any\n  ): Promise<string[]> {\n    const warnings: string[] = []\n    \n    // Advertencias basadas en verificaci√≥n de hechos\n    if (!factCheckResult.isAccurate) {\n      warnings.push('‚ö†Ô∏è Esta respuesta ha sido verificada y puede contener informaci√≥n no completamente precisa')\n    }\n    \n    if (factCheckResult.confidence < 0.8) {\n      warnings.push('‚ö†Ô∏è Nivel de confianza bajo - consulte fuentes oficiales para confirmar')\n    }\n    \n    if (factCheckResult.issues && factCheckResult.issues.length > 0) {\n      warnings.push('‚ö†Ô∏è Se detectaron posibles inconsistencias en la informaci√≥n')\n    }\n    \n    // Advertencias basadas en fuentes\n    if (results.length < 5) {\n      warnings.push('‚ö†Ô∏è Informaci√≥n limitada encontrada - consulte fuentes adicionales')\n    }\n    \n    if (results.some(r => r.freshness < 5)) {\n      warnings.push('‚ö†Ô∏è Algunas fuentes pueden estar desactualizadas - verifique la vigencia')\n    }\n    \n    if (!results.some(r => r.metadata.domain.includes('.gov.co'))) {\n      warnings.push('‚ö†Ô∏è No se encontraron fuentes oficiales - consulte sitios gubernamentales')\n    }\n    \n    // Advertencias espec√≠ficas para consultas legales\n    if (userQuery.toLowerCase().includes('tributario') || userQuery.toLowerCase().includes('impuesto')) {\n      warnings.push('‚ö†Ô∏è Para asuntos tributarios, consulte directamente con la DIAN')\n    }\n    \n    if (userQuery.toLowerCase().includes('laboral') || userQuery.toLowerCase().includes('trabajo')) {\n      warnings.push('‚ö†Ô∏è Para asuntos laborales, consulte con el Ministerio del Trabajo')\n    }\n    \n    // Advertencia general\n    warnings.push('‚ö†Ô∏è Esta informaci√≥n es de car√°cter general - consulte con un abogado especializado para casos espec√≠ficos')\n    \n    return warnings\n  }\n}\n\n/**\n * Instancia singleton del agente Tongyi\n */\nexport function createTongyiAgent(apiKey: string): TongyiAgent {\n  return new TongyiAgent(apiKey)\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}