{"version":3,"names":["cov_26iu292owk","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage","exports","buildPrompt","buildResearchPrompt","buildSourceVerificationPrompt","buildSufficiencyPrompt","buildQueryGenerationPrompt","buildSynthesisPrompt","buildCustomPrompt","validatePrompt","LEGAL_PROMPT_TEMPLATES","RESEARCH_PLANNING","system","user","variables","SOURCE_VERIFICATION","INFORMATION_SUFFICIENCY","QUERY_GENERATION","FINAL_SYNTHESIS","template","context","userPrompt","forEach","variable","value","getContextValue","replace","query","JSON","stringify","previousRounds","length","evidenceSummary","rounds","Array","fill","systemTemplate","userTemplate","systemPrompt","Object","entries","key","placeholder","stringValue","String","RegExp","every"],"sources":["C:\\Users\\pedro\\Documents\\GitHub\\Asistente-Legal-Inteligente\\lib\\utils\\prompt-builder.ts"],"sourcesContent":["/**\r\n * Constructor de prompts legales\r\n * Centraliza la construcción de prompts para el asistente legal\r\n */\r\n\r\nexport interface PromptContext {\r\n  query: string\r\n  sources?: any[]\r\n  previousRounds?: any[]\r\n  evidenceSummary?: any\r\n  userPreferences?: any\r\n  researchMode?: 'react' | 'iter_research' | 'hybrid'\r\n}\r\n\r\nexport interface PromptTemplate {\r\n  system: string\r\n  user: string\r\n  variables: string[]\r\n}\r\n\r\n/**\r\n * Templates de prompts legales\r\n */\r\nexport const LEGAL_PROMPT_TEMPLATES = {\r\n  RESEARCH_PLANNING: {\r\n    system: `Eres un asistente legal experto especializado en derecho colombiano. Tu tarea es crear un plan de investigación exhaustivo para consultas legales complejas.\r\n\r\nDebes analizar la consulta y determinar:\r\n1. Complejidad (simple, compleja, muy_compleja)\r\n2. Número estimado de rondas de investigación\r\n3. Áreas de investigación específicas\r\n4. Consultas de búsqueda iniciales\r\n\r\nResponde en formato JSON con la siguiente estructura:\r\n{\r\n  \"complexity\": \"simple|compleja|muy_compleja\",\r\n  \"estimatedRounds\": number,\r\n  \"researchAreas\": string[],\r\n  \"searchQueries\": string[]\r\n}`,\r\n    user: \"Consulta legal: {query}\",\r\n    variables: ['query']\r\n  },\r\n\r\n  SOURCE_VERIFICATION: {\r\n    system: `Eres un experto en verificación de fuentes legales. Evalúa la calidad, autoridad y actualidad de las fuentes encontradas.\r\n\r\nPara cada fuente, determina:\r\n- authority: maxima|alta|media|baja|minima\r\n- currency: actualizada|desactualizada|desconocida  \r\n- recommendedUse: cita_principal|secundaria|contextual|no_usar\r\n- verificationNotes: notas sobre la verificación\r\n\r\nResponde en formato JSON:\r\n{\r\n  \"sources\": [\r\n    {\r\n      \"verificationNotes\": string,\r\n      \"authority\": string,\r\n      \"currency\": string,\r\n      \"recommendedUse\": string\r\n    }\r\n  ]\r\n}`,\r\n    user: \"Fuentes a verificar: {sources}\",\r\n    variables: ['sources']\r\n  },\r\n\r\n  INFORMATION_SUFFICIENCY: {\r\n    system: `Eres un evaluador experto de suficiencia de información legal. Determina si la información recopilada es suficiente para responder la consulta.\r\n\r\nEvalúa en estas dimensiones (0-20 puntos cada una):\r\n- normativa: Cobertura de leyes, decretos, reglamentos\r\n- jurisprudencia: Sentencias, precedentes judiciales\r\n- doctrina: Análisis académico y doctrinal\r\n- actualidad: Información actualizada y vigente\r\n- verificacion: Calidad y confiabilidad de fuentes\r\n\r\nResponde en formato JSON:\r\n{\r\n  \"isSufficient\": boolean,\r\n  \"confidence\": number (0-1),\r\n  \"detailedScores\": {\r\n    \"normativa\": number,\r\n    \"jurisprudencia\": number,\r\n    \"doctrina\": number,\r\n    \"actualidad\": number,\r\n    \"verificacion\": number\r\n  },\r\n  \"totalScore\": number (0-100),\r\n  \"missingInfo\": string[],\r\n  \"qualityIssues\": string[],\r\n  \"needsMoreSearch\": boolean,\r\n  \"additionalQueries\": [\r\n    {\r\n      \"query\": string,\r\n      \"priority\": \"alta|media|baja\",\r\n      \"reason\": string\r\n    }\r\n  ]\r\n}`,\r\n    user: `Consulta: {query}\r\nFuentes: {sources}\r\nResumen de evidencia: {evidenceSummary}\r\nRondas anteriores: {previousRounds}`,\r\n    variables: ['query', 'sources', 'evidenceSummary', 'previousRounds']\r\n  },\r\n\r\n  QUERY_GENERATION: {\r\n    system: `Eres un experto en generación de consultas de búsqueda legal. Basándote en la consulta original y las fuentes ya encontradas, genera consultas adicionales específicas para llenar las brechas de información.\r\n\r\nGenera consultas que:\r\n- Sean específicas y enfocadas\r\n- Busquen información faltante\r\n- Usen términos legales precisos\r\n- Incluyan sitios oficiales cuando sea apropiado\r\n\r\nResponde en formato JSON:\r\n{\r\n  \"additionalQueries\": string[]\r\n}`,\r\n    user: `Consulta original: {query}\r\nFuentes actuales: {sources}\r\nNúmero de rondas: {rounds}`,\r\n    variables: ['query', 'sources', 'rounds']\r\n  },\r\n\r\n  FINAL_SYNTHESIS: {\r\n    system: `Eres un asistente legal experto. Genera una síntesis final completa y profesional de la investigación realizada.\r\n\r\nLa síntesis debe incluir:\r\n1. Respuesta directa a la consulta\r\n2. Fundamentación legal con referencias específicas\r\n3. Análisis de la normativa aplicable\r\n4. Jurisprudencia relevante\r\n5. Recomendaciones prácticas\r\n6. Advertencias sobre limitaciones\r\n\r\nUsa un tono profesional y preciso. Incluye referencias específicas a artículos, leyes y sentencias.`,\r\n    user: `Consulta: {query}\r\nFuentes verificadas: {sources}\r\nRondas de investigación: {rounds}`,\r\n    variables: ['query', 'sources', 'rounds']\r\n  }\r\n} as const\r\n\r\n/**\r\n * Construye un prompt completo usando un template\r\n */\r\nexport function buildPrompt(\r\n  template: PromptTemplate,\r\n  context: PromptContext\r\n): { system: string; user: string } {\r\n  let userPrompt = template.user\r\n\r\n  // Reemplazar variables en el prompt del usuario\r\n  template.variables.forEach(variable => {\r\n    const value = getContextValue(context, variable)\r\n    userPrompt = userPrompt.replace(`{${variable}}`, value)\r\n  })\r\n\r\n  return {\r\n    system: template.system,\r\n    user: userPrompt\r\n  }\r\n}\r\n\r\n/**\r\n * Obtiene un valor del contexto\r\n */\r\nfunction getContextValue(context: PromptContext, variable: string): string {\r\n  switch (variable) {\r\n    case 'query':\r\n      return context.query || ''\r\n    case 'sources':\r\n      return JSON.stringify(context.sources || [], null, 2)\r\n    case 'previousRounds':\r\n      return JSON.stringify(context.previousRounds?.length || 0)\r\n    case 'evidenceSummary':\r\n      return JSON.stringify(context.evidenceSummary || {}, null, 2)\r\n    case 'rounds':\r\n      return JSON.stringify(context.previousRounds?.length || 0)\r\n    default:\r\n      return ''\r\n  }\r\n}\r\n\r\n/**\r\n * Construye un prompt de investigación\r\n */\r\nexport function buildResearchPrompt(query: string): { system: string; user: string } {\r\n  return buildPrompt(LEGAL_PROMPT_TEMPLATES.RESEARCH_PLANNING, { query })\r\n}\r\n\r\n/**\r\n * Construye un prompt de verificación de fuentes\r\n */\r\nexport function buildSourceVerificationPrompt(sources: any[]): { system: string; user: string } {\r\n  return buildPrompt(LEGAL_PROMPT_TEMPLATES.SOURCE_VERIFICATION, { \r\n    query: '', \r\n    sources \r\n  })\r\n}\r\n\r\n/**\r\n * Construye un prompt de evaluación de suficiencia\r\n */\r\nexport function buildSufficiencyPrompt(\r\n  query: string,\r\n  sources: any[],\r\n  evidenceSummary: any,\r\n  previousRounds: any[]\r\n): { system: string; user: string } {\r\n  return buildPrompt(LEGAL_PROMPT_TEMPLATES.INFORMATION_SUFFICIENCY, {\r\n    query,\r\n    sources,\r\n    evidenceSummary,\r\n    previousRounds\r\n  })\r\n}\r\n\r\n/**\r\n * Construye un prompt de generación de consultas\r\n */\r\nexport function buildQueryGenerationPrompt(\r\n  query: string,\r\n  sources: any[],\r\n  rounds: number\r\n): { system: string; user: string } {\r\n  return buildPrompt(LEGAL_PROMPT_TEMPLATES.QUERY_GENERATION, {\r\n    query,\r\n    sources,\r\n    previousRounds: Array(rounds).fill(null)\r\n  })\r\n}\r\n\r\n/**\r\n * Construye un prompt de síntesis final\r\n */\r\nexport function buildSynthesisPrompt(\r\n  query: string,\r\n  sources: any[],\r\n  rounds: any[]\r\n): { system: string; user: string } {\r\n  return buildPrompt(LEGAL_PROMPT_TEMPLATES.FINAL_SYNTHESIS, {\r\n    query,\r\n    sources,\r\n    previousRounds: rounds\r\n  })\r\n}\r\n\r\n/**\r\n * Construye un prompt personalizado\r\n */\r\nexport function buildCustomPrompt(\r\n  systemTemplate: string,\r\n  userTemplate: string,\r\n  context: Record<string, any>\r\n): { system: string; user: string } {\r\n  let systemPrompt = systemTemplate\r\n  let userPrompt = userTemplate\r\n\r\n  // Reemplazar variables en ambos prompts\r\n  Object.entries(context).forEach(([key, value]) => {\r\n    const placeholder = `{${key}}`\r\n    const stringValue = typeof value === 'object' ? JSON.stringify(value, null, 2) : String(value)\r\n    \r\n    systemPrompt = systemPrompt.replace(new RegExp(placeholder, 'g'), stringValue)\r\n    userPrompt = userPrompt.replace(new RegExp(placeholder, 'g'), stringValue)\r\n  })\r\n\r\n  return { system: systemPrompt, user: userPrompt }\r\n}\r\n\r\n/**\r\n * Valida que un prompt tenga todas las variables necesarias\r\n */\r\nexport function validatePrompt(template: PromptTemplate, context: PromptContext): boolean {\r\n  return template.variables.every(variable => {\r\n    const value = getContextValue(context, variable)\r\n    return value !== ''\r\n  })\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]}